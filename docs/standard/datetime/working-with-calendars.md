---
title: カレンダーの使用
ms.date: 04/01/2019
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET], calendars
- calendars, global applications
- global applications, calendars
- world-ready applications, calendars
- international applications [.NET], calendars
- culture, calendars
ms.assetid: 0c1534e5-979b-4c8a-a588-1c24301aefb3
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: a0113ef84c2b3e42f6d14d25747f7fdbb836a212
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2019
ms.locfileid: "59055314"
---
# <a name="working-with-calendars"></a><span data-ttu-id="107f7-102">カレンダーの使用</span><span class="sxs-lookup"><span data-stu-id="107f7-102">Working with calendars</span></span>

<span data-ttu-id="107f7-103">日時の値は特定の時点を表しますが、その文字列形式はカルチャに依存し、特定のカルチャで日時の値の表示に使用される規則と、そのカルチャで使用される暦の両方に応じて決まります。</span><span class="sxs-lookup"><span data-stu-id="107f7-103">Although a date and time value represents a moment in time, its string representation is culture-sensitive and depends both on the conventions used for displaying date and time values by a specific culture and on the calendar used by that culture.</span></span> <span data-ttu-id="107f7-104">このトピックでは、.NET でのカレンダーのサポートについて説明し、日付の値を使用する場合に、calendar クラスの使用について説明します。</span><span class="sxs-lookup"><span data-stu-id="107f7-104">This topic explores the support for calendars in .NET and discusses the use of the calendar classes when working with date values.</span></span>

## <a name="calendars-in-net"></a><span data-ttu-id="107f7-105">.NET で予定表</span><span class="sxs-lookup"><span data-stu-id="107f7-105">Calendars in .NET</span></span>

<span data-ttu-id="107f7-106">派生して .NET でのすべてのカレンダー、<xref:System.Globalization.Calendar?displayProperty=nameWithType>クラスを基本の暦の実装を提供します。</span><span class="sxs-lookup"><span data-stu-id="107f7-106">All calendars in .NET derive from the <xref:System.Globalization.Calendar?displayProperty=nameWithType> class, which provides the base calendar implementation.</span></span> <span data-ttu-id="107f7-107"><xref:System.Globalization.Calendar> クラスを継承するクラスの 1 つに <xref:System.Globalization.EastAsianLunisolarCalendar> クラスがあります。これは、すべての太陰太陽暦の基本クラスです。</span><span class="sxs-lookup"><span data-stu-id="107f7-107">One of the classes that inherits from the <xref:System.Globalization.Calendar> class is the <xref:System.Globalization.EastAsianLunisolarCalendar> class, which is the base class for all lunisolar calendars.</span></span> <span data-ttu-id="107f7-108">.NET には、次のカレンダー実装が含まれています。</span><span class="sxs-lookup"><span data-stu-id="107f7-108">.NET includes the following calendar implementations:</span></span>

* <span data-ttu-id="107f7-109"><xref:System.Globalization.ChineseLunisolarCalendar>。中国の太陰太陽暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-109"><xref:System.Globalization.ChineseLunisolarCalendar>, which represents the Chinese lunisolar calendar.</span></span>

* <span data-ttu-id="107f7-110"><xref:System.Globalization.GregorianCalendar>。グレゴリオ暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-110"><xref:System.Globalization.GregorianCalendar>, which represents the Gregorian calendar.</span></span> <span data-ttu-id="107f7-111">この暦は、<xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType> 列挙体で定義されるサブタイプ (アラビア語や中東フランス語など) にさらに分けられます。</span><span class="sxs-lookup"><span data-stu-id="107f7-111">This calendar is further divided into subtypes (such as Arabic and Middle East French) that are defined by the <xref:System.Globalization.GregorianCalendarTypes?displayProperty=nameWithType> enumeration.</span></span> <span data-ttu-id="107f7-112"><xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> プロパティは、グレゴリオ暦のサブタイプを指定します。</span><span class="sxs-lookup"><span data-stu-id="107f7-112">The <xref:System.Globalization.GregorianCalendar.CalendarType%2A?displayProperty=nameWithType> property specifies the subtype of the Gregorian calendar.</span></span>

* <span data-ttu-id="107f7-113"><xref:System.Globalization.HebrewCalendar>。ヘブライ暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-113"><xref:System.Globalization.HebrewCalendar>, which represents the Hebrew calendar.</span></span>

* <span data-ttu-id="107f7-114"><xref:System.Globalization.HijriCalendar>。回教暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-114"><xref:System.Globalization.HijriCalendar>, which represents the Hijri calendar.</span></span>

* <span data-ttu-id="107f7-115"><xref:System.Globalization.JapaneseCalendar>。和暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-115"><xref:System.Globalization.JapaneseCalendar>, which represents the Japanese calendar.</span></span>

* <span data-ttu-id="107f7-116"><xref:System.Globalization.JapaneseLunisolarCalendar>。日本の太陰太陽暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-116"><xref:System.Globalization.JapaneseLunisolarCalendar>, which represents the Japanese lunisolar calendar.</span></span>

* <span data-ttu-id="107f7-117"><xref:System.Globalization.JulianCalendar>。ユリウス暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-117"><xref:System.Globalization.JulianCalendar>, which represents the Julian calendar.</span></span>

* <span data-ttu-id="107f7-118"><xref:System.Globalization.KoreanCalendar>。韓国暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-118"><xref:System.Globalization.KoreanCalendar>, which represents the Korean calendar.</span></span>

* <span data-ttu-id="107f7-119"><xref:System.Globalization.KoreanLunisolarCalendar>。韓国の太陰太陽暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-119"><xref:System.Globalization.KoreanLunisolarCalendar>, which represents the Korean lunisolar calendar.</span></span>

* <span data-ttu-id="107f7-120"><xref:System.Globalization.PersianCalendar>。ペルシャ暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-120"><xref:System.Globalization.PersianCalendar>, which represents the Persian calendar.</span></span>

* <span data-ttu-id="107f7-121"><xref:System.Globalization.TaiwanCalendar>。台湾暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-121"><xref:System.Globalization.TaiwanCalendar>, which represents the Taiwan calendar.</span></span>

* <span data-ttu-id="107f7-122"><xref:System.Globalization.TaiwanLunisolarCalendar>。台湾の太陰太陽暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-122"><xref:System.Globalization.TaiwanLunisolarCalendar>, which represents the Taiwan lunisolar calendar.</span></span>

* <span data-ttu-id="107f7-123"><xref:System.Globalization.ThaiBuddhistCalendar>。タイ仏暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-123"><xref:System.Globalization.ThaiBuddhistCalendar>, which represents the Thai Buddhist calendar.</span></span>

* <span data-ttu-id="107f7-124"><xref:System.Globalization.UmAlQuraCalendar>。ウムアルクラ暦を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-124"><xref:System.Globalization.UmAlQuraCalendar>, which represents the Um Al Qura calendar.</span></span>

<span data-ttu-id="107f7-125">暦は、次の 2 とおりの方法で使用できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-125">A calendar can be used in one of two ways:</span></span>

* <span data-ttu-id="107f7-126">特定のカルチャで使用される暦として使用する。</span><span class="sxs-lookup"><span data-stu-id="107f7-126">As the calendar used by a specific culture.</span></span> <span data-ttu-id="107f7-127"><xref:System.Globalization.CultureInfo> オブジェクトにはそれぞれ、現在の暦 (オブジェクトで現在使用している暦) があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-127">Each <xref:System.Globalization.CultureInfo> object has a current calendar, which is the calendar that the object is currently using.</span></span> <span data-ttu-id="107f7-128">あらゆる日付と時刻の値の文字列形式には、現在のカルチャとその現在の暦が自動的に反映されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-128">The string representations of all date and time values automatically reflect the current culture and its current calendar.</span></span> <span data-ttu-id="107f7-129">通常、現在の暦は、カルチャの既定の暦になります。</span><span class="sxs-lookup"><span data-stu-id="107f7-129">Typically, the current calendar is the culture's default calendar.</span></span> <span data-ttu-id="107f7-130"><xref:System.Globalization.CultureInfo> オブジェクトは、カルチャで使用できるその他の暦を含む、オプションの暦もあります。</span><span class="sxs-lookup"><span data-stu-id="107f7-130"><xref:System.Globalization.CultureInfo> objects also have optional calendars, which include additional calendars that the culture can use.</span></span>

* <span data-ttu-id="107f7-131">特定のカルチャに依存しないスタンドアロンの暦として使用する。</span><span class="sxs-lookup"><span data-stu-id="107f7-131">As a standalone calendar independent of a specific culture.</span></span> <span data-ttu-id="107f7-132">この場合、暦が反映された値として日付を表すには、<xref:System.Globalization.Calendar> のメソッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="107f7-132">In this case, <xref:System.Globalization.Calendar> methods are used to express dates as values that reflect the calendar.</span></span>

<span data-ttu-id="107f7-133"><xref:System.Globalization.ChineseLunisolarCalendar>、<xref:System.Globalization.JapaneseLunisolarCalendar>、<xref:System.Globalization.JulianCalendar>、<xref:System.Globalization.KoreanLunisolarCalendar>、<xref:System.Globalization.PersianCalendar>、および <xref:System.Globalization.TaiwanLunisolarCalendar> の 6 つの Calendar クラスは、スタンドアロンの暦としてのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-133">Note that six calendar classes – <xref:System.Globalization.ChineseLunisolarCalendar>, <xref:System.Globalization.JapaneseLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, <xref:System.Globalization.KoreanLunisolarCalendar>, <xref:System.Globalization.PersianCalendar>, and <xref:System.Globalization.TaiwanLunisolarCalendar> – can be used only as standalone calendars.</span></span> <span data-ttu-id="107f7-134">これらは、どのカルチャでも、既定の暦またはオプションの暦としては使用されません。</span><span class="sxs-lookup"><span data-stu-id="107f7-134">They are not used by any culture as either the default calendar or as an optional calendar.</span></span>

## <a name="calendars-and-cultures"></a><span data-ttu-id="107f7-135">暦とカルチャ</span><span class="sxs-lookup"><span data-stu-id="107f7-135">Calendars and cultures</span></span>

<span data-ttu-id="107f7-136">各カルチャには既定の暦があり、<xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> プロパティで定義されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-136">Each culture has a default calendar, which is defined by the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="107f7-137"><xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> プロパティは、特定のカルチャでサポートされるすべての暦を指定する <xref:System.Globalization.Calendar> オブジェクトの配列を返します。これには、そのカルチャの既定の暦も含まれます。</span><span class="sxs-lookup"><span data-stu-id="107f7-137">The <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property returns an array of <xref:System.Globalization.Calendar> objects that specifies all the calendars supported by a particular culture, including that culture's default calendar.</span></span>

<span data-ttu-id="107f7-138"><xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> プロパティと <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> プロパティの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-138">The following example illustrates the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> properties.</span></span> <span data-ttu-id="107f7-139">この例では、タイ語 (タイ) と日本語 (日本) のカルチャの `CultureInfo` オブジェクトをそれぞれ作成し、それらの既定の暦とオプションの暦を表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-139">It creates `CultureInfo` objects for the Thai (Thailand) and Japanese (Japan) cultures and displays their default and optional calendars.</span></span> <span data-ttu-id="107f7-140">どちらについても、カルチャの既定の暦は <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> コレクションにも含まれます。</span><span class="sxs-lookup"><span data-stu-id="107f7-140">Note that in both cases, the culture's default calendar is also included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> collection.</span></span>

[!code-csharp[Conceptual.Calendars#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/calendarinfo1.cs#1)]
[!code-vb[Conceptual.Calendars#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/calendarinfo1.vb#1)]

<span data-ttu-id="107f7-141">特定の <xref:System.Globalization.CultureInfo> オブジェクトで現在使用されている暦は、カルチャの <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> プロパティで定義されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-141">The calendar currently in use by a particular <xref:System.Globalization.CultureInfo> object is defined by the culture's <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="107f7-142">カルチャの <xref:System.Globalization.DateTimeFormatInfo> オブジェクトは、<xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> プロパティから返されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-142">A culture's <xref:System.Globalization.DateTimeFormatInfo> object is returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="107f7-143">カルチャの作成時の既定値は <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> プロパティの値と同じですが、</span><span class="sxs-lookup"><span data-stu-id="107f7-143">When a culture is created, its default value is the same as the value of the <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="107f7-144">カルチャの現在の暦は、<xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> プロパティから返される配列に含まれる任意の暦に変更することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-144">However, you can change the culture's current calendar to any calendar contained in the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="107f7-145">現在の暦を <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> プロパティの値に含まれない暦に設定しようとすると、<xref:System.ArgumentException> がスローされます。</span><span class="sxs-lookup"><span data-stu-id="107f7-145">If you try to set the current calendar to a calendar that is not included in the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property value, an <xref:System.ArgumentException> is thrown.</span></span>

<span data-ttu-id="107f7-146">アラビア語 (サウジアラビア) のカルチャで使用する暦を変更する例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-146">The following example changes the calendar used by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="107f7-147">まず、<xref:System.DateTime> 値をインスタンス化し、現在のカルチャ (この例では英語 (米国)) と現在のカルチャの暦 (この例ではグレゴリオ暦) を使用して日付を表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-147">It first instantiates a <xref:System.DateTime> value and displays it using the current culture - which, in this case, is English (United States) - and the current culture's calendar (which, in this case, is the Gregorian calendar).</span></span> <span data-ttu-id="107f7-148">次に、現在のカルチャをアラビア語 (サウジアラビア) に変更し、そのカルチャの既定のウムアルクラ暦を使用して日付を表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-148">Next, it changes the current culture to Arabic (Saudi Arabia) and displays the date using its default Um Al-Qura calendar.</span></span> <span data-ttu-id="107f7-149">さらに、`CalendarExists` メソッドを呼び出して、アラビア語 (サウジアラビア) のカルチャで回教暦がサポートされているかどうかを判別します。</span><span class="sxs-lookup"><span data-stu-id="107f7-149">It then calls the `CalendarExists` method to determine whether the Hijri calendar is supported by the Arabic (Saudi Arabia) culture.</span></span> <span data-ttu-id="107f7-150">この暦はサポートされているため、現在の暦を回教暦に変更し、日付をもう一度表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-150">Because the calendar is supported, it changes the current calendar to Hijri and again displays the date.</span></span> <span data-ttu-id="107f7-151">いずれの場合も、日付は、現在のカルチャの現在の暦を使用して表示されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-151">Note that in each case, the date is displayed using the current culture's current calendar.</span></span>

[!code-csharp[Conceptual.Calendars#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/changecalendar2.cs#2)]
[!code-vb[Conceptual.Calendars#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/changecalendar2.vb#2)]

## <a name="dates-and-calendars"></a><span data-ttu-id="107f7-152">日付と暦</span><span class="sxs-lookup"><span data-stu-id="107f7-152">Dates and calendars</span></span>

<span data-ttu-id="107f7-153"><xref:System.Globalization.Calendar> 型のパラメーターを含み、指定した暦の値を日付の要素 (月、日、および年) に反映できるコンストラクターは例外として、<xref:System.DateTime> と <xref:System.DateTimeOffset> の値は、どちらも常にグレゴリオ暦に基づきます。</span><span class="sxs-lookup"><span data-stu-id="107f7-153">With the exception of the constructors that include a parameter of type <xref:System.Globalization.Calendar> and allow the elements of a date (that is, the month, the day, and the year) to reflect values in a designated calendar, both <xref:System.DateTime> and <xref:System.DateTimeOffset> values are always based on the Gregorian calendar.</span></span> <span data-ttu-id="107f7-154">つまり、たとえば <xref:System.DateTime.Year%2A?displayProperty=nameWithType> プロパティはグレゴリオ暦の年を返し、<xref:System.DateTime.Day%2A?displayProperty=nameWithType> プロパティはグレゴリオ暦の月の日付を返します。</span><span class="sxs-lookup"><span data-stu-id="107f7-154">This means, for example, that the <xref:System.DateTime.Year%2A?displayProperty=nameWithType> property returns the year in the Gregorian calendar, and the <xref:System.DateTime.Day%2A?displayProperty=nameWithType> property returns the day of the month in the Gregorian calendar.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="107f7-155">日付の値とその文字列形式で処理が異なることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="107f7-155">It is important to remember that there is a difference between a date value and its string representation.</span></span> <span data-ttu-id="107f7-156">日付の値はグレゴリオ暦に基づき、文字列形式は特定のカルチャの現在の暦に基づきます。</span><span class="sxs-lookup"><span data-stu-id="107f7-156">The former is based on the Gregorian calendar; the latter is based on the current calendar of a specific culture.</span></span>

<span data-ttu-id="107f7-157">次の例は、<xref:System.DateTime> のプロパティと、それに対応する <xref:System.Globalization.Calendar> のメソッドの違いを示しています。</span><span class="sxs-lookup"><span data-stu-id="107f7-157">The following example illustrates this difference between <xref:System.DateTime> properties and their corresponding <xref:System.Globalization.Calendar> methods.</span></span> <span data-ttu-id="107f7-158">この例では、現在のカルチャはアラビア語 (エジプト)、現在の暦はウムアルクラ暦です。</span><span class="sxs-lookup"><span data-stu-id="107f7-158">In the example, the current culture is Arabic (Egypt), and the current calendar is Um Al Qura.</span></span> <span data-ttu-id="107f7-159"><xref:System.DateTime> 値は、2011 年の 7 番目の月の 15 番目の日に設定されています。</span><span class="sxs-lookup"><span data-stu-id="107f7-159">A <xref:System.DateTime> value is set to the fifteenth day of the seventh month of 2011.</span></span> <span data-ttu-id="107f7-160">この値は、明らかにグレゴリオ暦の日付と解釈されます。<xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> メソッドでインバリアント カルチャの規則を使用した場合に、これらと同じ値が返されるためです。</span><span class="sxs-lookup"><span data-stu-id="107f7-160">It is clear that this is interpreted as a Gregorian date, because these same values are returned by the <xref:System.DateTime.ToString%28System.String%2CSystem.IFormatProvider%29?displayProperty=nameWithType> method when it uses the conventions of the invariant culture.</span></span> <span data-ttu-id="107f7-161">現在のカルチャの規則を使用して書式指定された日付の文字列形式は 14/08/32 です。これは、この日付に相当するウムアルクラ暦の日付です。</span><span class="sxs-lookup"><span data-stu-id="107f7-161">The string representation of the date that is formatted using the conventions of the current culture is 14/08/32, which is the equivalent date in the Um Al Qura calendar.</span></span> <span data-ttu-id="107f7-162">次に、`DateTime` と `Calendar` のメンバーを使用して、<xref:System.DateTime> 値の日、月、および年が返されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-162">Next, members of `DateTime` and `Calendar` are used to return the day, the month, and the year of the <xref:System.DateTime> value.</span></span> <span data-ttu-id="107f7-163">いずれの場合も、<xref:System.DateTime> のメンバーから返される値にはグレゴリオ暦の値が反映され、<xref:System.Globalization.UmAlQuraCalendar> のメンバーから返される値にはウムアルクラ暦の値が反映されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-163">In each case, the values returned by <xref:System.DateTime> members reflect values in the Gregorian calendar, whereas values returned by <xref:System.Globalization.UmAlQuraCalendar> members reflect values in the Uum al-Qura calendar.</span></span>

[!code-csharp[Conceptual.Calendars#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/datesandcalendars2.cs#3)]
[!code-vb[Conceptual.Calendars#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/datesandcalendars2.vb#3)]

### <a name="instantiating-dates-based-on-a-calendar"></a><span data-ttu-id="107f7-164">カレンダーに基づく日付をインスタンス化します。</span><span class="sxs-lookup"><span data-stu-id="107f7-164">Instantiating dates based on a calendar</span></span>

<span data-ttu-id="107f7-165"><xref:System.DateTime> と <xref:System.DateTimeOffset> の値はグレゴリオ暦に基づくため、別の暦の日、月、または年の値を使用する場合は、<xref:System.Globalization.Calendar> 型のパラメーターを含むオーバーロードされたコンストラクターを呼び出して日付の値をインスタンス化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-165">Because <xref:System.DateTime> and <xref:System.DateTimeOffset> values are based on the Gregorian calendar, you must call an overloaded constructor that includes a parameter of type <xref:System.Globalization.Calendar> to instantiate a date value if you want to use the day, month, or year values from a different calendar.</span></span> <span data-ttu-id="107f7-166">また、特定の暦の <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> メソッドのいずれかのオーバーロードを呼び出して、特定の暦の値に基づいて <xref:System.DateTime> オブジェクトをインスタンス化することもできます。</span><span class="sxs-lookup"><span data-stu-id="107f7-166">You can also call one of the overloads of a specific calendar's <xref:System.Globalization.Calendar.ToDateTime%2A?displayProperty=nameWithType> method to instantiate a <xref:System.DateTime> object based on the values of a particular calendar.</span></span>

<span data-ttu-id="107f7-167">次の例では、<xref:System.DateTime> オブジェクトを <xref:System.Globalization.HebrewCalendar> コンストラクターに渡して 1 つの <xref:System.DateTime> 値をインスタンス化し、<xref:System.DateTime> メソッドを呼び出してもう 1 つの <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> 値をインスタンス化しています。</span><span class="sxs-lookup"><span data-stu-id="107f7-167">The following example instantiates one <xref:System.DateTime> value by passing a <xref:System.Globalization.HebrewCalendar> object to a <xref:System.DateTime> constructor, and instantiates a second <xref:System.DateTime> value by calling the <xref:System.Globalization.HebrewCalendar.ToDateTime%28System.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="107f7-168">2 つの値はヘブライ暦の同一の値を使用して作成されるため、<xref:System.DateTime.Equals%2A?displayProperty=nameWithType> メソッドを呼び出すと、2 つの <xref:System.DateTime> 値が等しいことが示されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-168">Because the two values are created with identical values from the Hebrew calendar, the call to the <xref:System.DateTime.Equals%2A?displayProperty=nameWithType> method shows that the two <xref:System.DateTime> values are equal.</span></span>

[!code-csharp[Conceptual.Calendars#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatehcdate1.cs#4)]
[!code-vb[Conceptual.Calendars#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatehcdate1.vb#4)]

### <a name="representing-dates-in-the-current-calendar"></a><span data-ttu-id="107f7-169">現在の暦で日付を表す</span><span class="sxs-lookup"><span data-stu-id="107f7-169">Representing dates in the current calendar</span></span>

<span data-ttu-id="107f7-170">日時書式指定メソッドでは、日付を文字列に変換する際に、常に現在の暦を使用します。</span><span class="sxs-lookup"><span data-stu-id="107f7-170">Date and time formatting methods always use the current calendar when converting dates to strings.</span></span> <span data-ttu-id="107f7-171">つまり、年、月、および日の文字列形式には現在の暦が反映され、必ずしもグレゴリオ暦が反映されるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="107f7-171">This means that the string representation of the year, the month, and the day of the month reflect the current calendar, and do not necessarily reflect the Gregorian calendar.</span></span>

<span data-ttu-id="107f7-172">次の例は、現在の暦が日付の文字列形式にどのように影響するかを示しています。</span><span class="sxs-lookup"><span data-stu-id="107f7-172">The following example shows how the current calendar affects the string representation of a date.</span></span> <span data-ttu-id="107f7-173">この例では、現在のカルチャを中国語 (繁体字、台湾) に変更し、日付の値をインスタンス化します。</span><span class="sxs-lookup"><span data-stu-id="107f7-173">It changes the current culture to Chinese (Traditional, Taiwan), and instantiates a date value.</span></span> <span data-ttu-id="107f7-174">その後、現在の暦と日付を表示し、現在の暦を <xref:System.Globalization.TaiwanCalendar> に変更して、現在の暦と日付をもう一度表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-174">It then displays the current calendar and the date, changes the current calendar to <xref:System.Globalization.TaiwanCalendar>, and displays the current calendar and date once again.</span></span> <span data-ttu-id="107f7-175">最初に日付を表示したときは、日付がグレゴリオ暦の日付として表され、</span><span class="sxs-lookup"><span data-stu-id="107f7-175">The first time the date is displayed, it is represented as a date in the Gregorian calendar.</span></span> <span data-ttu-id="107f7-176">2 回目に表示したときは、台湾暦の日付として表されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-176">The second time it is displayed, it is represented as a date in the Taiwan calendar.</span></span>

[!code-csharp[Conceptual.Calendars#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/currentcalendar1.cs#5)]
[!code-vb[Conceptual.Calendars#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/currentcalendar1.vb#5)]

### <a name="representing-dates-in-a-non-current-calendar"></a><span data-ttu-id="107f7-177">現在ではないカレンダーにおける日付を表す</span><span class="sxs-lookup"><span data-stu-id="107f7-177">Representing dates in a non-current calendar</span></span>

<span data-ttu-id="107f7-178">特定のカルチャの現在の暦以外の暦を使用して日付を表すには、その <xref:System.Globalization.Calendar> オブジェクトのメソッドを呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-178">To represent a date using a calendar that is not the current calendar of a particular culture, you must call methods of that <xref:System.Globalization.Calendar> object.</span></span> <span data-ttu-id="107f7-179">たとえば、<xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>、<xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>、および <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> の各メソッドは、それぞれ年、月、および日を、特定の暦を反映した値に変換します。</span><span class="sxs-lookup"><span data-stu-id="107f7-179">For example, the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods convert the year, month, and day to values that reflect a particular calendar.</span></span>

> [!WARNING]
> <span data-ttu-id="107f7-180">一部の暦はどのカルチャのオプションの暦にもなっていないため、そのような暦で日付を表す場合は、常に Calendar のメソッドを呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-180">Because some calendars are not optional calendars of any culture, representing dates in these calendars always requires that you call calendar methods.</span></span> <span data-ttu-id="107f7-181">これは、<xref:System.Globalization.EastAsianLunisolarCalendar> クラス、<xref:System.Globalization.JulianCalendar> クラス、および <xref:System.Globalization.PersianCalendar> クラスから派生したすべての暦に当てはまります。</span><span class="sxs-lookup"><span data-stu-id="107f7-181">This is true of all calendars that derive from the <xref:System.Globalization.EastAsianLunisolarCalendar>, <xref:System.Globalization.JulianCalendar>, and <xref:System.Globalization.PersianCalendar> classes.</span></span>

<span data-ttu-id="107f7-182">次の例では、<xref:System.Globalization.JulianCalendar> オブジェクトを使用して、ユリウス暦の 1905 年 1 月 9 日という日付をインスタンス化します。</span><span class="sxs-lookup"><span data-stu-id="107f7-182">The following example uses a <xref:System.Globalization.JulianCalendar> object to instantiate a date, January 9, 1905, in the Julian calendar.</span></span> <span data-ttu-id="107f7-183">この日付を既定の暦 (グレゴリオ暦) を使用して表示した場合は、1905 年 1 月 22 日と表されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-183">When this date is displayed using the default (Gregorian) calendar, it is represented as January 22, 1905.</span></span> <span data-ttu-id="107f7-184"><xref:System.Globalization.JulianCalendar> の各メソッドを呼び出すことで、この日付をユリウス暦で表すことができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-184">Calls to individual <xref:System.Globalization.JulianCalendar> methods enable the date to be represented in the Julian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/noncurrentcalendar1.cs#6)]
[!code-vb[Conceptual.Calendars#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/noncurrentcalendar1.vb#6)]

### <a name="calendars-and-date-ranges"></a><span data-ttu-id="107f7-185">暦と日付範囲</span><span class="sxs-lookup"><span data-stu-id="107f7-185">Calendars and date ranges</span></span>

<span data-ttu-id="107f7-186">暦でサポートされている最も古い日付は、暦の <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> プロパティによって示されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-186">The earliest date supported by a calendar is indicated by that calendar's <xref:System.Globalization.Calendar.MinSupportedDateTime%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="107f7-187"><xref:System.Globalization.GregorianCalendar> クラスでは、その日付は西暦 0001 年 1 月 1 日 です。</span><span class="sxs-lookup"><span data-stu-id="107f7-187">For the <xref:System.Globalization.GregorianCalendar> class, that date is January 1, 0001 C.E.</span></span> <span data-ttu-id="107f7-188">.NET の他のカレンダーの大半は、以降の日付をサポートします。</span><span class="sxs-lookup"><span data-stu-id="107f7-188">Most of the other calendars in .NET support a later date.</span></span> <span data-ttu-id="107f7-189">暦でサポートされている最も古い日付より前の日付と時刻の値を処理しようとすると、<xref:System.ArgumentOutOfRangeException> 例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="107f7-189">Trying to work with a date and time value that precedes a calendar's earliest supported date throws an <xref:System.ArgumentOutOfRangeException> exception.</span></span>

<span data-ttu-id="107f7-190">ただし、重要な例外が 1 つあります。</span><span class="sxs-lookup"><span data-stu-id="107f7-190">However, there is one important exception.</span></span> <span data-ttu-id="107f7-191"><xref:System.DateTime> オブジェクトと <xref:System.DateTimeOffset> オブジェクトの既定の (初期化されていない) 値は、<xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType> 値と同じです。</span><span class="sxs-lookup"><span data-stu-id="107f7-191">The default (uninitialized) value of a <xref:System.DateTime> object and a <xref:System.DateTimeOffset> object is equal to the <xref:System.Globalization.GregorianCalendar.MinSupportedDateTime%2A?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="107f7-192">西暦 0001 年 1 月 1日をサポートしない予定表では、この日付の書式設定しようとする場合</span><span class="sxs-lookup"><span data-stu-id="107f7-192">If you try to format this date in a calendar that does not support January 1, 0001 C.E.</span></span> <span data-ttu-id="107f7-193">書式指定子を指定しない、書式指定メソッドは、"G"(一般の日付/時刻のパターン) 書式指定子ではなく、"s"(並べ替え可能な日付/時刻のパターン) 書式指定子を使用します。</span><span class="sxs-lookup"><span data-stu-id="107f7-193">and you do not provide a format specifier, the formatting method uses the "s" (sortable date/time pattern) format specifier instead of the "G" (general date/time pattern) format specifier.</span></span> <span data-ttu-id="107f7-194">その結果、書式設定操作は <xref:System.ArgumentOutOfRangeException> 例外をスローしません。</span><span class="sxs-lookup"><span data-stu-id="107f7-194">As a result, the formatting operation does not throw an <xref:System.ArgumentOutOfRangeException> exception.</span></span> <span data-ttu-id="107f7-195">代わりに、サポートされていない日付を返します。</span><span class="sxs-lookup"><span data-stu-id="107f7-195">Instead, it returns the unsupported date.</span></span> <span data-ttu-id="107f7-196">この問題を、次の例で説明します。この例は、現在のカルチャが日本語 (日本) に設定されていれば和暦で、アラビア語 (エジプト) に設定されていればウムアルクラ暦で、<xref:System.DateTime.MinValue?displayProperty=nameWithType> の値を表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-196">This is illustrated in the following example, which displays the value of <xref:System.DateTime.MinValue?displayProperty=nameWithType> when the current culture is set to Japanese (Japan) with the Japanese calendar, and to Arabic (Egypt) with the Um Al Qura calendar.</span></span> <span data-ttu-id="107f7-197">また、現在のカルチャを英語 (米国) に設定し、これらの各 <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> オブジェクトで <xref:System.Globalization.CultureInfo> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="107f7-197">It also sets the current culture to English (United States) and calls the <xref:System.DateTime.ToString%28System.IFormatProvider%29?displayProperty=nameWithType> method with each of these <xref:System.Globalization.CultureInfo> objects.</span></span> <span data-ttu-id="107f7-198">どの場合も、並べ替え可能な日付と時刻のパターンを使用して、日付が表示されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-198">In each case, the date is displayed by using the sortable date/time pattern.</span></span>

[!code-csharp[Conceptual.Calendars#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/minsupporteddatetime1.cs#11)]
[!code-vb[Conceptual.Calendars#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/minsupporteddatetime1.vb#11)]

## <a name="working-with-eras"></a><span data-ttu-id="107f7-199">時代 (年号) の操作</span><span class="sxs-lookup"><span data-stu-id="107f7-199">Working with eras</span></span>

<span data-ttu-id="107f7-200">暦では通常、日付が時代 (年号) に分けられます。</span><span class="sxs-lookup"><span data-stu-id="107f7-200">Calendars typically divide dates into eras.</span></span> <span data-ttu-id="107f7-201">ただし、 <xref:System.Globalization.Calendar> .NET のクラスは、予定表とのほとんどによって定義されたすべての時代をサポートしていません、<xref:System.Globalization.Calendar>クラスは時代は 1 つのみをサポートします。</span><span class="sxs-lookup"><span data-stu-id="107f7-201">However, the <xref:System.Globalization.Calendar> classes in .NET do not support every era defined by a calendar, and most of the <xref:System.Globalization.Calendar> classes support only a single era.</span></span> <span data-ttu-id="107f7-202">複数の時代 (年号) をサポートしているのは、<xref:System.Globalization.JapaneseCalendar> クラスと <xref:System.Globalization.JapaneseLunisolarCalendar> クラスだけです。</span><span class="sxs-lookup"><span data-stu-id="107f7-202">Only the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes support multiple eras.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="107f7-203">Reiwa の時代 (年号) で新しい時代 (年号)、<xref:System.Globalization.JapaneseCalendar>と<xref:System.Globalization.JapaneseLunisolarCalendar>2019 年 5 月 1 日です。</span><span class="sxs-lookup"><span data-stu-id="107f7-203">The Reiwa era, a new era in the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar>, begins on May 1, 2019.</span></span> <span data-ttu-id="107f7-204">この変更は、これらのカレンダーを使用するすべてのアプリケーションに影響します。</span><span class="sxs-lookup"><span data-stu-id="107f7-204">This change affects all applications that use these calendars.</span></span> <span data-ttu-id="107f7-205">詳細については、次の記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="107f7-205">See the following articles for more information:</span></span>
> - <span data-ttu-id="107f7-206">[.NET での日本語のカレンダーで新しい時代 (年号) の処理](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/)、どのドキュメントをサポートするために .NET に追加された機能、複数の時代 (年号) のカレンダーおよび複数の時代 (年号) の予定表を処理するときに使用するベスト プラクティスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="107f7-206">[Handling a new era in the Japanese calendar in .NET](https://devblogs.microsoft.com/dotnet/handling-a-new-era-in-the-japanese-calendar-in-net/), which documents features added to .NET to support calendars with multiple eras and discusses best practices to use when handling multi-era calendars.</span></span>
> - <span data-ttu-id="107f7-207">[日本語の時代 (年号) 変更するアプリケーションを準備](/windows/uwp/design/globalizing/japanese-era-change)、時代 (年号) の変更に対する準備状況を確認する Windows 上のアプリケーションのテストに関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="107f7-207">[Prepare your application for the Japanese era change](/windows/uwp/design/globalizing/japanese-era-change), which provides information on testing your applications on Windows to ensure their readiness for the era change.</span></span>
> - <span data-ttu-id="107f7-208">[.NET Framework の更新プログラムの新しい日本語の時代 (年号) の概要](https://support.microsoft.com/en-us/help/4477957/new-japanese-era-updates-for-net-framework)、日本語のカレンダーの新時代に関連する個々 の Windows バージョンの .NET Framework の更新プログラムの一覧を表示するノートの複数の時代 (年号) のサポート、.NET Framework の新しい機能とが含まれていますアプリケーションのテストで検索することです。</span><span class="sxs-lookup"><span data-stu-id="107f7-208">[Summary of new Japanese Era updates for .NET Framework](https://support.microsoft.com/en-us/help/4477957/new-japanese-era-updates-for-net-framework), which lists .NET Framework updates for individual Windows versions that are related to the new Japanese calendar era, notes new .NET Framework features for multi-era support, and includes things to look for in testing your applications.</span></span>

<span data-ttu-id="107f7-209">ほとんどのカレンダーの時代 (年号) では、非常に長い期間を表します。</span><span class="sxs-lookup"><span data-stu-id="107f7-209">An era in most calendars denotes an extremely long time period.</span></span> <span data-ttu-id="107f7-210">グレゴリオ暦でなど、現在の時代 (年号) にまたがる複数の 2 つ millennia。</span><span class="sxs-lookup"><span data-stu-id="107f7-210">In the Gregorian calendar, for example, the current era spans more than two millennia.</span></span> <span data-ttu-id="107f7-211"><xref:System.Globalization.JapaneseCalendar>と<xref:System.Globalization.JapaneseLunisolarCalendar>、複数の時代 (年号) をサポートする予定表、2 つ、これは、ケースではありません。</span><span class="sxs-lookup"><span data-stu-id="107f7-211">For the <xref:System.Globalization.JapaneseCalendar> and the <xref:System.Globalization.JapaneseLunisolarCalendar>, the two calendars that support multiple eras, this is not the case.</span></span> <span data-ttu-id="107f7-212">時代 (年号) は、皇帝の量を設定の期間に対応します。</span><span class="sxs-lookup"><span data-stu-id="107f7-212">An era corresponds to the period of an emperor's reign.</span></span> <span data-ttu-id="107f7-213">サポートの時代 (年号) を複数にするため、特に現在の時代 (年号) の数の上限が、不明の場合は、特別な課題をもたらします。</span><span class="sxs-lookup"><span data-stu-id="107f7-213">Support for multiple eras, particularly when the upper limit of the current era is unknown, poses special challenges.</span></span> 

### <a name="eras-and-era-names"></a><span data-ttu-id="107f7-214">時代 (年号) と時代 (年号) の名前</span><span class="sxs-lookup"><span data-stu-id="107f7-214">Eras and era names</span></span>

<span data-ttu-id="107f7-215">.NET では、特定の暦の実装でサポートされる時代 (年号) を表す整数が逆の順序で格納、<xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType>配列。</span><span class="sxs-lookup"><span data-stu-id="107f7-215">In .NET, integers that represent the eras supported by a particular calendar implementation are stored in reverse order in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array.</span></span> <span data-ttu-id="107f7-216">現在の時代 (年号) (つまり、時代 (年号) の最新の時間範囲) には、インデックス 0 位置にあると、<xref:System.Globalization.Calendar>複数の時代 (年号)、連続する各インデックスをサポートするクラスには、前の時代 (年号) が反映されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-216">The current era (which is the era with the latest time range) is at index zero, and for <xref:System.Globalization.Calendar> classes that support multiple eras, each successive index reflects the previous era.</span></span> <span data-ttu-id="107f7-217"><xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> 配列における現在の時代 (年号) のインデックスは、静的な <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> プロパティで定義されます。これは定数であり、値は常に 0 になります。</span><span class="sxs-lookup"><span data-stu-id="107f7-217">The static <xref:System.Globalization.Calendar.CurrentEra?displayProperty=nameWithType> property defines the index of the current era in the <xref:System.Globalization.Calendar.Eras%2A?displayProperty=nameWithType> array; it is a constant whose value is always zero.</span></span> <span data-ttu-id="107f7-218">個々の <xref:System.Globalization.Calendar> クラスには、現在の時代 (年号) の値を返す静的フィールドも含まれています。</span><span class="sxs-lookup"><span data-stu-id="107f7-218">Individual <xref:System.Globalization.Calendar> classes also include static fields that return the value of the current era.</span></span> <span data-ttu-id="107f7-219">これらを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-219">They are listed in the following table.</span></span>

| <span data-ttu-id="107f7-220">Calendar クラス</span><span class="sxs-lookup"><span data-stu-id="107f7-220">Calendar class</span></span>                                        | <span data-ttu-id="107f7-221">現在の時代 (年号) のフィールド</span><span class="sxs-lookup"><span data-stu-id="107f7-221">Current era field</span></span>                                                 |
| ----------------------------------------------------- | ----------------------------------------------------------------- |
| <xref:System.Globalization.ChineseLunisolarCalendar>  | <xref:System.Globalization.ChineseLunisolarCalendar.ChineseEra>   |
| <xref:System.Globalization.GregorianCalendar>         | <xref:System.Globalization.GregorianCalendar.ADEra>               |
| <xref:System.Globalization.HebrewCalendar>            | <xref:System.Globalization.HebrewCalendar.HebrewEra>              |
| <xref:System.Globalization.HijriCalendar>             | <xref:System.Globalization.HijriCalendar.HijriEra>                |
| <xref:System.Globalization.JapaneseLunisolarCalendar> | <xref:System.Globalization.JapaneseLunisolarCalendar.JapaneseEra> |
| <xref:System.Globalization.JulianCalendar>            | <xref:System.Globalization.JulianCalendar.JulianEra>              |
| <xref:System.Globalization.KoreanCalendar>            | <xref:System.Globalization.KoreanCalendar.KoreanEra>              |
| <xref:System.Globalization.KoreanLunisolarCalendar>   | <xref:System.Globalization.KoreanLunisolarCalendar.GregorianEra>  |
| <xref:System.Globalization.PersianCalendar>           | <xref:System.Globalization.PersianCalendar.PersianEra>            |
| <xref:System.Globalization.ThaiBuddhistCalendar>      | <xref:System.Globalization.ThaiBuddhistCalendar.ThaiBuddhistEra>  |
| <xref:System.Globalization.UmAlQuraCalendar>          | <xref:System.Globalization.UmAlQuraCalendar.UmAlQuraEra>          |

<span data-ttu-id="107f7-222">特定の時代 (年号) を表す数値に対応する名前は、その数値を <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> メソッドまたは <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType> メソッドに渡すことで取得できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-222">The name that corresponds to a particular era number can be retrieved by passing the era number to the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> or <xref:System.Globalization.DateTimeFormatInfo.GetAbbreviatedEraName%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="107f7-223">次の例では、これらのメソッドを呼び出して、<xref:System.Globalization.GregorianCalendar> クラスでサポートされる時代 (年号) に関する情報を取得しています。</span><span class="sxs-lookup"><span data-stu-id="107f7-223">The following example calls these methods to retrieve information about era support in the <xref:System.Globalization.GregorianCalendar> class.</span></span> <span data-ttu-id="107f7-224">各サポートされている日本語のカレンダーの時代 (年号) の 2 つ目の年の 1 月 1 日に対応するグレゴリオ暦の日付と現在時代 (年号) の 2 つ目の年の 1 月 1 日に対応するグレゴリオ暦の日付が表示されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-224">It displays the Gregorian calendar date that corresponds to January 1 of the second year of the current era, as well as the Gregorian calendar date that corresponds to January 1 of the second year of each supported Japanese calendar era.</span></span>

[!code-csharp[Conceptual.Calendars#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/instantiatewithera1.cs)]
[!code-vb[Conceptual.Calendars#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/instantiatewithera1.vb)]

<span data-ttu-id="107f7-225">また、"g" カスタム日時書式指定文字列では、日付と時刻の文字列形式に暦の時代 (年号) の名前が含まれます。</span><span class="sxs-lookup"><span data-stu-id="107f7-225">In addition, the "g" custom date and time format string includes a calendar's era name in the string representation of a date and time.</span></span> <span data-ttu-id="107f7-226">詳細については、次を参照してください。[カスタム日時書式指定文字列](../../../docs/standard/base-types/custom-date-and-time-format-strings.md)します。</span><span class="sxs-lookup"><span data-stu-id="107f7-226">For more information, see [Custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md).</span></span>

### <a name="instantiating-a-date-with-an-era"></a><span data-ttu-id="107f7-227">日付、時代 (年号) のインスタンス化します。</span><span class="sxs-lookup"><span data-stu-id="107f7-227">Instantiating a date with an era</span></span>

<span data-ttu-id="107f7-228">2 つの<xref:System.Globalization.Calendar>複数の時代 (年号) をサポートするクラスでは、特定の年、月、および日の月の値で構成される日付をあいまいになることができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-228">For the two <xref:System.Globalization.Calendar> classes that support multiple eras, a date that consists of a particular year, month, and day of the month value can be ambiguous.</span></span> <span data-ttu-id="107f7-229">たとえば、すべて時代 (年号) でサポートされている、<xref:System.Globalization.JapaneseCalendar>の数は 1 年があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-229">For example, all eras supported by the <xref:System.Globalization.JapaneseCalendar> have years whose number is 1.</span></span> <span data-ttu-id="107f7-230">通常、時代 (年号) が指定されていない場合は、日時および暦のどちらのメソッドでも、値が現在の時代 (年号) に属すると見なされます。</span><span class="sxs-lookup"><span data-stu-id="107f7-230">Ordinarily, if an era is not specified, both date and time and calendar methods assume that values belong to the current era.</span></span> <span data-ttu-id="107f7-231">場合は true これは、<xref:System.DateTime.%23ctor%2A>と<xref:System.DateTimeOffset.%23ctor%2A>型のパラメーターを含むコンス トラクター <xref:System.Globalization.Calendar>、だけでなく[JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32))と[JapaneseLunisolarCalendar.ToDateTime。](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32))メソッド。</span><span class="sxs-lookup"><span data-stu-id="107f7-231">This is true of the <xref:System.DateTime.%23ctor%2A> and <xref:System.DateTimeOffset.%23ctor%2A> constructors that include parameters of type <xref:System.Globalization.Calendar>, as well as the [JapaneseCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) and [JapaneseLunisolarCalendar.ToDateTime](xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)) methods.</span></span> <span data-ttu-id="107f7-232">次の例は、指定されていない、時代 (年号) の 2 つ目の年の 1 月 1 日を表す日付をインスタンス化します。</span><span class="sxs-lookup"><span data-stu-id="107f7-232">The following example instantiates a date that represents January 1 of the second year of an unspecified era.</span></span> <span data-ttu-id="107f7-233">Reiwa の時代 (年号) が現在の時代 (年号) の例を実行する場合は、日付が Reiwa の時代 (年号) の 2 つ目の年として解釈されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-233">If you execute the example when the Reiwa era is the current era, the date is interpreted as the second year of the Reiwa era.</span></span> <span data-ttu-id="107f7-234">時代 (年号)、令和、によって返される文字列の年の前に、<xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType>メソッド、グレゴリオ暦で 2020 年 1 月 1日年に対応しています。</span><span class="sxs-lookup"><span data-stu-id="107f7-234">The era, 令和, precedes the year in the string returned by the <xref:System.DateTime.ToString(System.String,System.IFormatProvider)?displayProperty=nameWithType> method and corresponds to January 1, 2020, in the Gregorian calendar.</span></span> <span data-ttu-id="107f7-235">(Reiwa の時代 (年号) を構成のグレゴリオ暦カレンダーの 2019 年の開始) します。</span><span class="sxs-lookup"><span data-stu-id="107f7-235">(The Reiwa era begins in the year 2019 of the Gregorian calendar.)</span></span>

[!code-csharp[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/cs/program.cs)]
[!code-vb[A date in the current era](~/samples/snippets/standard/datetime/calendars/current-era/vb/program.vb)]

<span data-ttu-id="107f7-236">ただし、時代 (年号) が変更された場合このコードの意図はあいまいになります。</span><span class="sxs-lookup"><span data-stu-id="107f7-236">However, if the era changes, the intent of this code becomes ambiguous.</span></span> <span data-ttu-id="107f7-237">現在時代 (年号) の 2 つ目の年を表すため、日付に使用またはこれ平成の時代 (年号) の 2 つ目の年を表すためのものですか。</span><span class="sxs-lookup"><span data-stu-id="107f7-237">Is the date intended to represent the second year of the current era, or is it intended to represent the second year of the Heisei era?</span></span> <span data-ttu-id="107f7-238">このあいまいさを回避するために 2 つの方法はあります。</span><span class="sxs-lookup"><span data-stu-id="107f7-238">There are two ways to avoid this ambiguity:</span></span>

- <span data-ttu-id="107f7-239">既定値を使用して日付と時刻の値をインスタンス化<xref:System.Globalization.GregorianCalendar>クラス。</span><span class="sxs-lookup"><span data-stu-id="107f7-239">Instantiate the date and time value using the default <xref:System.Globalization.GregorianCalendar> class.</span></span> <span data-ttu-id="107f7-240">次の例のように、日付の文字列表現の日本語のカレンダーまたは日本の太陰太陽暦を使用できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-240">You can then use the Japanese calendar or the Japanese Lunisolar calendar for the string representation of dates, as the following example shows.</span></span>

   [!code-csharp[Insantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/cs/program.cs)]
   [!code-vb[Instantiating a Gregorian date](~/samples/snippets/standard/datetime/calendars/gregorian/vb/program.vb)]

- <span data-ttu-id="107f7-241">日付と時刻、時代 (年号) を明示的に指定するメソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="107f7-241">Call a date and time method that explicitly specifies an era.</span></span> <span data-ttu-id="107f7-242">これには、次のメソッドが含まれます。</span><span class="sxs-lookup"><span data-stu-id="107f7-242">This includes the following methods:</span></span>

   - <span data-ttu-id="107f7-243"><xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)>のメソッド、<xref:System.Globalization.JapaneseCalendar>または<xref:System.Globalization.JapaneseLunisolarCalendar>クラス。</span><span class="sxs-lookup"><span data-stu-id="107f7-243">The <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method of the <xref:System.Globalization.JapaneseCalendar> or <xref:System.Globalization.JapaneseLunisolarCalendar> class.</span></span>

   - <span data-ttu-id="107f7-244">A<xref:System.DateTime>または<xref:System.DateTimeOffset>など、メソッドの解析<xref:System.DateTime.Parse%2A>、 <xref:System.DateTime.TryParse%2A>、 <xref:System.DateTime.ParseExact%2A>、または<xref:System.DateTime.TryParseExact%2A>、解析する文字列を含むと、必要に応じて、<xref:System.Globalization.DateTimeStyles>場合は、現在のカルチャが日本語、日本の引数 ("JA-JP") そのカルチャの暦は、<xref:System.Globalization.JapaneseCalendar>します。</span><span class="sxs-lookup"><span data-stu-id="107f7-244">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method, such as <xref:System.DateTime.Parse%2A>, <xref:System.DateTime.TryParse%2A>, <xref:System.DateTime.ParseExact%2A>, or <xref:System.DateTime.TryParseExact%2A>, that includes the string to be parsed and optionally a <xref:System.Globalization.DateTimeStyles> argument if the current culture is Japanese-Japan ("ja-JP") and that culture's calendar is the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="107f7-245">解析対象の文字列には、時代 (年号) を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-245">The string to be parsed must include the era.</span></span>

   - <span data-ttu-id="107f7-246">A<xref:System.DateTime>または<xref:System.DateTimeOffset>解析メソッドが含まれる、`provider`型のパラメーター<xref:System.IFormatProvider>します。</span><span class="sxs-lookup"><span data-stu-id="107f7-246">A <xref:System.DateTime> or <xref:System.DateTimeOffset> parsing method that includes a `provider` parameter of type <xref:System.IFormatProvider>.</span></span> <span data-ttu-id="107f7-247">`provider` いずれかである必要があります、<xref:System.Globalization.CultureInfo>日本語-日本 ("JA-JP") のカルチャの現在の暦を表すオブジェクトを<xref:System.Globalization.JapaneseCalendar>または<xref:System.Globalization.DateTimeFormatInfo>オブジェクト<xref:System.Globalization.DateTimeFormatInfo.Calendar>プロパティは<xref:System.Globalization.JapaneseCalendar>します。</span><span class="sxs-lookup"><span data-stu-id="107f7-247">`provider` must be either a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture whose current calendar is <xref:System.Globalization.JapaneseCalendar> or a <xref:System.Globalization.DateTimeFormatInfo> object whose <xref:System.Globalization.DateTimeFormatInfo.Calendar> property is <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="107f7-248">解析対象の文字列には、時代 (年号) を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="107f7-248">The string to be parsed must include the era.</span></span>

   <span data-ttu-id="107f7-249">次の例では、これらのメソッドの 3 つを使用して、1868 年 9 月 8 日に開始され、1912 年 7 月 29 日に終了しましたが、明治で日時をインスタンス化します。</span><span class="sxs-lookup"><span data-stu-id="107f7-249">The following example uses three of these methods to instantiate a date and time in the Meiji era, which began on September 8, 1868, and ended on July 29, 1912.</span></span> 

   [!code-csharp[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/cs/program.cs)]
   [!code-vb[A date in a specified era](~/samples/snippets/standard/datetime/calendars/specify-era/vb/program.vb)]

> [!TIP]
> <span data-ttu-id="107f7-250">複数の時代をサポートするカレンダーの使用時に*常に*グレゴリオ暦の日付を使用して、日付をインスタンス化するか、日付と時刻をカレンダーに基づくをインスタンス化するときに時代 (年号) を指定します。</span><span class="sxs-lookup"><span data-stu-id="107f7-250">When working with calendars that support multiple eras, *always* use the Gregorian date to instantiate a date, or specify the era when you instantiate a date and time based on that calendar.</span></span>

<span data-ttu-id="107f7-251">時代 (年号) を指定するときに、<xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)>でカレンダーの時代 (年号) のインデックスを指定するメソッド、<xref:System.Globalization.Calendar.Eras>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="107f7-251">In specifying an era to the <xref:System.Globalization.Calendar.ToDateTime(System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32,System.Int32)> method, you provide the index of the era in the calendar's <xref:System.Globalization.Calendar.Eras> property.</span></span> <span data-ttu-id="107f7-252">暦の時代 (年号) が変更される可能性が、ただし、これらのインデックスは、定数値です。インデックス 0、現在の時代 (年号) があり、インデックス位置にある最も古い時代 (年号)`Eras.Length - 1`します。</span><span class="sxs-lookup"><span data-stu-id="107f7-252">For calendars whose eras are subject to change, however, these indexes are not constant values; the current era is at index 0, and the oldest era is at index `Eras.Length - 1`.</span></span> <span data-ttu-id="107f7-253">カレンダーに新しい時代 (年号) を追加するときに、前の時代 (年号) のインデックスは 1 ずつ増加します。</span><span class="sxs-lookup"><span data-stu-id="107f7-253">When a new era is added to a calendar, the indexes of the previous eras increase by one.</span></span> <span data-ttu-id="107f7-254">次のように、適切な時代 (年号) のインデックスを指定できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-254">You can supply the appropriate era index as follows:</span></span>

- <span data-ttu-id="107f7-255">現在の時代 (年号) の日付、カレンダーを使用して常に<xref:System.Globalization.Calendar.CurrentEra>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="107f7-255">For dates in the current era, always use the calendar's <xref:System.Globalization.Calendar.CurrentEra> property.</span></span>

- <span data-ttu-id="107f7-256">指定した時代 (年号) の日付を使用して、<xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType>メソッドを指定した時代 (年号) の名前に対応するインデックスを取得します。</span><span class="sxs-lookup"><span data-stu-id="107f7-256">For dates in a specified era, use the <xref:System.Globalization.DateTimeFormatInfo.GetEraName%2A?displayProperty=nameWithType> method to retrieve the index that corresponds to a specified era name.</span></span> <span data-ttu-id="107f7-257">これは、ことが必要、<xref:System.Globalization.JapaneseCalendar>の現在のカレンダー、 <xref:System.Globalization.CultureInfo> JA-JP カルチャを表すオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="107f7-257">This requires that the <xref:System.Globalization.JapaneseCalendar> be the current calendar of the <xref:System.Globalization.CultureInfo> object that represents the ja-JP culture.</span></span>  <span data-ttu-id="107f7-258">(この手法はの<xref:System.Globalization.JapaneseLunisolarCalendar>として同じ時代 (年号) をサポート後も、 <xref:System.Globalization.JapaneseCalendar>)。前の例では、このアプローチを示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-258">(This technique works for the <xref:System.Globalization.JapaneseLunisolarCalendar> as well, since it supports the same eras as the <xref:System.Globalization.JapaneseCalendar>.) The previous example illustrates this approach.</span></span>

### <a name="calendars-eras-and-date-ranges-relaxed-range-checks"></a><span data-ttu-id="107f7-259">予定表、時代 (年号)、および日付の範囲:厳密でない範囲の確認</span><span class="sxs-lookup"><span data-stu-id="107f7-259">Calendars, eras, and date ranges: Relaxed range checks</span></span>

<span data-ttu-id="107f7-260">個々 の予定表に、日付範囲がサポートされているに見えるの時代 (年号)、<xref:System.Globalization.JapaneseCalendar>と<xref:System.Globalization.JapaneseLunisolarCalendar>クラスもがサポートされている範囲です。</span><span class="sxs-lookup"><span data-stu-id="107f7-260">Very much like individual calendars have supported date ranges, eras in the <xref:System.Globalization.JapaneseCalendar> and <xref:System.Globalization.JapaneseLunisolarCalendar> classes also have supported ranges.</span></span> <span data-ttu-id="107f7-261">以前は、.NET は、範囲が、時代 (年号) 固有の日付がその時代 (年号) の範囲内にあったことを確認しますに厳密な時代 (年号) を使用します。</span><span class="sxs-lookup"><span data-stu-id="107f7-261">Previously, .NET used strict era range checks to ensure that an era-specific date was within the range of that era.</span></span> <span data-ttu-id="107f7-262">つまり、日付が指定した時代 (年号) の範囲外にある場合は、メソッドがスローします。、<xref:System.ArgumentOutOfRangeException>します。</span><span class="sxs-lookup"><span data-stu-id="107f7-262">That is, if a date is outside of the range of the specified era, the method throws an <xref:System.ArgumentOutOfRangeException>.</span></span> <span data-ttu-id="107f7-263">現時点では、.NET は既定では厳密でない範囲チェックを使用します。</span><span class="sxs-lookup"><span data-stu-id="107f7-263">Currently, .NET uses relaxed ranged checking by default.</span></span> <span data-ttu-id="107f7-264">更新プログラムをすべてのバージョンの .NET には緩やかな時代 (年号) が導入された範囲のチェック。次時代 (年号) に、「オーバーフロー」を指定した時代 (年号) の範囲外の時代 (年号) 固有の日付をインスタンス化しようと、例外はスローされません。</span><span class="sxs-lookup"><span data-stu-id="107f7-264">Updates to all versions of .NET introduced relaxed era range checks; the attempt to instantiate an era-specific date that is outside the range of the specified era "overflows" into the following era, and no exception is thrown.</span></span>

<span data-ttu-id="107f7-265">次の例は、1926 年 12 月 25 日に開始され、1989 年 1 月 7 日に終了しましたが、昭和時代 65th 年の日付をインスタンス化しようとします。</span><span class="sxs-lookup"><span data-stu-id="107f7-265">The following example attempts to instantiate a date in the 65th year of the Showa era, which began on December 25, 1926 and ended on January 7, 1989.</span></span> <span data-ttu-id="107f7-266">この日付に対応する、1990 年 1 月 9 日で表示する時代 (年号) の範囲外である、<xref:System.Globalization.JapaneseCalendar>します。</span><span class="sxs-lookup"><span data-stu-id="107f7-266">This date corresponds to January 9, 1990, which is outside the range of the Showa era in the <xref:System.Globalization.JapaneseCalendar>.</span></span> <span data-ttu-id="107f7-267">例の出力に示すように、例では、によって表示される日付は 1990 年 1 月 9日平成の時代 (年号) の 2 つ目の年です。</span><span class="sxs-lookup"><span data-stu-id="107f7-267">As the output from the example illustrates, the date displayed by the example is January 9, 1990, in the second year of the Heisei era.</span></span>

   [!code-csharp[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/cs/program.cs)]
   [!code-vb[Relaxed range checks](~/samples/snippets/standard/datetime/calendars/relaxed-range/vb/program.vb)]

<span data-ttu-id="107f7-268">厳密でない範囲の確認が望ましくない場合は、さまざまな方法は、アプリケーションが実行されている .NET のバージョンによっては、厳密な範囲の確認を戻すことができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-268">If relaxed range checks are undesirable, you can restore strict range checks in a number of ways, depending on the version of .NET on which your application is running:</span></span>

- <span data-ttu-id="107f7-269">**.NET core:** 次を追加することができます、 *. netcore.runtime.json*構成ファイル。</span><span class="sxs-lookup"><span data-stu-id="107f7-269">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.EnforceJapaneseEraYearRanges": true
      } 
   }
   ```

- <span data-ttu-id="107f7-270">**.NET framework 4.6 以降:** 次の AppContext スイッチを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-270">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceJapaneseEraYearRanges=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="107f7-271">**.NET framework 4.5.2 以前のバージョン。** 次のレジストリ値を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-271">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|
   |<span data-ttu-id="107f7-272">キー</span><span class="sxs-lookup"><span data-stu-id="107f7-272">Key</span></span> | <span data-ttu-id="107f7-273">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="107f7-273">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="107f7-274">名前</span><span class="sxs-lookup"><span data-stu-id="107f7-274">Name</span></span> | <span data-ttu-id="107f7-275">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span><span class="sxs-lookup"><span data-stu-id="107f7-275">Switch.System.Globalization.EnforceJapaneseEraYearRanges</span></span> |
   |<span data-ttu-id="107f7-276">型</span><span class="sxs-lookup"><span data-stu-id="107f7-276">Type</span></span> | <span data-ttu-id="107f7-277">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="107f7-277">REG_SZ</span></span> |
   |<span data-ttu-id="107f7-278">[値]</span><span class="sxs-lookup"><span data-stu-id="107f7-278">Value</span></span> | <span data-ttu-id="107f7-279">1</span><span class="sxs-lookup"><span data-stu-id="107f7-279">1</span></span> |

<span data-ttu-id="107f7-280">厳密な範囲チェックを有効に、前の例がスローされます、<xref:System.ArgumentOutOfRangeException>し、次の出力を表示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-280">With strict range checks enabled, the previous example throws an <xref:System.ArgumentOutOfRangeException> and displays the following output:</span></span>

```console
Unhandled Exception: System.ArgumentOutOfRangeException: Valid values are between 1 and 64, inclusive.
Parameter name: year
   at System.Globalization.GregorianCalendarHelper.GetYearOffset(Int32 year, Int32 era, Boolean throwOnError)
   at System.Globalization.GregorianCalendarHelper.ToDateTime(Int32 year, Int32 month, Int32 day, Int32 hour, Int32 minute, Int32 second, Int32 millisecond, Int32 era)
   at Example.Main()
```

### <a name="representing-dates-in-calendars-with-multiple-eras"></a><span data-ttu-id="107f7-281">複数の時代 (年号) を含む暦で日付を表す</span><span class="sxs-lookup"><span data-stu-id="107f7-281">Representing dates in calendars with multiple eras</span></span>

<span data-ttu-id="107f7-282"><xref:System.Globalization.Calendar> オブジェクトの現在の暦が、時代 (年号) をサポートする <xref:System.Globalization.CultureInfo> オブジェクトである場合は、完全な日付と時刻、長い日付、および短い日付の各パターンにおいて、日付と時刻の値の文字列形式に時代 (年号) が含まれます。</span><span class="sxs-lookup"><span data-stu-id="107f7-282">If a <xref:System.Globalization.Calendar> object supports eras and is the current calendar of a <xref:System.Globalization.CultureInfo> object, the era is included in the string representation of a date and time value for the full date and time, long date, and short date patterns.</span></span> <span data-ttu-id="107f7-283">それらの日付パターンを表示する例を次に示します。現在のカルチャは日本 (日本語)、現在の暦は和暦です。</span><span class="sxs-lookup"><span data-stu-id="107f7-283">The following example displays these date patterns when the current culture is Japan (Japanese) and the current calendar is the Japanese calendar.</span></span>

[!code-csharp[Conceptual.Calendars#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings1.cs#8)]
[!code-vb[Conceptual.Calendars#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings1.vb#8)]

> [!WARNING]
> <span data-ttu-id="107f7-284"><xref:System.Globalization.JapaneseCalendar>クラスが唯一のカレンダー クラスの現在の暦は、両方のサポートしている日付の 1 つ以上の時代 (年号) に .NET で、<xref:System.Globalization.CultureInfo>オブジェクト - 具体的には、<xref:System.Globalization.CultureInfo>日本語 (日本) のカルチャを表すオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="107f7-284">The <xref:System.Globalization.JapaneseCalendar> class is the only calendar class in .NET that both supports dates in more than one era and that can be the current calendar of a <xref:System.Globalization.CultureInfo> object - specifically, of a <xref:System.Globalization.CultureInfo> object that represents the Japanese (Japan) culture.</span></span>

<span data-ttu-id="107f7-285">どの暦の場合も、"g" カスタム書式指定子の結果の文字列には時代 (年号) が含まれます。</span><span class="sxs-lookup"><span data-stu-id="107f7-285">For all calendars, the "g" custom format specifier includes the era in the result string.</span></span> <span data-ttu-id="107f7-286">次の例では、"MM-dd-yyyy g" というカスタム書式指定文字列を使用して、結果の文字列に時代 (年号) を含めています。現在の暦はグレゴリオ暦です。</span><span class="sxs-lookup"><span data-stu-id="107f7-286">The following example uses the "MM-dd-yyyy g" custom format string to include the era in the result string when the current calendar is the Gregorian calendar.</span></span>

[!code-csharp[Conceptual.Calendars#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings2.cs#9)]
[!code-vb[Conceptual.Calendars#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings2.vb#9)]

<span data-ttu-id="107f7-287">日付の文字列形式を現在の暦以外の暦で表す場合は、<xref:System.Globalization.Calendar> クラスの <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> メソッドを <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>、<xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>、および <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> の各メソッドと一緒に使用して、日付とそれが属する時代 (年号) を明確に示すことができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-287">In cases where the string representation of a date is expressed in a calendar that is not the current calendar, the <xref:System.Globalization.Calendar> class includes a <xref:System.Globalization.Calendar.GetEra%2A?displayProperty=nameWithType> method that can be used along with the <xref:System.Globalization.Calendar.GetYear%2A?displayProperty=nameWithType>, <xref:System.Globalization.Calendar.GetMonth%2A?displayProperty=nameWithType>, and <xref:System.Globalization.Calendar.GetDayOfMonth%2A?displayProperty=nameWithType> methods to unambiguously indicate a date as well as the era to which it belongs.</span></span> <span data-ttu-id="107f7-288"><xref:System.Globalization.JapaneseLunisolarCalendar> クラスを使用した具体的な例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="107f7-288">The following example uses the <xref:System.Globalization.JapaneseLunisolarCalendar> class to provide an illustration.</span></span> <span data-ttu-id="107f7-289">ただし、時代 (年号) を表す整数ではなく、名前または省略形を結果の文字列に含めるには、<xref:System.Globalization.DateTimeFormatInfo> オブジェクトをインスタンス化し、その現在の暦を <xref:System.Globalization.JapaneseCalendar> にする必要があります </span><span class="sxs-lookup"><span data-stu-id="107f7-289">However, note that including a meaningful name or abbreviation instead of an integer for the era in the result string requires that you instantiate a <xref:System.Globalization.DateTimeFormatInfo> object and make <xref:System.Globalization.JapaneseCalendar> its current calendar.</span></span> <span data-ttu-id="107f7-290">(<xref:System.Globalization.JapaneseLunisolarCalendar> 暦をカルチャの現在の暦にすることはできませんが、この場合は 2 つの暦で同じ時代 (年号) が共有されます)。</span><span class="sxs-lookup"><span data-stu-id="107f7-290">(The <xref:System.Globalization.JapaneseLunisolarCalendar> calendar cannot be the current calendar of any culture, but in this case the two calendars share the same eras.)</span></span>

[!code-csharp[Conceptual.Calendars#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.calendars/cs/formatstrings3.cs#10)]
[!code-vb[Conceptual.Calendars#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.calendars/vb/formatstrings3.vb#10)]

<span data-ttu-id="107f7-291">日本語のカレンダー、時代 (年号) の最初の年を元年 (元年) と呼びます。</span><span class="sxs-lookup"><span data-stu-id="107f7-291">In the Japanese calendars, the first year of an era is called Gannen (元年).</span></span> <span data-ttu-id="107f7-292">たとえば、平成の 1 ではなく平成の時代 (年号) の最初の年を平成元年として記述することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-292">For example, instead of Heisei 1, the first year of the Heisei era can be described as Heisei Gannen.</span></span> <span data-ttu-id="107f7-293">.NET 書式設定の日付の操作では、この規則を採用して、時刻書式設定された次の標準またはカスタムの日付と時刻の形式で文字列を使用している場合、 <xref:System.Globalization.CultureInfo> 、日本語、日本("JA-JP")のカルチャを表すオブジェクトを<xref:System.Globalization.JapaneseCalendar>クラス。</span><span class="sxs-lookup"><span data-stu-id="107f7-293">.NET adopts this convention in formatting operations for dates and times formatted with the following standard or custom date and time format strings when they are used with a <xref:System.Globalization.CultureInfo> object that represents the Japanese-Japan ("ja-JP") culture with the <xref:System.Globalization.JapaneseCalendar> class:</span></span>

- <span data-ttu-id="107f7-294">[長い日付パターン](../base-types/standard-date-and-time-format-strings.md#LongDate)を"D"標準の日付と時刻の書式指定文字列を指定します。</span><span class="sxs-lookup"><span data-stu-id="107f7-294">[The long date pattern](../base-types/standard-date-and-time-format-strings.md#LongDate), indicated by the "D" standard date and time format string.</span></span>
- <span data-ttu-id="107f7-295">[長い日付パターン](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime)を"F"標準の日付と時刻の書式指定文字列を指定します。</span><span class="sxs-lookup"><span data-stu-id="107f7-295">[The full date long time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateLongTime), indicated by the "F" standard date and time format string.</span></span>
- <span data-ttu-id="107f7-296">[完全な日付の短い形式の時刻パターン](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime)を"f"標準の日付と時刻の書式指定文字列を指定します。</span><span class="sxs-lookup"><span data-stu-id="107f7-296">[The full date short time pattern](../base-types/standard-date-and-time-format-strings.md#FullDateShortTime), indicated by the "f" standard date and time format string.</span></span>
- <span data-ttu-id="107f7-297">[年月パターン](../base-types/standard-date-and-time-format-strings.md#YearMonth)Y によって示される、"または"y"標準の日付と時刻の書式指定文字列。</span><span class="sxs-lookup"><span data-stu-id="107f7-297">[The year/month pattern](../base-types/standard-date-and-time-format-strings.md#YearMonth), indicated by the Y" or "y" standard date and time format string.</span></span>
- <span data-ttu-id="107f7-298">["Ggy '年'"または"ggy年"[カスタム日付/時刻の書式指定文字列](../base-types/custom-date-and-time-format-strings.md)します。</span><span class="sxs-lookup"><span data-stu-id="107f7-298">[The "ggy'年'" or "ggy年" [custom date and time format string](../base-types/custom-date-and-time-format-strings.md).</span></span>

<span data-ttu-id="107f7-299">次の例がで平成時代 (年号) の最初の年の日付を表示するなど、<xref:System.Globalization.JapaneseCalendar>します。</span><span class="sxs-lookup"><span data-stu-id="107f7-299">For example, the following example displays a date in the first year of the Heisei era in the <xref:System.Globalization.JapaneseCalendar> .</span></span>

   [!code-csharp[gannen](~/samples/snippets/standard/datetime/calendars/gannen/cs/program.cs)]
   [!code-vb[gannen](~/samples/snippets/standard/datetime/calendars/gannen/vb/gannen-fmt.vb)]

<span data-ttu-id="107f7-300">この動作が書式設定操作で望ましくない場合は、.NET のバージョンに応じて、次の手順を実行して、「元年」ではなく「1」として時代 (年号) の最初の年を表す常に、以前の動作を復元できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-300">If this behavior is undesirable in formatting operations, you can restore the previous behavior, which always represents the first year of an era as “1” rather than “Gannen”, by doing the following, depending on the version of .NET:</span></span>

- <span data-ttu-id="107f7-301">**.NET core:** 次を追加することができます、 *. netcore.runtime.json*構成ファイル。</span><span class="sxs-lookup"><span data-stu-id="107f7-301">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.FormatJapaneseFirstYearAsANumber": true
      } 
   }
   ```

- <span data-ttu-id="107f7-302">**.NET framework 4.6 以降:** 次の AppContext スイッチを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-302">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.FormatJapaneseFirstYearAsANumber=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="107f7-303">**.NET framework 4.5.2 以前のバージョン。** 次のレジストリ値を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-303">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|
   |<span data-ttu-id="107f7-304">キー</span><span class="sxs-lookup"><span data-stu-id="107f7-304">Key</span></span> | <span data-ttu-id="107f7-305">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="107f7-305">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="107f7-306">名前</span><span class="sxs-lookup"><span data-stu-id="107f7-306">Name</span></span> | <span data-ttu-id="107f7-307">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span><span class="sxs-lookup"><span data-stu-id="107f7-307">Switch.System.Globalization.FormatJapaneseFirstYearAsANumber</span></span> |
   |<span data-ttu-id="107f7-308">型</span><span class="sxs-lookup"><span data-stu-id="107f7-308">Type</span></span> | <span data-ttu-id="107f7-309">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="107f7-309">REG_SZ</span></span> |
   |<span data-ttu-id="107f7-310">[値]</span><span class="sxs-lookup"><span data-stu-id="107f7-310">Value</span></span> | <span data-ttu-id="107f7-311">1</span><span class="sxs-lookup"><span data-stu-id="107f7-311">1</span></span> |

<span data-ttu-id="107f7-312">書式設定操作が無効になっているで元年サポートにより、前の例には、次の出力が表示されます。</span><span class="sxs-lookup"><span data-stu-id="107f7-312">With gannen support in formatting operations disabled, the previous example displays the following output:</span></span>

```console
Japanese calendar date: 平成1年8月18日 (Gregorian: Friday, August 18, 1989)
```

<span data-ttu-id="107f7-313">.NET は、日付と時刻の解析操作は、「1」または元年として表される年間積算を含む文字列をサポートするためにも更新されています。</span><span class="sxs-lookup"><span data-stu-id="107f7-313">.NET has also been updated so that date and time parsing operations support strings that contain the year represented as either "1" or Gannen.</span></span> <span data-ttu-id="107f7-314">これを行うには必要ありません、ただし、時代 (年号) の最初の年として「1」のみを認識する以前の動作を復元できます。</span><span class="sxs-lookup"><span data-stu-id="107f7-314">Although you should not need to do this, you can restore the previous behavior to recognizes only “1” as the first year of an era.</span></span> <span data-ttu-id="107f7-315">この操作は、.NET のバージョンに応じて次のようはことができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-315">You can do this as follows, depending on the version of .NET:</span></span>

- <span data-ttu-id="107f7-316">**.NET core:** 次を追加することができます、 *. netcore.runtime.json*構成ファイル。</span><span class="sxs-lookup"><span data-stu-id="107f7-316">**.NET Core:** You can add the following to the *.netcore.runtime.json* config file:</span></span>

   ```json
   "runtimeOptions": {
      "configProperties": {
         "Switch.System.Globalization.EnforceLegacyJapaneseDateParsing": true
      } 
   }
   ```

- <span data-ttu-id="107f7-317">**.NET framework 4.6 以降:** 次の AppContext スイッチを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-317">**.NET Framework 4.6 or later:** You can set the following AppContext switch:</span></span>

   ```xml
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <runtime>
       <AppContextSwitchOverrides value="Switch.System.Globalization.EnforceLegacyJapaneseDateParsing=true" />
     </runtime>
   </configuration>
   ```

- <span data-ttu-id="107f7-318">**.NET framework 4.5.2 以前のバージョン。** 次のレジストリ値を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="107f7-318">**.NET Framework 4.5.2 or earlier:** You can set the following registry value:</span></span>

   |  |  |
   |--|--|  
   |<span data-ttu-id="107f7-319">キー</span><span class="sxs-lookup"><span data-stu-id="107f7-319">Key</span></span> | <span data-ttu-id="107f7-320">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span><span class="sxs-lookup"><span data-stu-id="107f7-320">HKEY_LOCAL_MACHINE\Software\Microsoft.NETFramework\AppContext</span></span> |
   |<span data-ttu-id="107f7-321">名前</span><span class="sxs-lookup"><span data-stu-id="107f7-321">Name</span></span> | <span data-ttu-id="107f7-322">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span><span class="sxs-lookup"><span data-stu-id="107f7-322">Switch.System.Globalization.EnforceLegacyJapaneseDateParsing</span></span> |
   |<span data-ttu-id="107f7-323">型</span><span class="sxs-lookup"><span data-stu-id="107f7-323">Type</span></span> | <span data-ttu-id="107f7-324">REG_SZ</span><span class="sxs-lookup"><span data-stu-id="107f7-324">REG_SZ</span></span> |
   |<span data-ttu-id="107f7-325">[値]</span><span class="sxs-lookup"><span data-stu-id="107f7-325">Value</span></span> | <span data-ttu-id="107f7-326">1</span><span class="sxs-lookup"><span data-stu-id="107f7-326">1</span></span> | 

## <a name="see-also"></a><span data-ttu-id="107f7-327">関連項目</span><span class="sxs-lookup"><span data-stu-id="107f7-327">See also</span></span>

- [<span data-ttu-id="107f7-328">方法: グレゴリオ暦以外の暦で日付の表示</span><span class="sxs-lookup"><span data-stu-id="107f7-328">How to: Display dates in non-Gregorian calendars</span></span>](../../../docs/standard/base-types/how-to-display-dates-in-non-gregorian-calendars.md)
- [<span data-ttu-id="107f7-329">サンプル: カレンダーの週の範囲のユーティリティ</span><span class="sxs-lookup"><span data-stu-id="107f7-329">Sample: Calendar week range utility</span></span>](https://code.msdn.microsoft.com/NET-Framework-4-Calendar-3360a84a)
- [<span data-ttu-id="107f7-330">Calendar クラス</span><span class="sxs-lookup"><span data-stu-id="107f7-330">Calendar class</span></span>](xref:System.Globalization.Calendar)
