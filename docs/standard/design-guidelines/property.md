---
title: "プロパティのデザイン | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "メンバー デザインのガイドライン、プロパティ"
  - "プロパティ [.NET Framework] のデザイン ガイドライン"
ms.assetid: 127cbc0c-cbed-48fd-9c89-7c5d4f98f163
caps.latest.revision: 12
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 12
---
# プロパティのデザイン
プロパティはメソッドに厳密には非常に似ていますは、使用シナリオの観点からはまったく異なります。 これらは、スマート フィールドと考える必要があります。 フィールドの呼び出しの構文とメソッドの柔軟性があります。  
  
 **✓ は** 取得専用プロパティを作成する場合は、呼び出し元では、プロパティの値を変更できません。  
  
 留意した場合の種類プロパティが変更可能な参照型、プロパティが取得専用の場合でも、プロパティの値を変更することができます。  
  
 **X のしないで** 設定専用のプロパティまたはプロパティを get アクセス操作子よりも広範なアクセシビリティを持つ set アクセス操作子を提供します。  
  
 たとえば、パブリックな setter と保護された getter プロパティは使用しないでいます。  
  
 プロパティの get アクセス操作子を提供できない場合は、代わりにメソッドとしての機能を実装します。 メソッド名での開始を検討してください `Set` 内容は指定済みの場合、プロパティに従います。 たとえば、 <xref:System.AppDomain> というメソッドを持ち `SetCachePath` というセット取り専用プロパティではなく `CachePath`です。  
  
 **✓ は** 実用的な既定値は、すべてのプロパティを既定の設定、セキュリティ ホールやそれほど非効率的なコードで発生しないことを確認します。  
  
 **✓ は** を使用する場合でも、この結果、オブジェクトの場合は、一時的な無効な状態で、任意の順序で設定するプロパティです。  
  
 一般的に、いくつかの値を 1 つのプロパティの無効になるポイントを相互に関連する 2 つ以上のプロパティの同じオブジェクトに対して他のプロパティの値が割り当てられます。 このような場合オブジェクトによって、相互に関連するプロパティをまとめて使用実際になるまで無効な状態に起因する例外を延期する必要があります。  
  
 **✓ は** プロパティ set アクセス操作子が例外をスローした場合は、前の値を保持します。  
  
 **X 回避** プロパティの getter から例外をスローします。  
  
 プロパティの getter は単純な操作をする必要があり、すべての前提条件のないです。 Getter が例外をスローする場合にする必要がありますおそらくに再設計するメソッドです。 このルールは、インデクサーの場合、引数の検証の結果として例外を考えて行うには適用されませんに注意してください。  
  
### インデックス付きプロパティのデザイン  
 インデックス付きプロパティは、パラメーターを持つことができますし、配列のインデックス処理のような特別な構文を使用して呼び出すことができる特別なプロパティです。  
  
 インデックス付きプロパティは、インデクサーとも呼ばれます。 インデクサーは、論理的なコレクション内の項目へのアクセスを提供する Api でのみ使用する必要があります。 たとえば、文字列は、一連の文字、やでインデクサー <xref:System.String?displayProperty=fullName> その文字にアクセスするようになりました。  
  
 **✓ を検討してください** インデクサーを使用して、内部配列に格納されたデータへのアクセスを提供します。  
  
 **✓ を検討してください** 項目のコレクションを表す型のインデクサーを提供します。  
  
 **X 回避** 1 つ以上のパラメーターを持つプロパティを使用してインデックスを作成します。  
  
 設計には、複数のパラメーターが必要とする場合は、実際に、プロパティは、論理的な集合をアクセサーを表すかどうかを再確認します。 そうでない場合は、代わりにメソッドを使用します。 まず、メソッド名で `Get` または `Set`です。  
  
 **X 回避** 以外のパラメーターの型を持つインデクサー <xref:System.Int32?displayProperty=fullName>, 、<xref:System.Int64?displayProperty=fullName>, 、<xref:System.String?displayProperty=fullName>, 、<xref:System.Object?displayProperty=fullName>, 、または列挙型。  
  
 設計には、その他の種類のパラメーターが必要とする場合は、厳密 API が、論理的な集合を本当にアクセサーを表すかどうかを再評価します。 そうでない場合は、メソッドを使用します。 まず、メソッド名で `Get` または `Set`です。  
  
 **✓ は** 名前を使用して `Item` のインデックス付きプロパティを明らかに向上名がある場合を除き、\(などを参照してください、 <xref:System.String.Chars%2A> プロパティを `System.String`\)。  
  
 インデクサーは、C\# の場合は、Item という名前の既定でです。<xref:System.Runtime.CompilerServices.IndexerNameAttribute> をこの名前をカスタマイズできます。  
  
 **X のしないで** インデクサーとセマンティクス的に同等のメソッドの両方を提供します。  
  
 **X のしないで** 1 つ以上のファミリの 1 つの型のオーバー ロードされたインデクサーを提供します。  
  
 これは、c\# コンパイラによって強制されます。  
  
 **X のしないで** を使用して既定以外のインデックス付きプロパティです。  
  
 これは、c\# コンパイラによって強制されます。  
  
### プロパティ変更通知イベント  
 プロパティの値の変更のユーザーに通知するイベントを提供する便利な場合があります。 たとえば、 `System.Windows.Forms.Control` を生成、 `TextChanged` の値の後にイベントの `Text` プロパティが変更されました。  
  
 **✓ を検討してください** 高水準の api \(通常、デザイナー コンポーネント\) のプロパティの値が変更されたときに通知イベントを発生させる変更します。  
  
 ユーザーがオブジェクトのプロパティを変更する場合を判断するための適切なシナリオがある場合、オブジェクトには、プロパティの変更通知イベントを発生させます。  
  
 ただし、オーバーヘッドの基本型やコレクションなどの低レベルの Api のようなイベントを発生させるのには価値がある可能性がありますはありません。 たとえば、 <xref:System.Collections.Generic.List%601> 新しい項目がリストに追加されたときに、このようなイベントを生成しませんが、 `Count` プロパティが変更されました。  
  
 **✓ を検討してください** 外的要因を使用して、プロパティの値が変更されたときに、通知イベントを発生させる変更します。  
  
 何らかの外的要因 \(的に以外のオブジェクトでメソッドを呼び出すことによって\) を使用して、プロパティ値が変更された場合、値が変更されが変更されたことを開発者にイベントを示しています。 その良い例が、 `Text` テキスト ボックス コントロールのプロパティです。 内のテキストを入力すると、 `TextBox`, 、プロパティの値が自動的に変更します。  
  
 *部分 © 2005年、2009 Microsoft Corporation します。 All rights reserved.*  
  
 *翔泳社からのアクセス許可によって検出 [Framework デザイン ガイドライン: 規則が、表現方法と再利用可能な .NET ライブラリを 2 nd Edition パターン](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) は Cwalina Brad エイブラムスによる、Microsoft Windows の開発シリーズの一部として Addison\-wesley Professional、2008 年 10 月 22 日を公開します。*  
  
## 参照  
 [メンバー デザインのガイドライン](../../../docs/standard/design-guidelines/member.md)   
 [Framework デザイン ガイドライン](../../../docs/standard/design-guidelines/index.md)