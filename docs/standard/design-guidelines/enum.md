---
title: 列挙型デザイン
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- type design guidelines, enumerations
- simple enumerations
- enumerations [.NET Framework], design guidelines
- class library design guidelines [.NET Framework], enumerations
- flags enumerations
ms.assetid: dd53c952-9d9a-4736-86ff-9540e815d545
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 544f617ca3a352814504125d7a61d70db5a81566
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2018
---
# <a name="enum-design"></a>列挙型デザイン
列挙型は、特殊な値の型です。 列挙型の 2 種類があります。 単純な列挙型、およびフラグ列挙型。  
  
 単純な列挙型は、選択肢の小さな閉じたセットを表します。 単純な列挙型の一般的な例は、色のセットです。  
  
 フラグ列挙型は、列挙値のビットごとの演算をサポートするために設計されています。 フラグ列挙体の一般的な例では、オプションの一覧を示します。  
  
 **✓ しないで**を厳密に型パラメーター、プロパティ、列挙型を使用し、戻り値のセットを表す値です。  
  
 **✓ しないで**列挙型を静的な定数の代わりに使用をお勧めします。  
  
 **X しないで**(など、オペレーティング システムのバージョン、友人などの名前)、開いているセットの列挙型を使用します。  
  
 **X しないで**将来使用するためのものでは予約されている列挙値を提供します。  
  
 値は、後の段階で既存の列挙体を常に単純に追加できます。 参照してください[列挙体に値を追加する](#add_value)列挙型に値を追加の詳細についてはします。 予約済みの値は実際の値のセットを汚染をユーザー エラーが発生する傾向があるだけです。  
  
 **避け x** 1 つだけの値を持つ列挙型を公開することです。  
  
 C Api の将来の機能拡張を確保するための一般的な方法では、メソッドのシグネチャに予約されているパラメーターを追加します。 このような予約済みのパラメーターは、1 つの既定値を持つ列挙型として表現できます。 これは、マネージ Api でない実行する必要があります。 メソッドのオーバー ロードでは、パラメーター今後のリリースで追加できます。  
  
 **X しないで**enum で sentinel 値が含まれます。  
  
 フレームワークの開発者に役立つ場合がありますが、sentinel 値は、フレームワークのユーザーが混乱です。 列挙型で表されるセットから、値のいずれかがではなく、列挙型の状態を追跡するために使用されます。  
  
 **✓ しないで**単純な列挙型のゼロの値を指定します。  
  
 値を"None"のように呼び出すことを検討してください。 このような値がこの特定の列挙型に適切でない場合、列挙型の最も一般的な既定値は、基になる値の 0 割り当て必要があります。  
  
 **✓ を検討してください**を使用して<xref:System.Int32>(ほとんどのプログラミング言語の既定値) enum の基になる型として、次のいずれかが当てはまる場合を除き、します。  
  
-   列挙型フラグ列挙は、32 を超えるフラグ、または将来の詳細が見込まれるしました。  
  
-   基になる型が必要でも異なっている<xref:System.Int32>のサイズの異なる列挙型を指定してください。 アンマネージ コードと相互運用性を容易にします。  
  
-   小さな基になる型は、スペースで大幅に節約になります。 制御フローの引数として主に使用される列挙型の場合、ほとんど違いは、サイズします。 サイズ削減量が大幅な可能性がある場合。  
  
    -   非常に頻繁にインスタンス化された構造体またはクラス内のフィールドとして使用される列挙型を必要とします。  
  
    -   ユーザー インスタンスの列挙の大きな配列またはコレクションを作成するはずです。  
  
    -   シリアル化される列挙型のインスタンスの数が多いはずです。  
  
 インメモリ使用量について管理対象のオブジェクトを常に注意してください`DWORD`-固定されているため、効果的に必要な複数の列挙型またはインスタンスの合計サイズは常にあるために、設定を変えるのために小さな列挙型でをパックするインスタンスで他の小規模の構造体まで丸めた後に、`DWORD`です。  
  
 **✓ しないで**フラグの列挙型には複数形の名詞または名詞句と単数形の名詞または名詞句と単純な列挙型の名前を付けます。  
  
 **X しないで**拡張<xref:System.Enum?displayProperty=nameWithType>直接です。  
  
 <xref:System.Enum?displayProperty=nameWithType> 特殊な種類で使用、CLR ユーザー定義列挙型を作成します。 ほとんどのプログラミング言語では、この機能にアクセスできるプログラミング要素を提供します。 たとえば、c# では、`enum`列挙体を定義するキーワードを使用します。  
  
<a name="design"></a>   
### <a name="designing-flag-enums"></a>設計のフラグ列挙型  
 **✓ しないで**適用、<xref:System.FlagsAttribute?displayProperty=nameWithType>フラグ列挙体にします。 単純な列挙体にはこの属性は適用されません。  
  
 **✓ しないで**フラグ列挙値に 2 の累乗を使用して、自由に組み合わせてことができます、ビットごとの OR 演算を使用しているためです。  
  
 **✓ を検討してください**フラグの組み合わせを使用してよくの特別な enum 値を提供します。  
  
 ビットごとの演算は高度な概念することはできません、単純なタスク <xref:System.IO.FileAccess.ReadWrite> このような特殊な値の例を示します。  
  
 **避け x**特定の値の組み合わせは有効なフラグ列挙型を作成します。  
  
 **避け x**値が「すべてのフラグをクリアする」を表し、次のガイドラインで規定された方法、適切に名前がない限り、列挙型値ゼロのフラグを使用しています。  
  
 **✓ しないで**フラグ列挙型のゼロ値の名前を付けます`None`です。 場合は、フラグ列挙型値必要があります常に意味「すべてのフラグはクリアされます」  
  
<a name="add_value"></a>   
### <a name="adding-value-to-enums"></a>列挙型に値を追加  
 このコマンドは、既に出荷した後に、列挙型に値を追加する必要があることを検出するごく一般的です。 潜在的なアプリケーションの互換性問題新しく追加された値が既存の API から返されるためには適切に記述されたアプリケーションで、新しい値を正しく処理されない可能性があります。  
  
 **✓ を検討してください**小さい互換性上のリスクに関係なく、列挙型に値を追加します。  
  
 列挙型への追加によるアプリケーションの互換性に関する実際のデータがある場合は場合、は、新旧の値を返す新しい API を追加することを検討し、古い API は、古い値だけを返す継続を非推奨です。 既存のアプリケーションの互換性を維持するようになります。  
  
 *部分 © 2005、2009 Microsoft Corporation します。All rights reserved.*  
  
 *ピアソン教育, Inc. からのアクセス許可によって検出[Framework デザイン ガイドライン: 規則、表現方法、および再利用可能な .NET ライブラリを第 2 版パターン](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619)は Cwalina と Brad Abrams、2008 年 10 月 22 日で発行されました。Microsoft Windows 開発シリーズの一部として、Addison-wesley Professional。*  
  
## <a name="see-also"></a>関連項目  
 [型デザインのガイドライン](../../../docs/standard/design-guidelines/type.md)  
 [フレームワーク デザインのガイドライン](../../../docs/standard/design-guidelines/index.md)
