---
title: "列挙型デザイン | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "型のデザインのガイドライン、列挙型"
  - "単純な列挙体"
  - "列挙体 [.NET Framework] のデザイン ガイドライン"
  - "クラス ライブラリ デザインのガイドライン [.NET Framework] 列挙型"
  - "フラグ列挙体"
ms.assetid: dd53c952-9d9a-4736-86ff-9540e815d545
caps.latest.revision: 11
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 11
---
# 列挙型デザイン
列挙型は、特殊な値の型です。 列挙値の 2 種類があります。 単純な列挙型、およびフラグの列挙型。  
  
 単純な列挙型は、選択肢の小さな閉じたセットを表します。 シンプルな列挙体の一般的な例は、色のセットです。  
  
 フラグ列挙型は、列挙値のビットごとの演算をサポートするために設計されています。 フラグ列挙体の一般的な例では、オプションの一覧を示します。  
  
 **✓ は** を厳密に型パラメーター、プロパティ、列挙型を使用し、戻り値のセットを表す値。  
  
 **✓ は** 列挙型を静的な定数の代わりに使用をお勧めします。  
  
 **X のしないで** 集合 \(など、オペレーティング システムのバージョン、友人などの名前\) に列挙型を使用します。  
  
 **X のしないで** 将来使用するは、予約済みの列挙値を指定します。  
  
 値は、後の段階で既存の列挙体を常に単純に追加できます。 参照してください [列挙体に値を追加する](#add_value) 列挙体に値を追加することの詳細についてです。 予約済みの値は煩雑に実際の値のセットをユーザー エラーが発生する傾向がありますだけです。  
  
 **X 回避** 1 つだけの値を持つ列挙型を公開することです。  
  
 C Api の将来の拡張性を確保するための一般的な方法では、メソッド シグネチャに予約されているパラメーターを追加します。 このような予約済みのパラメーターは、1 つの既定値を持つ列挙型として表現できます。 これは、マネージ Api で実行する必要がありますされません。 メソッドのオーバー ロードとは、将来リリースされるパラメーターを追加できます。  
  
 **X のしないで** 列挙型に sentinel 値を含めます。  
  
 フレームワーク開発者に役立つ場合がありますが、sentinel 値は、フレームワークのユーザーが混乱します。 列挙型で表されるセットから、値のいずれかがするのではなく、列挙型の状態を追跡するために使用されます。  
  
 **✓ は** 単純な列挙型のゼロの値を指定します。  
  
 値を"None"のように呼び出すことを検討してください。 このような値がこの特定の列挙型に対して適切でない場合列挙型の最も一般的な既定値は、基になる値の 0 割り当てる必要があります。  
  
 **✓ を検討してください** を使用して <xref:System.Int32> \(大半のプログラミング言語の既定値\) 列挙型の基になる型として、次のいずれかが当てはまる場合を除き。  
  
-   列挙型はフラグ列挙体を 32 を超えるフラグが設定されてしたり、将来さらにが見込まれます。  
  
-   基になる型が異なるする必要がある <xref:System.Int32> さまざまなサイズを持つ列挙型を指定して、アンマネージ コードと相互運用性を容易にします。  
  
-   小規模な基になる型は、領域が大幅に節約になります。 制御フローの引数として主に使用される列挙型の場合、サイズもほとんど違いを します。 サイズの削減が大きなある場合。  
  
    -   非常に頻繁にインスタンス化された構造体またはクラス内のフィールドとして使用する列挙型を予測します。  
  
    -   ユーザー インスタンスの列挙の大規模な配列またはコレクションを作成するとします。  
  
    -   シリアル化する列挙型のインスタンスの数が多いはずです。  
  
 メモリ内の使用方法は、マネージ オブジェクトは常にことに留意して `DWORD`\-固定されているため、複数の列挙型、またはインスタンスの合計サイズは最大ラウンドを常にので違いするためにで小規模な列挙体をパックするインスタンスの他の小さな構造を効果的に必要な `DWORD`です。  
  
 **✓ は** フラグの列挙型には複数形の名詞または名詞句と単数形の名詞または名詞句と単純な列挙型の名前します。  
  
 **X のしないで** 拡張 <xref:System.Enum?displayProperty=fullName> 直接します。  
  
 <xref:System.Enum?displayProperty=fullName> 特殊な CLR が使用をユーザー定義の列挙体を作成します。 大半のプログラミング言語では、この機能にアクセスできるプログラミングの要素を提供します。 C\# などの `enum` 列挙体を定義するキーワードを使用します。  
  
<a name="design"></a>   
### フラグ列挙型を設計します。  
 **✓ は** 適用、 <xref:System.FlagsAttribute?displayProperty=fullName> フラグ列挙体にします。 単純な列挙体にはこの属性は適用されません。  
  
 **✓ は** ようにする自由にビットごとの OR 演算を使用して、フラグ列挙値に 2 の累乗を使用します。  
  
 **✓ を検討してください** フラグの組み合わせを使用して通常の特別な列挙値を提供することです。  
  
 ビットごとの演算は、高度な概念では単純な作業は必要ありません。<xref:System.IO.FileAccess> このような特殊な値の例に示します。  
  
 **X 回避** 特定の値の組み合わせが有効なフラグ列挙型を作成します。  
  
 **X 回避** 値が「すべてのフラグをクリアする」を表すし、次のガイドラインの規定に従って、適切な名前はしない限り、列挙値がゼロのフラグを設定を使用します。  
  
 **✓ は** フラグの列挙値のゼロ値に名前を `None`します。 フラグ列挙型の値常にということになる"すべてのフラグがクリアされます"  
  
<a name="add_value"></a>   
### 列挙体に値を追加します。  
 既に出荷した後に、列挙型に値を追加する必要があることを検出することがよくなります。 アプリケーションの互換性の問題がある可能性が新しく追加された値が既存の API から返されるためには品質の低いアプリケーションで、新しい値を正しく処理されない可能性があります。  
  
 **✓ を検討してください** 互換性に関する小さなリスクに関係なく、列挙型に値を追加します。  
  
 列挙型への追加によるアプリケーション互換性に関する実際のデータがある場合は、新旧の値を返す新しい API の追加を検討しを続行する古い値だけが返される以前の API の使用を避けます。 既存のアプリケーションの互換性を維持するようになります。  
  
 *部分 © 2005年、2009 Microsoft Corporation します。 All rights reserved.*  
  
 *翔泳社からのアクセス許可によって検出 [Framework デザイン ガイドライン: 規則が、表現方法と再利用可能な .NET ライブラリを 2 nd Edition パターン](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) は Cwalina Brad エイブラムスによる、Microsoft Windows の開発シリーズの一部として Addison\-wesley Professional、2008 年 10 月 22 日を公開します。*  
  
## 参照  
 [型デザインのガイドライン](../../../docs/standard/design-guidelines/type.md)   
 [Framework デザイン ガイドライン](../../../docs/standard/design-guidelines/index.md)