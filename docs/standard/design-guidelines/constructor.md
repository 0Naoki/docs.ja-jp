---
title: "コンス トラクターのデザイン | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "メンバー デザインのガイドライン、コンス トラクター"
  - "コンス トラクター、設計のガイドライン"
  - "インスタンス コンストラクター"
  - "型コンス トラクター"
  - "仮想メンバー"
  - "型のコンス トラクター"
  - "既定のコンス トラクター"
  - "静的コンストラクター"
ms.assetid: b4496afe-5fa7-4bb0-85ca-70b0ef21e6fc
caps.latest.revision: 12
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 12
---
# コンス トラクターのデザイン
コンス トラクターの 2 種類があります: コンス トラクターとインスタンス コンス トラクターを入力します。  
  
 型コンス トラクターは、静的および型を使用する前に、CLR で実行されます。 インスタンス コンス トラクターは、型のインスタンスが作成されたときに実行します。  
  
 型コンス トラクターは、すべてのパラメーターを使用できません。 インスタンス コンス トラクターは、次のことです。 パラメーターを受け取りませんインスタンス コンス トラクターは、既定のコンス トラクターとも呼ばれます。  
  
 コンス トラクターは、型のインスタンスを作成する最も自然な方法です。 ほとんどの開発者は検索し、別の \(工場出荷時のメソッド\) などのインスタンスを作成する方法を検討する前に、コンス トラクターを使用しようとします。  
  
 **✓ を検討してください** シンプル、理想的には、既定のコンス トラクターを提供します。  
  
 簡単なコンス トラクターがパラメーターの数が非常に少ないと、すべてのパラメーターは、プリミティブまたは列挙型。 このような単純なコンス トラクターは、フレームワークのユーザビリティを向上させます。  
  
 **✓ を検討してください** 目的の操作のセマンティクスは、新しいインスタンスの構築に直接マップされない場合や、不自然コンス トラクターのデザイン ガイドラインに従う場合は、コンス トラクターではなく静的ファクトリ メソッドを使用しています。  
  
 **✓ は** 主要なプロパティを設定するためのショートカットとしてコンス トラクターのパラメーターを使用します。  
  
 意味的に同じことはありませんいくつかのプロパティ セットの後に空のコンス トラクターを使用して、複数の引数を持つコンス トラクターを使用します。  
  
 **✓ は** 単にプロパティを設定するコンス トラクターのパラメーターが使用されている場合は、コンス トラクターのパラメーターとプロパティに同じ名前を使用します。  
  
 このようなパラメーターとプロパティの唯一の違い大文字小文字の区別する必要があります。  
  
 **✓ は** 、コンス トラクターで最低限の作業です。  
  
 コンス トラクターは、キャプチャ以外処理がコンス トラクターのパラメーターを実行しないで必要があります。 その他の処理のコストは、必要になるまでに遅延する必要があります。  
  
 **✓ は** 該当する場合は、インスタンス コンス トラクターから例外をスローします。  
  
 **✓ は** このようなコンス トラクターが必要な場合に、クラスのパブリックの既定のコンス トラクターを明示的に宣言します。  
  
 型のコンス トラクターを明示的に宣言しない、多くの言語 \(c\# など\) するときに、パブリックの既定のコンス トラクターが自動的に追加します。 \(抽象クラスは、保護されているコンス トラクターを取得します\)。  
  
 クラスにパラメーター化されたコンス トラクターを追加すると、コンパイラは既定のコンス トラクターを追加できなくなります。 これにより、多くの場合、偶発的な重大な変更が原因です。  
  
 **X 回避** 構造体で、既定のコンス トラクターを明示的に定義します。  
  
 これにより、配列の作成より速く、既定のコンス トラクターが定義されていない場合はないため、配列内のすべてのスロット上で実行します。 など、C\# の場合は、多くのコンパイラがそのためのパラメーターなしのコンス トラクターを持つ構造体を許可しないことに注意してください。  
  
 **X 回避** コンス トラクター内のオブジェクトでの仮想メンバーを呼び出すことです。  
  
 大多数の派生型のコンス トラクターが実行されていない完全にまだ場合でも、仮想メンバーを呼び出すことに呼び出される最派生のオーバーライドによりされます。  
  
### 型のコンス トラクターのガイドライン  
 **✓ は** 静的コンス トラクターをプライベートに設定します。  
  
 クラスのコンス トラクターとも呼ばれます。 静的コンス トラクターを使用して、型を初期化します。 CLR は、型の最初のインスタンスを作成またはその型の静的メンバーが呼び出される前に静的コンス トラクターを呼び出します。 ユーザーには、静的コンス トラクターが呼び出されたときに制御がありません。 静的コンス トラクターがプライベートでない場合は、CLR 以外のコードから呼び出すことができます。 コンス トラクターで実行される操作によって予期しない動作ができます。 C\# コンパイラでは、静的コンス トラクターをプライベートを強制します。  
  
 **X のしないで** 静的コンス トラクターから例外をスローします。  
  
 型コンス トラクターから例外がスローされた場合、型が使用可能な現在のアプリケーション ドメインで  
  
 **✓ を検討してください** 、ランタイムが明示的に定義された静的コンス トラクターがない型のパフォーマンスを最適化することがあるために、静的コンス トラクターを明示的に使用するのではなく、静的フィールドをインラインを初期化します。  
  
 *部分 © 2005年、2009 Microsoft Corporation します。 All rights reserved.*  
  
 *翔泳社からのアクセス許可によって検出 [Framework デザイン ガイドライン: 規則が、表現方法と再利用可能な .NET ライブラリを 2 nd Edition パターン](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) は Cwalina Brad エイブラムスによる、Microsoft Windows の開発シリーズの一部として Addison\-wesley Professional、2008 年 10 月 22 日を公開します。*  
  
## 参照  
 [メンバー デザインのガイドライン](../../../docs/standard/design-guidelines/member.md)   
 [Framework デザイン ガイドライン](../../../docs/standard/design-guidelines/index.md)