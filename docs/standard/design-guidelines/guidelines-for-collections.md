---
title: "コレクションに関するガイドライン"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
caps.latest.revision: 
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 09a2a075e21de6968989575385db07ab39eb627f
ms.sourcegitcommit: c3957fdb990060559d73cca44ab3e2c7b4d049c0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/05/2018
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="27af1-102">コレクションに関するガイドライン</span><span class="sxs-lookup"><span data-stu-id="27af1-102">Guidelines for Collections</span></span>
<span data-ttu-id="27af1-103">任意の型が共通の特性を持つオブジェクトのグループの操作を厳密には、コレクションを見なすことができます。</span><span class="sxs-lookup"><span data-stu-id="27af1-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="27af1-104">実装するには、このような型に適したはほぼ<xref:System.Collections.IEnumerable>または<xref:System.Collections.Generic.IEnumerable%601>、このセクションの内容おのみ考慮されるようにコレクションにそれらのインターフェイスの一方または両方を実装する型。</span><span class="sxs-lookup"><span data-stu-id="27af1-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>  
  
 <span data-ttu-id="27af1-105">**X しないで**パブリック Api で弱く型指定されたコレクションを使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-105">**X DO NOT** use weakly typed collections in public APIs.</span></span>  
  
 <span data-ttu-id="27af1-106">すべての戻り値およびパラメーターを表すコレクション アイテムの種類は、その基本型 (これは、コレクションのパブリック メンバーにのみ適用) の正確な項目の種類にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="27af1-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>  
  
 <span data-ttu-id="27af1-107">**X しないで**使用<xref:System.Collections.ArrayList>または<xref:System.Collections.Generic.List%601>パブリック Api でします。</span><span class="sxs-lookup"><span data-stu-id="27af1-107">**X DO NOT** use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>  
  
 <span data-ttu-id="27af1-108">これらの型は、パブリック Api ではなく、内部の実装で使用するためのデータ構造です。</span><span class="sxs-lookup"><span data-stu-id="27af1-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="27af1-109">`List<T>` パフォーマンスと電力消費 cleanness Api と柔軟性を犠牲に最適です。</span><span class="sxs-lookup"><span data-stu-id="27af1-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="27af1-110">返す場合など、 `List<T>`、いない続けることができますをクライアント コードは、コレクションを変更するときに通知を受信します。</span><span class="sxs-lookup"><span data-stu-id="27af1-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="27af1-111">また、`List<T>`など多くのメンバーを公開<xref:System.Collections.Generic.List%601.BinarySearch%2A>、いないの役に立たず、多くのシナリオに該当します。</span><span class="sxs-lookup"><span data-stu-id="27af1-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="27af1-112">次の 2 つのセクションでは、パブリック Api で使用する専用に設計された型 (抽象) について説明します。</span><span class="sxs-lookup"><span data-stu-id="27af1-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>  
  
 <span data-ttu-id="27af1-113">**X しないで**使用`Hashtable`または`Dictionary<TKey,TValue>`パブリック Api でします。</span><span class="sxs-lookup"><span data-stu-id="27af1-113">**X DO NOT** use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>  
  
 <span data-ttu-id="27af1-114">これらの型は、データ構造体の内部実装に使用するよう設計されています。</span><span class="sxs-lookup"><span data-stu-id="27af1-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="27af1-115">パブリック Api を使用する必要があります<xref:System.Collections.IDictionary>、 `IDictionary <TKey, TValue>`、またはいずれかまたは両方のインターフェイスを実装するカスタム型です。</span><span class="sxs-lookup"><span data-stu-id="27af1-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>  
  
 <span data-ttu-id="27af1-116">**X しないで**使用<xref:System.Collections.Generic.IEnumerator%601>、 <xref:System.Collections.IEnumerator>、またはその他の型以外の戻り値の型として実装する、これらのインターフェイスのいずれかを`GetEnumerator`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="27af1-116">**X DO NOT** use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>  
  
 <span data-ttu-id="27af1-117">以外の場合、メソッドから列挙子を返す型`GetEnumerator`では使用できません、`foreach`ステートメントです。</span><span class="sxs-lookup"><span data-stu-id="27af1-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>  
  
 <span data-ttu-id="27af1-118">**X しないで**両方を実装する`IEnumerator<T>`と`IEnumerable<T>`と同じ型にします。</span><span class="sxs-lookup"><span data-stu-id="27af1-118">**X DO NOT** implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="27af1-119">非ジェネリック インターフェイスに適用される同じ`IEnumerator`と`IEnumerable`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>  
  
## <a name="collection-parameters"></a><span data-ttu-id="27af1-120">コレクションのパラメーター</span><span class="sxs-lookup"><span data-stu-id="27af1-120">Collection Parameters</span></span>  
 <span data-ttu-id="27af1-121">**✓ しないで**パラメーター型として型の最小に特化した可能性のあるを使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-121">**✓ DO** use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="27af1-122">ほとんどのメンバーを使用するパラメーターとして、コレクションを受け取る、`IEnumerable<T>`インターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="27af1-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>  
  
 <span data-ttu-id="27af1-123">**避け x**を使用して<xref:System.Collections.Generic.ICollection%601>または<xref:System.Collections.ICollection>にアクセスするだけのパラメーターとして、`Count`プロパティです。</span><span class="sxs-lookup"><span data-stu-id="27af1-123">**X AVOID** using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>  
  
 <span data-ttu-id="27af1-124">代わりに、`IEnumerable<T>`または`IEnumerable`と動的にオブジェクトが実装されているかどうかをチェック`ICollection<T>`または`ICollection`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>  
  
## <a name="collection-properties-and-return-values"></a><span data-ttu-id="27af1-125">コレクションのプロパティと戻り値</span><span class="sxs-lookup"><span data-stu-id="27af1-125">Collection Properties and Return Values</span></span>  
 <span data-ttu-id="27af1-126">**X しないで**設定可能なコレクション プロパティを提供します。</span><span class="sxs-lookup"><span data-stu-id="27af1-126">**X DO NOT** provide settable collection properties.</span></span>  
  
 <span data-ttu-id="27af1-127">ユーザーは、最初、コレクションをクリアして、新しい内容を追加し、コレクションの内容を置き換えることができます。</span><span class="sxs-lookup"><span data-stu-id="27af1-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="27af1-128">コレクション全体を置き換えることがある場合、一般的なシナリオを提供することを検討してください、`AddRange`コレクション メソッド。</span><span class="sxs-lookup"><span data-stu-id="27af1-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>  
  
 <span data-ttu-id="27af1-129">**✓ は**を使用して`Collection<T>`またはそのサブクラスの`Collection<T>`プロパティまたは戻り値を表す読み取り/書き込みコレクション用です。</span><span class="sxs-lookup"><span data-stu-id="27af1-129">**✓ DO** use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>  
  
 <span data-ttu-id="27af1-130">場合`Collection<T>`いくつかの条件を満たしていません (など、コレクションを実装する必要がありますいない<xref:System.Collections.IList>)、実装することによってカスタム コレクションを使用して`IEnumerable<T>`、 `ICollection<T>`、または<xref:System.Collections.Generic.IList%601>です。</span><span class="sxs-lookup"><span data-stu-id="27af1-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>  
  
 <span data-ttu-id="27af1-131">**✓ は**使用<xref:System.Collections.ObjectModel.ReadOnlyCollection%601>のサブクラス`ReadOnlyCollection<T>`、まれなケースとして、または`IEnumerable<T>`プロパティまたは戻り値を表す読み取り専用のコレクションのです。</span><span class="sxs-lookup"><span data-stu-id="27af1-131">**✓ DO** use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>  
  
 <span data-ttu-id="27af1-132">一般に、必要に応じて`ReadOnlyCollection<T>`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="27af1-133">いくつかの要件を満たしていない場合 (など、コレクションを実装する必要がありますいない`IList`)、実装することによってカスタム コレクションを使用して`IEnumerable<T>`、 `ICollection<T>`、または`IList<T>`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="27af1-134">カスタムの読み取り専用コレクションを実装する場合は、実装`ICollection<T>.IsReadOnly`を返す`true`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-134">If you do implement a custom read-only collection, implement `ICollection<T>.IsReadOnly` to return `true`.</span></span>  
  
 <span data-ttu-id="27af1-135">あるか、唯一のシナリオをサポートすることがイテレーションを順方向専用であることを確認する場合、単に使用できます`IEnumerable<T>`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>  
  
 <span data-ttu-id="27af1-136">**✓ を検討してください**ジェネリックの基本コレクションのサブクラスを使用して、コレクションを直接使用する代わりにします。</span><span class="sxs-lookup"><span data-stu-id="27af1-136">**✓ CONSIDER** using subclasses of generic base collections instead of using the collections directly.</span></span>  
  
 <span data-ttu-id="27af1-137">これにより、名前を向上し、基本コレクション型に記載されていないヘルパー メンバーを追加するためです。</span><span class="sxs-lookup"><span data-stu-id="27af1-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="27af1-138">これは、特に高水準の Api を適用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-138">This is especially applicable to high-level APIs.</span></span>  
  
 <span data-ttu-id="27af1-139">**✓ を検討してください**のサブクラスを返す`Collection<T>`または`ReadOnlyCollection<T>`から非常に一般的に使用されるメソッドとプロパティ。</span><span class="sxs-lookup"><span data-stu-id="27af1-139">**✓ CONSIDER** returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>  
  
 <span data-ttu-id="27af1-140">これが可能になりますヘルパー メソッドを追加またはコレクション実装では、今後の変更を行うためです。</span><span class="sxs-lookup"><span data-stu-id="27af1-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>  
  
 <span data-ttu-id="27af1-141">**✓ を検討してください**コレクションに格納されている項目が一意キーを持つ場合、キー付きコレクションを使用する (名前、Id などです。)。</span><span class="sxs-lookup"><span data-stu-id="27af1-141">**✓ CONSIDER** using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="27af1-142">キー付きコレクションは、整数値とキーの両方でインデックスを作成できる通常を継承して実装するコレクション`KeyedCollection<TKey,TItem>`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>  
  
 <span data-ttu-id="27af1-143">キー付きコレクション通常より大きなメモリ フット プリントとには、メモリのオーバーヘッドが、キーの利点を上回る場合、使用できません。</span><span class="sxs-lookup"><span data-stu-id="27af1-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>  
  
 <span data-ttu-id="27af1-144">**X しないで**コレクション プロパティまたはコレクションを返すメソッドから null 値を返します。</span><span class="sxs-lookup"><span data-stu-id="27af1-144">**X DO NOT** return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="27af1-145">代わりに、空のコレクションまたは空の配列を返します。</span><span class="sxs-lookup"><span data-stu-id="27af1-145">Return an empty collection or an empty array instead.</span></span>  
  
 <span data-ttu-id="27af1-146">一般的な規則は、null および空の (0 項目) のコレクションまたは配列をする必要があります同じ扱われます。</span><span class="sxs-lookup"><span data-stu-id="27af1-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>  
  
### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="27af1-147">ライブのコレクションとの比較のスナップショット</span><span class="sxs-lookup"><span data-stu-id="27af1-147">Snapshots Versus Live Collections</span></span>  
 <span data-ttu-id="27af1-148">時刻である時点の状態を表すコレクションは、スナップショットのコレクションと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="27af1-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="27af1-149">たとえば、データベース クエリから返される行を含むコレクションのスナップショットがあります。</span><span class="sxs-lookup"><span data-stu-id="27af1-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="27af1-150">常に現在の状態を表すコレクションは、ライブのコレクションと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="27af1-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="27af1-151">たとえば、一連の`ComboBox`項目はライブのコレクション。</span><span class="sxs-lookup"><span data-stu-id="27af1-151">For example, a collection of `ComboBox` items is a live collection.</span></span>  
  
 <span data-ttu-id="27af1-152">**X しないで**プロパティからスナップショットのコレクションを返します。</span><span class="sxs-lookup"><span data-stu-id="27af1-152">**X DO NOT** return snapshot collections from properties.</span></span> <span data-ttu-id="27af1-153">プロパティは、ライブのコレクションを返す必要があります。</span><span class="sxs-lookup"><span data-stu-id="27af1-153">Properties should return live collections.</span></span>  
  
 <span data-ttu-id="27af1-154">プロパティ get アクセス操作子は、非常に軽量の操作をする必要があります。</span><span class="sxs-lookup"><span data-stu-id="27af1-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="27af1-155">スナップショットを取得するには、o (n) 操作の内部コレクションのコピーを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="27af1-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>  
  
 <span data-ttu-id="27af1-156">**✓ しないで**スナップショット コレクションまたはライブのいずれかを使用して`IEnumerable<T>`(またはそのサブタイプ) は揮発性であるコレクションを表現する (つまり、変更可能なコレクションを明示的に変更することがなく)。</span><span class="sxs-lookup"><span data-stu-id="27af1-156">**✓ DO** use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>  
  
 <span data-ttu-id="27af1-157">一般に、共有リソース (ディレクトリ内のファイルなど) を表すすべてのコレクションは、揮発性です。</span><span class="sxs-lookup"><span data-stu-id="27af1-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="27af1-158">このようなコレクションは、非常に困難か不可能実装が単に、順方向専用の列挙子でない限り、ライブのコレクションとして実装するにです。</span><span class="sxs-lookup"><span data-stu-id="27af1-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>  
  
## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="27af1-159">配列またはコレクションの選択</span><span class="sxs-lookup"><span data-stu-id="27af1-159">Choosing Between Arrays and Collections</span></span>  
 <span data-ttu-id="27af1-160">**✓ しないで**コレクションを配列よりも優先されます。</span><span class="sxs-lookup"><span data-stu-id="27af1-160">**✓ DO** prefer collections over arrays.</span></span>  
  
 <span data-ttu-id="27af1-161">コレクションは、時間の経過とともに進化させることができます、およびがより使いやすくする内容より詳細に制御を提供します。</span><span class="sxs-lookup"><span data-stu-id="27af1-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="27af1-162">さらに、読み取り専用の配列の使用はお勧め、配列の複製のコストが非常に大きいためです。</span><span class="sxs-lookup"><span data-stu-id="27af1-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="27af1-163">使いやすさの調査によると、一部の開発者と感じるユーザー コレクション ベースの Api を使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>  
  
 <span data-ttu-id="27af1-164">ただし、低レベルの Api を開発している場合、読み取り/書き込みのシナリオの配列を使用する方がよい場合があります。</span><span class="sxs-lookup"><span data-stu-id="27af1-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="27af1-165">配列は、メモリの使用量、ワーキング セットを削減できるようにするには、これを持ち、ランタイムによって、最適化されているために、配列内の要素へのアクセスが高速化。</span><span class="sxs-lookup"><span data-stu-id="27af1-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>  
  
 <span data-ttu-id="27af1-166">**✓ を検討してください**低レベルの Api でのメモリ消費量を最小限に抑えるし、パフォーマンスを最大化する配列を使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-166">**✓ CONSIDER** using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>  
  
 <span data-ttu-id="27af1-167">**✓ しないで**バイトのコレクションではなくバイト配列を使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-167">**✓ DO** use byte arrays instead of collections of bytes.</span></span>  
  
 <span data-ttu-id="27af1-168">**X しないで**プロパティをプロパティ getter を呼び出すたびに新しい配列 (内部の配列のコピーなど) を返す必要がある場合、プロパティの配列を使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-168">**X DO NOT** use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>  
  
## <a name="implementing-custom-collections"></a><span data-ttu-id="27af1-169">カスタム コレクションを実装します。</span><span class="sxs-lookup"><span data-stu-id="27af1-169">Implementing Custom Collections</span></span>  
 <span data-ttu-id="27af1-170">**✓ を検討してください**から継承する`Collection<T>`、 `ReadOnlyCollection<T>`、または`KeyedCollection<TKey,TItem>`新しいコレクションを設計するとき。</span><span class="sxs-lookup"><span data-stu-id="27af1-170">**✓ CONSIDER** inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>  
  
 <span data-ttu-id="27af1-171">**✓ しないで**実装`IEnumerable<T>`新しいコレクションを設計するとき。</span><span class="sxs-lookup"><span data-stu-id="27af1-171">**✓ DO** implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="27af1-172">実装の検討`ICollection<T>`またはでも`IList<T>`理にかなっています。</span><span class="sxs-lookup"><span data-stu-id="27af1-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>  
  
 <span data-ttu-id="27af1-173">このようなカスタム コレクションを実装するには場合、によって確立された API のパターンに従う`Collection<T>`と`ReadOnlyCollection<T>`可能な限りです。</span><span class="sxs-lookup"><span data-stu-id="27af1-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="27af1-174">つまり、同じメンバーを明示的に実装する、これら 2 つのコレクションに名前を付けてなどと同様に、パラメーターの名前を付けます。</span><span class="sxs-lookup"><span data-stu-id="27af1-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>  
  
 <span data-ttu-id="27af1-175">**✓ を検討してください**非ジェネリック コレクション インターフェイスを実装する (`IList`と`ICollection`) 場合は、コレクションは多くの場合する Api に渡される入力としてこれらのインターフェイスを取得します。</span><span class="sxs-lookup"><span data-stu-id="27af1-175">**✓ CONSIDER** implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>  
  
 <span data-ttu-id="27af1-176">**避け x**コレクションの概念とは無関係な複雑な Api を使用した型にコレクション インターフェイスを実装します。</span><span class="sxs-lookup"><span data-stu-id="27af1-176">**X AVOID** implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>  
  
 <span data-ttu-id="27af1-177">**X しないで**など非ジェネリックの基本コレクションから継承`CollectionBase`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-177">**X DO NOT** inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="27af1-178">使用して`Collection<T>`、 `ReadOnlyCollection<T>`、および`KeyedCollection<TKey,TItem>`代わりにします。</span><span class="sxs-lookup"><span data-stu-id="27af1-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>  
  
### <a name="naming-custom-collections"></a><span data-ttu-id="27af1-179">名前付けのカスタム コレクション</span><span class="sxs-lookup"><span data-stu-id="27af1-179">Naming Custom Collections</span></span>  
 <span data-ttu-id="27af1-180">コレクション (型を実装する`IEnumerable`) 主に 2 つの理由が作成されますパフォーマンス特性が異なる既存のデータ構造体と構造体に固有の操作と多くの場合は、新しいデータ構造を作成するには、(1) (例: <xref:System.Collections.Generic.List%601>、。<xref:System.Collections.Generic.LinkedList%601>、 <xref:System.Collections.Generic.Stack%601>)、および特定の項目のセットを保持するための特殊化されたコレクションを作成するには、(2) (例: <xref:System.Collections.Specialized.StringCollection>)。</span><span class="sxs-lookup"><span data-stu-id="27af1-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="27af1-181">データ構造体は、アプリケーションおよびライブラリの内部的な実装で最もよく使用されます。</span><span class="sxs-lookup"><span data-stu-id="27af1-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="27af1-182">専用コレクションは、(プロパティおよびパラメーターの型) として Api で公開するには、主に、します。</span><span class="sxs-lookup"><span data-stu-id="27af1-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>  
  
 <span data-ttu-id="27af1-183">**✓ しないで**を実装する抽象クラスの名前に「ディクショナリ」サフィックスを使用`IDictionary`または`IDictionary<TKey,TValue>`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-183">**✓ DO** use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>  
  
 <span data-ttu-id="27af1-184">**✓ しないで**を実装する型の名前に「コレクション」サフィックスを使用`IEnumerable`(またはその子孫のいずれかの) 項目のリストを表すとします。</span><span class="sxs-lookup"><span data-stu-id="27af1-184">**✓ DO** use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>  
  
 <span data-ttu-id="27af1-185">**✓ しないで**カスタム データ構造に対する、適切なデータ構造の名前を使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-185">**✓ DO** use the appropriate data structure name for custom data structures.</span></span>  
  
 <span data-ttu-id="27af1-186">**避け x**コレクションの抽象化の名前に"LinkedList"または「ハッシュ テーブル、」などの特定の実装の暗黙的な任意のサフィックスを使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-186">**X AVOID** using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>  
  
 <span data-ttu-id="27af1-187">**✓ を検討してください**項目の種類の名前を持つコレクションの名前を付けることです。</span><span class="sxs-lookup"><span data-stu-id="27af1-187">**✓ CONSIDER** prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="27af1-188">たとえば、型の項目を格納するコレクション`Address`(実装`IEnumerable<Address>`) という名前を付ける必要があります`AddressCollection`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="27af1-189">プレフィックス"I"、項目の種類がインターフェイスの場合は、項目の種類を省略できます。</span><span class="sxs-lookup"><span data-stu-id="27af1-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="27af1-190">したがって、一連の<xref:System.IDisposable>項目を呼び出すことができる`DisposableCollection`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>  
  
 <span data-ttu-id="27af1-191">**✓ を検討してください**対応する書き込み可能なコレクションが追加されるか、フレームワークに既に存在する場合に、読み取り専用コレクションの名前に"ReadOnly"プレフィックスを使用します。</span><span class="sxs-lookup"><span data-stu-id="27af1-191">**✓ CONSIDER** using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>  
  
 <span data-ttu-id="27af1-192">たとえば、文字列の読み取り専用コレクションを呼び出す必要があります`ReadOnlyStringCollection`です。</span><span class="sxs-lookup"><span data-stu-id="27af1-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>  
  
 <span data-ttu-id="27af1-193">*Portions © 2005, 2009 Microsoft Corporation.All rights reserved.*</span><span class="sxs-lookup"><span data-stu-id="27af1-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>  
  
 <span data-ttu-id="27af1-194">*ピアソン教育, Inc. からのアクセス許可によって検出[Framework デザイン ガイドライン: 規則、表現方法、および再利用可能な .NET ライブラリを第 2 版パターン](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619)は Cwalina と Brad Abrams、2008 年 10 月 22 日で発行されました。Microsoft Windows 開発シリーズの一部として、Addison-wesley Professional。*</span><span class="sxs-lookup"><span data-stu-id="27af1-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="27af1-195">参照</span><span class="sxs-lookup"><span data-stu-id="27af1-195">See Also</span></span>  
 [<span data-ttu-id="27af1-196">フレームワーク デザインのガイドライン</span><span class="sxs-lookup"><span data-stu-id="27af1-196">Framework Design Guidelines</span></span>](../../../docs/standard/design-guidelines/index.md)  
 [<span data-ttu-id="27af1-197">使用方法のガイドライン</span><span class="sxs-lookup"><span data-stu-id="27af1-197">Usage Guidelines</span></span>](../../../docs/standard/design-guidelines/usage-guidelines.md)
