---
title: "パラメーターのデザイン | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-standard"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
helpviewer_keywords: 
  - "メンバー デザインのガイドライン [.NET Framework] パラメーター"
  - "パラメーターであるメンバー [.NET Framework]"
  - "パラメーターの名前 [.NET Framework]"
  - "パラメーターの設計ガイドライン"
  - "予約済みのパラメーター"
ms.assetid: 3f33bf46-4a7b-43b3-bb78-1ffebe0dcfa6
caps.latest.revision: 11
author: "rpetrusha"
ms.author: "ronpet"
manager: "wpickett"
caps.handback.revision: 11
---
# パラメーターのデザイン
このセクションでは、引数をチェックするためのガイドラインを使用してセクションをなど、パラメーターの設計でさまざまなガイドラインを提供します。 さらで説明するガイドラインを参照してください [パラメーターの名前を付ける](../../../docs/standard/design-guidelines/naming-parameters.md)します。  
  
 **✓ は** メンバーに必要な機能を提供する、少なくとも派生パラメーター型を使用します。  
  
 たとえば、コレクションを列挙して、コンソールに各項目を印刷する方法を設計する必要があるとします。 このようなメソッドを実行する必要があります <xref:System.Collections.IEnumerable> 、パラメーターとしていない <xref:System.Collections.ArrayList> または <xref:System.Collections.IList>, などです。  
  
 **X のしないで** 予約済みのパラメーターを使用します。  
  
 さらに、メンバーへの入力が将来のバージョンで必要な場合は、新しいオーバー ロードを追加できます。  
  
 **X のしないで** ポインター、ポインターの配列またはパラメーターとして多次元配列を受け取るメソッドがパブリックに公開します。  
  
 ポインター、および多次元配列比較的しにくいを適切に使用します。 ほとんどの場合に、Api はこれらの型をパラメーターとしてを防ぐために再設計することができます。  
  
 **✓ は** すべて配置 `out` で値をすべてのパラメーターと `ref` パラメーター \(除外パラメーター配列\) にパラメーターのオーバー ロード間の順序に一貫性がない場合でも \(を参照してください [メンバーのオーバー ロード](../../../docs/standard/design-guidelines/member-overloading.md)\)。  
  
 `out` パラメーターは、余分な戻り値として見なすことができ、理解しやすく、メソッド シグネチャは、グループ化します。  
  
 **✓ は** メンバーをオーバーライドする場合のパラメーターの名前を付けるか、インターフェイス メンバーの実装で一貫しています。  
  
 これには、メソッド間の関係向上と通信します。  
  
### 列挙型とブール型のパラメーターの選択  
 **✓ は** メンバーが 2 つ以上のブール型パラメーターを持っている場合は、列挙型を使用します。  
  
 **X のしないで** はなくなりますが必要な 3 つ以上の値を確認してから、ブール値を使用します。  
  
 列挙型にも、値の将来的な拡張する余地の値に説明されている列挙型に追加するすべての問題に注意する必要があります [列挙型デザイン](../../../docs/standard/design-guidelines/enum.md)します。  
  
 **✓ を検討してください** が本当に 2 つの状態の値でのみを使用して、ブール型プロパティを初期化するコンス トラクターのパラメーターをブール値を使用します。  
  
### 引数の検証  
 **✓ は** パブリック、プロテクト、または明示的に実装されたメンバーに渡される引数を検証します。 スロー <xref:System.ArgumentException?displayProperty=fullName>, 、または検証に失敗した場合、そのサブクラスのいずれかです。  
  
 実際の検証とは限りませんが、パブリックまたはプロテクト メンバー自体で発生することに注意します。 プライベートまたは内部ルーチン内の下位レベルで実行できます。 重要な点は、エンドユーザーに公開されている領域全体を引数を調べることです。  
  
 **✓ は** スロー <xref:System.ArgumentNullException> null 引数が渡され、メンバーが null の引数をサポートしていない場合。  
  
 **✓ は** 列挙型のパラメーターを検証します。  
  
 列挙型の引数は列挙型で定義されている範囲であるとは限りません。 CLR は、値が列挙型で定義されていない場合でも、任意の整数値を列挙型の値にキャストできます。  
  
 **X のしないで** を使用して <xref:System.Enum.IsDefined%2A?displayProperty=fullName> 列挙型の範囲を確認します。  
  
 **✓ は** 変更可能な引数は、検証後で変更された可能性に注意してください。  
  
 メンバーが高度なセキュリティの場合は、コピーを作成し、検証および引数を処理することをお勧めしています。  
  
### パラメーターの引き渡し  
 Framework デザイナーの観点からは、パラメーターの主な 3 つのグループ: 値渡しのパラメーター、 `ref` パラメーター、および `out` パラメーター。  
  
 引数が値渡しでパラメーターを通じて渡されると、メンバーは、実際に渡された引数のコピーを受け取ります。 引数が値型の場合、引数のコピーは、スタックに配置します。 引数が参照型の場合は、参照のコピーは、スタックに配置します。 パラメーターの値渡しを c\#、VB.NET、および C\+\+ では、既定値などの最も一般的な CLR 言語です。  
  
 引数を渡すとき、 `ref` パラメーター、メンバーは実際に渡された引数への参照を受け取ります。 引数が値型の場合、引数への参照はスタックに配置します。 引数が参照型の場合、参照への参照がスタックに配置します。`Ref` パラメーターは、呼び出し元によって渡される引数を変更するメンバーを許可するように使用できます。  
  
 `Out` パラメーターはのような `ref` に多少の違いのパラメーターです。 割り当てられていないし、いくつかの値を割り当てる前に、メンバーの本体で読み取ることができません、パラメーターが初期状態と見なされます。 また、パラメーターはメンバーを返す前にいくつかの値を割り当てるがあります。  
  
 **X 回避** を使用して `out` または `ref` パラメーター。  
  
 使用して `out` または `ref` パラメーターには、ポインター、値型と参照型の違いの理解および複数の戻り値を持つメソッドの処理の使用経験が必要です。 違いも、 `out` と `ref` パラメーターはあまり理解されていません。 開発者全般に向けて設計フレームワーク開発者ではユーザー扱い方を習得することは期待する必要があります `out` または `ref` パラメーター。  
  
 **X のしないで** 参照型は参照渡しされます。  
  
 参照を交換するために使用するメソッドなど、ルールをいくつかの例外があります。  
  
### 可変個のパラメーターを持つメンバー  
 メンバーを可変個の引数を受け取ることができますが、配列パラメーターを提供することによって表されます。 たとえば、 <xref:System.String> 、次のメソッドを提供します。  
  
```  
public class String {  
    public static string Format(string format, object[] parameters);  
}  
```  
  
 ユーザーが呼び出すことができますし、 <xref:System.String.Format%2A?displayProperty=fullName> メソッドを次のとおりです。  
  
 `String.Format("File {0} not found in {1}",new object[]{filename,directory});`  
  
 配列パラメーターに、c\# params キーワードを追加すると、いわゆる params 配列パラメーターにパラメーターを変更し、一時配列を作成するショートカットを提供します。  
  
```  
public class String {  
    public static string Format(string format, params object[] parameters);  
}  
```  
  
 これにより、引数リストで直接、配列要素を渡すことによって、メソッドを呼び出すユーザーです。  
  
 `String.Format("File {0} not found in {1}",filename,directory);`  
  
 パラメーター リストの最後のパラメーターにのみ、params キーワードを追加できることに注意してください。  
  
 **✓ を検討してください** で少数の要素の配列を渡すには、エンドユーザーの予定がある場合、配列パラメーターに、params キーワードを追加します。 多数の要素が渡されることに共通のシナリオと正常な場合ユーザーは可能性がありますこれらの要素のインラインとにかくに渡さないため、params キーワードは必要はありません。  
  
 **X 回避** params 配列を使用して、呼び出し元がほとんど常に入力している既に配列の場合。  
  
 たとえば、バイト配列パラメーターを持つメンバーは個々 のバイトを渡すことによってことはほぼありませんというです。 このため、.NET Framework でのバイト配列パラメーターは、params キーワードを使わないでください。  
  
 **X のしないで** params 配列パラメーターを受け取るメンバーによって、配列が変更された場合に、params 配列を使用します。  
  
 呼び出しサイトで一時配列に多くのコンパイラがメンバーに引数を有効にするため、配列は、一時オブジェクトである可能性があり、したがって配列へのすべての変更は失われます。  
  
 **✓ を検討してください** 単純なオーバー ロードで、params キーワードを使用する場合でもより複雑なオーバー ロードでは使用できませんでした。  
  
 すべてのオーバー ロードされていない場合でも、1 つのオーバー ロードではパラメーター配列を持つユーザーは値のかどうかを考えてください。  
  
 **✓ は** params キーワードを使用できるように、順序付けられたパラメーターを実行してください。  
  
 **✓ を検討してください** 少数の非常に高く、パフォーマンスが重視される Api の引数による呼び出しに対して特別なオーバー ロードとコード パスを提供します。  
  
 これにより、引数の数が少ない、API が呼び出されたときに、配列オブジェクトを作成しないようにします。 によって、配列パラメーターの単数形を取得し、数値のサフィックスを追加するには、パラメーターの名前を形成します。  
  
 完全なコード パスを特別なケースに配列を作成するだけでなく、一般的なメソッドを呼び出す場合、これを行うだけする必要があります。  
  
 **✓ は** params 配列引数として null を渡すことがあります。  
  
 配列が処理する前に null でないことを検証する必要があります。  
  
 **X のしないで** を使用して、 `varargs` メソッド、それ以外の場合、省略記号ボタンと呼ばれます。  
  
 C などのいくつかの CLR 言語と呼ばれる変数のパラメーター リストを渡す場合の代替の規則をサポートする `varargs` メソッドです。 規則には CLS 準拠ではないため、フレームワークの使用を避けてください。  
  
### ポインター パラメーター  
 一般に、ポインターは、適切に設計されたマネージ コード フレームワークの面積パブリックにする必要があります表示されません。 ほとんどの場合、ポインターをカプセル化する必要があります。 ただし、ポインターは相互運用性の理由から、必要な場合によっては、ポインターを使用して、このような場合は、適切です。  
  
 **✓ は** ポインターは CLS 準拠ではないために、ポインター引数を受け取り、メンバーの代替を提供します。  
  
 **X 回避** 高価な引数がポインター引数のチェックを実行します。  
  
 **✓ は** ポインターを持つメンバーの設計時に共通のポインターに関連する規則に従います。  
  
 たとえば、必要はありません開始インデックスを渡す単純なポインターの算術演算は、同じ結果を得るを使用できるためです。  
  
 *部分 © 2005年、2009 Microsoft Corporation します。 All rights reserved.*  
  
 *翔泳社からのアクセス許可によって検出 [Framework デザイン ガイドライン: 規則が、表現方法と再利用可能な .NET ライブラリを 2 nd Edition パターン](http://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) は Cwalina Brad エイブラムスによる、Microsoft Windows の開発シリーズの一部として Addison\-wesley Professional、2008 年 10 月 22 日を公開します。*  
  
## 参照  
 [メンバー デザインのガイドライン](../../../docs/standard/design-guidelines/member.md)   
 [Framework デザイン ガイドライン](../../../docs/standard/design-guidelines/index.md)