---
title: "外部リソースの解決"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: ad3fa320-4b8f-4e5c-b549-01157591007a
caps.latest.revision: "4"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 824a35ee5d4ecafc45167ff3f4bc89802af4ed96
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/18/2017
---
# <a name="resolving-external-resources"></a><span data-ttu-id="e68fc-102">外部リソースの解決</span><span class="sxs-lookup"><span data-stu-id="e68fc-102">Resolving External Resources</span></span>
<span data-ttu-id="e68fc-103">**XmlResolver**のプロパティ、 **XmlDocument**によって使用される、 **XmlDocument**外部ドキュメント型など、XML データにインラインではないリソースを見つけるためのクラス定義 (Dtd)、エンティティ、およびスキーマです。</span><span class="sxs-lookup"><span data-stu-id="e68fc-103">The **XmlResolver** property of the **XmlDocument** is used by the **XmlDocument** class to locate resources that are not inline in the XML data, such as external document type definitions (DTDs), entities, and schemas.</span></span> <span data-ttu-id="e68fc-104">これらのリソースは、ネットワーク上やローカル ドライブ上にあり、URI (Uniform Resource Identifier) で識別できます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-104">These items can be located on a network or on a local drive, and are identifiable by a Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="e68fc-105">これにより、 **XmlDocument**解決するのには**EntityReference**ノードがドキュメント内に存在し、外部の DTD またはスキーマに従ってドキュメントを検証します。</span><span class="sxs-lookup"><span data-stu-id="e68fc-105">This allows the **XmlDocument** to resolve **EntityReference** nodes that are present in the document and validate the document according to the external DTD or schema.</span></span>  
  
## <a name="fully-trusted-xmldocument"></a><span data-ttu-id="e68fc-106">完全に信頼されている XmlDocument</span><span class="sxs-lookup"><span data-stu-id="e68fc-106">Fully-Trusted XmlDocument</span></span>  
 <span data-ttu-id="e68fc-107">**XmlResolver**プロパティの機能に影響、 **XmlDocument.Load**メソッドです。</span><span class="sxs-lookup"><span data-stu-id="e68fc-107">The **XmlResolver** property affects the functionality of the **XmlDocument.Load** method.</span></span> <span data-ttu-id="e68fc-108">以下の表方法、 **XmlDocument.XmlResolver**プロパティの動作時に、 **XmlDocument**オブジェクトが完全に信頼されています。</span><span class="sxs-lookup"><span data-stu-id="e68fc-108">The table below shows how the **XmlDocument.XmlResolver** property works when the **XmlDocument** object is fully trusted.</span></span> <span data-ttu-id="e68fc-109">次の表に、 **XmlDocument.Load**メソッドの負荷への入力が、 **TextReader**、**文字列**、**ストリーム**、または**URI**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-109">The following table shows the **XmlDocument.Load** methods when the input to the Load is a **TextReader**, **String**, **Stream**, or **URI**.</span></span> <span data-ttu-id="e68fc-110">次の表には適用されません、**ロード**メソッド場合、 **XmlDocument**から読み込まれた、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-110">This table does not apply to the **Load** method if the **XmlDocument** is loaded from an **XmlReader**.</span></span>  
  
|<span data-ttu-id="e68fc-111">XmlResolver プロパティ</span><span class="sxs-lookup"><span data-stu-id="e68fc-111">XmlResolver property</span></span>|<span data-ttu-id="e68fc-112">関数</span><span class="sxs-lookup"><span data-stu-id="e68fc-112">Function</span></span>|<span data-ttu-id="e68fc-113">メモ</span><span class="sxs-lookup"><span data-stu-id="e68fc-113">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="e68fc-114">プロパティに設定する**XmlResolver**以前に作成を既に設定されているユーザーがプロパティを持つクラス。</span><span class="sxs-lookup"><span data-stu-id="e68fc-114">The property is set to an **XmlResolver** class that has been previously created and has properties already set on it by the user.</span></span>|<span data-ttu-id="e68fc-115">**XmlDocument**を使用して、 **XmlResolver** Dtd、エンティティ、およびスキーマなどの外部リソースへの参照を解決するのには、ファイル名を解決するのにを指定します。</span><span class="sxs-lookup"><span data-stu-id="e68fc-115">The **XmlDocument** uses the **XmlResolver** that is given to resolve file names, to resolve references to external resources such as DTDs, entities, and schemas.</span></span><br /><br /> <span data-ttu-id="e68fc-116">**XmlResolver**は追加または内のノードを編集するときに必要な外部のリソースを解決するときにも使用、 **XmlDocument**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-116">The **XmlResolver** is also used when resolving external resources that are needed when adding or editing nodes in the **XmlDocument**.</span></span>|<span data-ttu-id="e68fc-117">**XmlResolver**に指定された、 **XmlDocument**外部リソースの検索し、解決に必要なときに使用される競合回避モジュールします。</span><span class="sxs-lookup"><span data-stu-id="e68fc-117">The **XmlResolver** given to the **XmlDocument** is the resolver that is used whenever external resources need to be located and resolved.</span></span>|  
|<span data-ttu-id="e68fc-118">プロパティに設定**null** (**Nothing** Microsoft Visual Basic .NET で)。</span><span class="sxs-lookup"><span data-stu-id="e68fc-118">The property is set to **null** (**Nothing** in Microsoft Visual Basic .NET).</span></span>|<span data-ttu-id="e68fc-119">外部のスキーマや DTD の検索など、外部リソースを必要とする機能はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-119">Features that require an external resource are not supported, such as locating an external schema, or DTD.</span></span> <span data-ttu-id="e68fc-120">外部エンティティの解決も行われず、解決が必要なエンティティ ノードの挿入などの編集機能もサポートされません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-120">Nor will external entities be resolved, and performing editing functions, such as inserting entity nodes that require resolution, are not supported.</span></span>|<span data-ttu-id="e68fc-121">**XmlDocument**負荷のファイルを匿名およびその他のリソースを解決するのには行われません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-121">The **XmlDocument** loads files as anonymous and does not attempt to resolve any other resources.</span></span>|  
|<span data-ttu-id="e68fc-122">プロパティが設定されておらず、既定状態のままである。</span><span class="sxs-lookup"><span data-stu-id="e68fc-122">The property is not set, but left in its default state.</span></span>|<span data-ttu-id="e68fc-123">**XmlUrlResolver**資格情報のインスタンス化されで使用されるで、NULL、 **XmlDocument**外部の Dtd、エンティティ、および、スキーマを検索するファイル名を解決するときに、 **null**ノードの編集時に資格情報が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-123">An **XmlUrlResolver** with NULL credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>||  
  
 <span data-ttu-id="e68fc-124">次の表に、 **XmlDocument.Load**メソッドとへの入力、**ロード**は、 **XmlReader**と**XmlDocument**は完全に信頼します。</span><span class="sxs-lookup"><span data-stu-id="e68fc-124">The following table shows the **XmlDocument.Load** method when the input to the **Load** is an **XmlReader** and the **XmlDocument** is fully trusted.</span></span>  
  
|<span data-ttu-id="e68fc-125">XmlResolver プロパティ</span><span class="sxs-lookup"><span data-stu-id="e68fc-125">XmlResolver property</span></span>|<span data-ttu-id="e68fc-126">関数</span><span class="sxs-lookup"><span data-stu-id="e68fc-126">Function</span></span>|<span data-ttu-id="e68fc-127">メモ</span><span class="sxs-lookup"><span data-stu-id="e68fc-127">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="e68fc-128">**XmlResolver**によって使用されるクラス、 **XmlDocument**によって使用されている同じクラスには、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-128">The **XmlResolver** class used by the **XmlDocument** is the same class being used by the **XmlReader**.</span></span>|<span data-ttu-id="e68fc-129">**XmlDocument**を使用して、 **XmlResolver**に割り当てられた、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-129">The **XmlDocument** uses the **XmlResolver** that was assigned to the **XmlReader**.</span></span><br /><br /> <span data-ttu-id="e68fc-130">**XmlDocument.Resolver**プロパティに関係なく、設定することはできません、 **XmlDocument**が取得するための信頼レベルを**XmlResolver**から、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-130">The **XmlDocument.Resolver** property cannot be set, regardless of the **XmlDocument** trust level, because it is getting an **XmlResolver** from the **XmlReader**.</span></span> <span data-ttu-id="e68fc-131">設定をオーバーライドしようとすることはできません、 **XmlReaders**' **XmlResolver**を設定して、 **XmlResolver**のプロパティ、 **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="e68fc-131">You cannot attempt to override the settings of the **XmlReaders**' **XmlResolver** by setting the **XmlResolver** property of the **XmlDocument**.</span></span>|<span data-ttu-id="e68fc-132">**XmlReader**できます、 **XmlTextReader**、 **XmlValidatingReader**、またはカスタム記述リーダー。</span><span class="sxs-lookup"><span data-stu-id="e68fc-132">The **XmlReader** can be the **XmlTextReader**, **XmlValidatingReader**, or a custom-written reader.</span></span> <span data-ttu-id="e68fc-133">使用するリーダーでエンティティ解決がサポートされている場合は、外部エンティティが解決されます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-133">If the reader used supports entity resolution, external entities are resolved.</span></span> <span data-ttu-id="e68fc-134">渡されたリーダーでエンティティ参照がサポートされていない場合は、エンティティ参照は解決されません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-134">If the reader passed does not support entity references, then entity references are not resolved.</span></span>|  
  
## <a name="semi-trusted-xmldocument"></a><span data-ttu-id="e68fc-135">信頼性の高くない XmlDocument</span><span class="sxs-lookup"><span data-stu-id="e68fc-135">Semi-Trusted XmlDocument</span></span>  
 <span data-ttu-id="e68fc-136">次の表に、どのように**XmlDocument.XmlResolver**プロパティ オブジェクトが信頼度の低い場合の動作です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-136">The following table shows how the **XmlDocument.XmlResolver** property works when the object is semi-trusted.</span></span> <span data-ttu-id="e68fc-137">このテーブルに適用されます、 **XmlDocument.Load**メソッドの負荷への入力が、 **TextReader**、**文字列**、**ストリーム**、または**URI**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-137">This table applies to the **XmlDocument.Load** methods when the input to the Load is a **TextReader**, **String**, **Stream**, or **URI**.</span></span> <span data-ttu-id="e68fc-138">次の表には適用されません、**ロード**メソッド場合、 **XmlDocument**から読み込まれた、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-138">This table does not apply to the **Load** method if the **XmlDocument** is loaded from an **XmlReader**.</span></span>  
  
|<span data-ttu-id="e68fc-139">XmlResolver プロパティ</span><span class="sxs-lookup"><span data-stu-id="e68fc-139">XmlResolver property</span></span>|<span data-ttu-id="e68fc-140">関数</span><span class="sxs-lookup"><span data-stu-id="e68fc-140">Function</span></span>|<span data-ttu-id="e68fc-141">メモ</span><span class="sxs-lookup"><span data-stu-id="e68fc-141">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="e68fc-142">信頼度の低いシナリオでは、 **XmlResolver**プロパティが null 以外に設定することはできません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-142">In the semi-trusted scenario, the **XmlResolver** property cannot be set to anything other than null.</span></span>|<span data-ttu-id="e68fc-143">**XmlUrlResolver**で**null**資格情報がインスタンス化されで使用される、 **XmlDocument**外部 Dtd、エンティティを検索するファイル名を解決するときに、スキーマ、および**null**ノードの編集時に資格情報が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-143">An **XmlUrlResolver** with **null** credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>|<span data-ttu-id="e68fc-144">この動作は、動作と同じ場合に、 **XmlResolver**プロパティが設定されておらず左既定の状態。</span><span class="sxs-lookup"><span data-stu-id="e68fc-144">This behavior is identical to the behavior when the **XmlResolver** property is not set, but left in its default state.</span></span><br /><br /> <span data-ttu-id="e68fc-145">**XmlDocument**すべての操作を匿名のアクセス許可を使用します。</span><span class="sxs-lookup"><span data-stu-id="e68fc-145">The **XmlDocument** uses anonymous permissions for all actions.</span></span>|  
|<span data-ttu-id="e68fc-146">プロパティに設定**null** (**Nothing** Microsoft Visual Basic .NET で)。</span><span class="sxs-lookup"><span data-stu-id="e68fc-146">The property is set to **null** (**Nothing** in Microsoft Visual Basic .NET).</span></span>|<span data-ttu-id="e68fc-147">外部のスキーマや DTD の検索など、外部リソースを必要とする機能はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-147">No features that require an external resource are supported, such as locating an external schema or DTD.</span></span> <span data-ttu-id="e68fc-148">外部エンティティの解決も行われず、解決が必要なエンティティ ノードの挿入などの編集機能もサポートされません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-148">Nor will external entities be resolved, and performing editing functions such as inserting entity nodes that require resolution, are not supported.</span></span>|<span data-ttu-id="e68fc-149">このプロパティが**null**に関係なく場合でも同じの動作は、 **XmlDocument**が完全に信頼されているか、信頼度の低い。</span><span class="sxs-lookup"><span data-stu-id="e68fc-149">When the property is **null**, the behavior is the same regardless if the **XmlDocument** is fully trusted or semi-trusted.</span></span>|  
|<span data-ttu-id="e68fc-150">プロパティが設定されておらず、既定状態のままである。</span><span class="sxs-lookup"><span data-stu-id="e68fc-150">The property is not set, but left in its default state.</span></span>|<span data-ttu-id="e68fc-151">**XmlUrlResolver**で**null**資格情報がインスタンス化されで使用される、 **XmlDocument**外部 Dtd、エンティティを検索するファイル名を解決するときに、スキーマ、および**null**ノードの編集時に資格情報が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-151">An **XmlUrlResolver** with **null** credentials will be instantiated and used by the **XmlDocument** when resolving file names, locating external DTDs, entities, and schemas, and **null** credentials are used when editing nodes.</span></span>|<span data-ttu-id="e68fc-152">**XmlDocument**すべての操作を匿名のアクセス許可を使用します。</span><span class="sxs-lookup"><span data-stu-id="e68fc-152">The **XmlDocument** uses anonymous permissions for all actions.</span></span>|  
  
 <span data-ttu-id="e68fc-153">このテーブルに適用されます、 **XmlDocument.Load**メソッドとへの入力、**ロード**は、 **XmlReader**、および**XmlDocument**は信頼度の低い。</span><span class="sxs-lookup"><span data-stu-id="e68fc-153">This table applies to the **XmlDocument.Load** method when the input to the **Load** is an **XmlReader**, and the **XmlDocument** is semi-trusted.</span></span>  
  
|<span data-ttu-id="e68fc-154">XmlResolver プロパティ</span><span class="sxs-lookup"><span data-stu-id="e68fc-154">XmlResolver property</span></span>|<span data-ttu-id="e68fc-155">関数</span><span class="sxs-lookup"><span data-stu-id="e68fc-155">Function</span></span>|<span data-ttu-id="e68fc-156">メモ</span><span class="sxs-lookup"><span data-stu-id="e68fc-156">Notes</span></span>|  
|--------------------------|--------------|-----------|  
|<span data-ttu-id="e68fc-157">**XmlResolver**によって使用されるクラス、 **XmlDocument**はによって使用されているものと同じ、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-157">The **XmlResolver** class used by the **XmlDocument** is the same one being used by the **XmlReader**.</span></span>|<span data-ttu-id="e68fc-158">**XmlDocument**を使用して、 **XmlResolver**に割り当てられた、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-158">The **XmlDocument** uses the **XmlResolver** that was assigned to the **XmlReader**.</span></span><br /><br /> <span data-ttu-id="e68fc-159">**XmlDocument.Resolver**プロパティに関係なく、設定することはできません、 **XmlDocument**が取得するための信頼レベルを**XmlResolver**から、 **XmlReader**です。</span><span class="sxs-lookup"><span data-stu-id="e68fc-159">The **XmlDocument.Resolver** property cannot be set, regardless of the **XmlDocument** trust level, because it is getting an **XmlResolver** from the **XmlReader**.</span></span> <span data-ttu-id="e68fc-160">設定をオーバーライドしようとすることはできません、 **XmlReaders** **XmlResolver**を設定して、 **XmlResolver**のプロパティ、 **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="e68fc-160">You cannot attempt to override the settings of the **XmlReaders** **XmlResolver** by setting the **XmlResolver** property of the **XmlDocument**.</span></span>|<span data-ttu-id="e68fc-161">**XmlReader**できます、 **XmlTextReader**検証、 <xref:System.Xml.XmlReader>、またはカスタム記述リーダー。</span><span class="sxs-lookup"><span data-stu-id="e68fc-161">The **XmlReader** can be the **XmlTextReader**, validating <xref:System.Xml.XmlReader>, or a custom-written reader.</span></span> <span data-ttu-id="e68fc-162">使用するリーダーでエンティティ解決がサポートされている場合は、外部エンティティが解決されます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-162">If the reader used supports entity resolution, external entities are resolved.</span></span> <span data-ttu-id="e68fc-163">渡されたリーダーでエンティティ参照がサポートされていない場合は、エンティティ参照は解決されません。</span><span class="sxs-lookup"><span data-stu-id="e68fc-163">If the reader passed in does not support entity references, then entity references are not resolved.</span></span>|  
  
 <span data-ttu-id="e68fc-164">XmlResolver が正しい資格情報を持つように設定すれば、外部リソースにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="e68fc-164">Setting the XmlResolver to contain the correct credentials allows access to external resources.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e68fc-165">取得する方法はありません、 **XmlResolver**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="e68fc-165">There is no way to retrieve the **XmlResolver** property.</span></span> <span data-ttu-id="e68fc-166">これにより、ユーザーが再利用することを妨げる、 **XmlResolver**資格情報が設定されています。</span><span class="sxs-lookup"><span data-stu-id="e68fc-166">This helps to prevent a user from reusing an **XmlResolver** on which credentials have been set.</span></span> <span data-ttu-id="e68fc-167">また場合、 **XmlTextReader**または検証<xref:System.Xml.XmlReader>読み込みに使用された、 **XmlDocument**と**XmlDocument**が設定されているから競合回避モジュール リゾルバーこれらのリーダーがキャッシュされていない、 **XmlDocument**後、**ロード**フェーズ、これも、セキュリティ リスクがあるためです。</span><span class="sxs-lookup"><span data-stu-id="e68fc-167">Also, if an **XmlTextReader** or validating <xref:System.Xml.XmlReader> is used to load the **XmlDocument** and the **XmlDocument** has a resolver that has been set, the resolvers from these readers are not cached by the **XmlDocument** after the **Load** phase, since this also presents a security risk.</span></span>  
  
 <span data-ttu-id="e68fc-168">詳細については、<xref:System.Xml.XmlResolver> のリファレンス ページの「解説」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e68fc-168">For more information, see the Remarks section of the <xref:System.Xml.XmlResolver> reference page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e68fc-169">関連項目</span><span class="sxs-lookup"><span data-stu-id="e68fc-169">See Also</span></span>  
 [<span data-ttu-id="e68fc-170">XML ドキュメント オブジェクト モデル (DOM)</span><span class="sxs-lookup"><span data-stu-id="e68fc-170">XML Document Object Model (DOM)</span></span>](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
