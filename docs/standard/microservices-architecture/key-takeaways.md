---
title: "重要な習得事項"
description: "コンテナー化された .NET アプリケーションの .NET マイクロサービス アーキテクチャ | 重要な習得事項"
keywords: "Docker, マイクロサービス, ASP.NET, コンテナー"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 2dbcfbe28f5461b7a40e8b0b49dbcf5e31490d70
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/23/2017
---
# <a name="key-takeaways"></a><span data-ttu-id="a8123-104">重要な習得事項</span><span class="sxs-lookup"><span data-stu-id="a8123-104">Key Takeaways</span></span>

<span data-ttu-id="a8123-105">概要および重要な習得事項として、次にこのガイドの最も重要な結論を示します。</span><span class="sxs-lookup"><span data-stu-id="a8123-105">As a summary and key takeaways, the following are the most important conclusions from this guide.</span></span>

<span data-ttu-id="a8123-106">**コンテナーを使用するメリット**</span><span class="sxs-lookup"><span data-stu-id="a8123-106">**Benefits of using containers.**</span></span> <span data-ttu-id="a8123-107">コンテナーは、実稼働環境での依存関係の欠如のために発生する導入の問題の解決策であるため、コンテナーベースのソリューションはコストの節約の重要な利点を提供します。</span><span class="sxs-lookup"><span data-stu-id="a8123-107">Container-based solutions provide the important benefit of cost savings because containers are a solution to deployment problems caused by the lack of dependencies in production environments.</span></span> <span data-ttu-id="a8123-108">コンテナーは、DevOps および運用操作を大幅に向上させます。</span><span class="sxs-lookup"><span data-stu-id="a8123-108">Containers significantly improve DevOps and production operations.</span></span>

<span data-ttu-id="a8123-109">**コンテナーは、至る所で使用されます。**</span><span class="sxs-lookup"><span data-stu-id="a8123-109">**Containers will be ubiquitous.**</span></span> <span data-ttu-id="a8123-110">Docker ベースのコンテナーは、コンテナー業界では事実上の標準になりつつあり、Windows と Linux のエコシステムで最も重要なベンダーでサポートされています。</span><span class="sxs-lookup"><span data-stu-id="a8123-110">Docker-based containers are becoming the de facto standard in the container industry, supported by the most significant vendors in the Windows and Linux ecosystems.</span></span> <span data-ttu-id="a8123-111">これには、Microsoft、Amazon AWS、Google、および IBM が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a8123-111">This includes Microsoft, Amazon AWS, Google, and IBM.</span></span> <span data-ttu-id="a8123-112">将来、Docker は、クラウドとオンプレミスの両方のデータセンターで広く使用されるようになるでしょう。</span><span class="sxs-lookup"><span data-stu-id="a8123-112">In the near future, Docker will probably be ubiquitous in both cloud and on-premises datacenters.</span></span>

<span data-ttu-id="a8123-113">**配置の展開の単位。**</span><span class="sxs-lookup"><span data-stu-id="a8123-113">**Containers as a unit of deployment.**</span></span> <span data-ttu-id="a8123-114">Docker コンテナーは、サーバー ベースのアプリケーションまたはサービスの配置の標準的な単位になっています。</span><span class="sxs-lookup"><span data-stu-id="a8123-114">A Docker container is becoming the standard unit of deployment for any server-based application or service.</span></span>

<span data-ttu-id="a8123-115">**マイクロサービス。**</span><span class="sxs-lookup"><span data-stu-id="a8123-115">**Microservices.**</span></span> <span data-ttu-id="a8123-116">マイクロサービス アーキテクチャは、自律的なサービスの形式の複数の独立したサブシステムを基にした、分散された大規模または複雑なミッションクリティカルなアプリケーションに対して推奨されるアプローチになりつつあります。</span><span class="sxs-lookup"><span data-stu-id="a8123-116">The microservices architecture is becoming the preferred approach for distributed and large or complex mission-critical applications based on multiple independent subsystems in the form of autonomous services.</span></span> <span data-ttu-id="a8123-117">マイクロサービスベースのアーキテクチャでは、アプリケーションは、個別に開発、テスト、展開、バージョン管理、拡張が可能なサービスのコレクションとして構築され、これには関連する自律的なデータベースが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a8123-117">In a microservice-based architecture, the application is built as a collection of services that can be developed, tested, versioned, deployed, and scaled independently; this can include any related autonomous database.</span></span>

<span data-ttu-id="a8123-118">**ドメイン駆動設計と SOA。**</span><span class="sxs-lookup"><span data-stu-id="a8123-118">**Domain-driven design and SOA.**</span></span> <span data-ttu-id="a8123-119">マイクロサービス アーキテクチャ パターンは、サービス指向アーキテクチャ (SOA) とドメイン駆動設計 (DDD) から派生します。</span><span class="sxs-lookup"><span data-stu-id="a8123-119">The microservices architecture patterns derive from service-oriented architecture (SOA) and domain-driven design (DDD).</span></span> <span data-ttu-id="a8123-120">特定のドメインを成形する進化するビジネス ルールを使用して、環境用のマイクロサービスを設計および開発するときには、DDD アプローチとパターンを考慮することが重要です。</span><span class="sxs-lookup"><span data-stu-id="a8123-120">When you design and develop microservices for environments with evolving business rules shaping a particular domain, it is important to take into account DDD approaches and patterns.</span></span>

<span data-ttu-id="a8123-121">**マイクロサービスの課題。**</span><span class="sxs-lookup"><span data-stu-id="a8123-121">**Microservices challenges.**</span></span> <span data-ttu-id="a8123-122">マイクロサービスは、独立した展開、強力なサブシステムの境界などの多くの強力な機能とテクノロジの多様性を提供します。</span><span class="sxs-lookup"><span data-stu-id="a8123-122">Microservices offer many powerful capabilities, like independent deployment, strong subsystem boundaries, and technology diversity.</span></span> <span data-ttu-id="a8123-123">ただし、断片化と独立したデータ モデル、マイクロサービス間の回復力のある通信、最終的な一貫性、ログ情報と監視情報を複数のマイクロサービスから収集する結果としての運用の複雑さなどの分散アプリケーションの開発に関連する多くの新しい課題も発生させます。</span><span class="sxs-lookup"><span data-stu-id="a8123-123">However, they also raise many new challenges related to distributed application development, such as fragmented and independent data models, resilient communication between microservices, eventual consistency, and operational complexity that results from aggregating logging and monitoring information from multiple microservices.</span></span> <span data-ttu-id="a8123-124">これらの要素は、従来のモノリシック アプリケーションより高いレベルの複雑さを発生させます。</span><span class="sxs-lookup"><span data-stu-id="a8123-124">These aspects introduce a higher level of complexity than a traditional monolithic application.</span></span> <span data-ttu-id="a8123-125">その結果、特定のシナリオだけが、マイクロサービスベースのアプリケーションに適しています。</span><span class="sxs-lookup"><span data-stu-id="a8123-125">As a result, only specific scenarios are suitable for microservice-based applications.</span></span> <span data-ttu-id="a8123-126">これには、複数の進化するサブシステムを含む大規模で複雑なアプリケーションが含まれます。これらのケースでは、より複雑なソフトウェア アーキテクチャに投資する価値があります。それは長期的な機敏性とアプリケーションのメンテナスを提供するためです。</span><span class="sxs-lookup"><span data-stu-id="a8123-126">These include large and complex applications with multiple evolving subsystems; in these cases, it is worth investing in a more complex software architecture, because it will provide better long-term agility and application maintenance.</span></span>

<span data-ttu-id="a8123-127">**任意のアプリケーションのコンテナー。**</span><span class="sxs-lookup"><span data-stu-id="a8123-127">**Containers for any application.**</span></span> <span data-ttu-id="a8123-128">コンテナーは、マイクロサービスにとって便利ですが、それら専用ではありません。</span><span class="sxs-lookup"><span data-stu-id="a8123-128">Containers are convenient for microservices, but are not exclusive for them.</span></span> <span data-ttu-id="a8123-129">コンテナーは、従来の .NET Framework に基づき、Windows コンテナーを介して最新化されたレガシ アプリケーションを含む、モノリシック アプリケーションにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="a8123-129">Containers can also be used with monolithic applications, including legacy applications based on the traditional .NET Framework and modernized through Windows Containers.</span></span> <span data-ttu-id="a8123-130">展開から実稼働に関する多くの問題の解決、最先端の開発およびテストの環境の提供など、Docker を使用することの利点は、さまざまな種類のアプリケーションに適用されます。</span><span class="sxs-lookup"><span data-stu-id="a8123-130">The benefits of using Docker, such as solving many deployment-to-production issues and providing state of the art Dev and Test environments, apply to many different types of applications.</span></span>

<span data-ttu-id="a8123-131">**CLI と IDE の比較。**</span><span class="sxs-lookup"><span data-stu-id="a8123-131">**CLI versus IDE.**</span></span> <span data-ttu-id="a8123-132">Microsoft のツールを使用し、優先されるアプローチを使用して、コンテナー化された .NET アプリケーションを開発できます。</span><span class="sxs-lookup"><span data-stu-id="a8123-132">With Microsoft tools, you can develop containerized .NET applications using your preferred approach.</span></span> <span data-ttu-id="a8123-133">Docker CLI と Visual Studio Code を使用し、CLI とエディター ベースの環境を使用して開発できます。</span><span class="sxs-lookup"><span data-stu-id="a8123-133">You can develop with a CLI and an editor-based environment by using the Docker CLI and Visual Studio Code.</span></span> <span data-ttu-id="a8123-134">または、マルチコンテナー アプリケーションをデバッグできる機能など、Visual Studio の IDE 中心のアプローチや Docker の独自の機能を使用できます。</span><span class="sxs-lookup"><span data-stu-id="a8123-134">Or you can use an IDE-focused approach with Visual Studio and its unique features for Docker, such as like being able to debug multi-container applications.</span></span>

<span data-ttu-id="a8123-135">**回復力のあるクラウド アプリケーション。**</span><span class="sxs-lookup"><span data-stu-id="a8123-135">**Resilient cloud applications.**</span></span> <span data-ttu-id="a8123-136">クラウド ベースのシステムおよび分散システムでは一般的に、部分的な障害のリスクがあります。</span><span class="sxs-lookup"><span data-stu-id="a8123-136">In cloud-based systems and distributed systems in general, there is always the risk of partial failure.</span></span> <span data-ttu-id="a8123-137">クライアントとサービスは別のプロセス (コンテナー) であるため、サービスが、クライアントの要求に迅速に応答できないことがあります。</span><span class="sxs-lookup"><span data-stu-id="a8123-137">Since clients and services are separate processes (containers), a service might not be able to respond in a timely way to a client’s request.</span></span> <span data-ttu-id="a8123-138">たとえば、部分的な障害またはメンテナンスのためにサービスが停止したり、サービスが過負荷状態で要求に対する応答が非常に遅くなったり、または、単にネットワークの問題のために短時間アクセスできない場合があります。</span><span class="sxs-lookup"><span data-stu-id="a8123-138">For example, a service might be down because of a partial failure or for maintenance; the service might be overloaded and responding extremely slowly to requests; or it might simply not be accessible for a short time because of network issues.</span></span> <span data-ttu-id="a8123-139">したがって、クラウド ベースのアプリケーションはそのような障害を受け入れ、そのような障害に対応するための戦略を用意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8123-139">Therefore, a cloud-based application must embrace those failures and have a strategy in place to respond to those failures.</span></span> <span data-ttu-id="a8123-140">これらの戦略には、再試行ポリシー (メッセージの再送信または要求を再試行) を含めることができ、繰り返しの要求の急増を回避する遮断器パターンを実装できます。</span><span class="sxs-lookup"><span data-stu-id="a8123-140">These strategies can include retry policies (resending messages or retrying requests) and implementing circuit-breaker patterns to avoid exponential load of repeated requests.</span></span> <span data-ttu-id="a8123-141">基本的には、クラウドベースのアプリケーションは、回復メカニズムを搭載している必要があります。カスタム メカニズムまたはオーケストレーターやサービス バスからの高レベルのフレームワークなどのクラウド インフラストラクチャに基づくメカニズムがあります。</span><span class="sxs-lookup"><span data-stu-id="a8123-141">Basically, cloud-based applications must have resilient mechanisms—either custom ones, or ones based on cloud infrastructure, such as high-level frameworks from orchestrators or service buses.</span></span>

<span data-ttu-id="a8123-142">**セキュリティ。**</span><span class="sxs-lookup"><span data-stu-id="a8123-142">**Security.**</span></span> <span data-ttu-id="a8123-143">コンテナーとマイクロサービスによる新しい世界では、新たな脆弱性が公開される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a8123-143">Our modern world of containers and microservices can expose new vulnerabilities.</span></span> <span data-ttu-id="a8123-144">基本的なアプリケーションのセキュリティは、認証および承認を基にし、これらを実装するいくつかの方法が存在します。</span><span class="sxs-lookup"><span data-stu-id="a8123-144">Basic application security is based on authentication and authorization; multiple ways exist to implement these.</span></span> <span data-ttu-id="a8123-145">ただし、コンテナーのセキュリティには、追加の主要コンポーネントが含まれ、その結果を本質的により安全なアプリケーションになります。</span><span class="sxs-lookup"><span data-stu-id="a8123-145">However, container security includes additional key components that result in inherently safer applications.</span></span> <span data-ttu-id="a8123-146">コンテナー アプリケーションを構築するための重要な要素は、他のアプリケーションやシステムとの通信を安全に行うことです。多くの場合このためには、資格情報、トークン、パスワード、およびその他の種類の機密情報 (通常はアプリケーション シークレットと呼ばれます) が必要です。</span><span class="sxs-lookup"><span data-stu-id="a8123-146">A critical element of building safer apps is having a secure way of communicating with other apps and systems, something that often requires credentials, tokens, passwords, and other types of confidential information—usually referred to as application secrets.</span></span> <span data-ttu-id="a8123-147">セキュリティで保護されたソリューションは、送信中の機密情報の暗号化、保存時の機密情報の暗号化、アプリケーションで使用されるときに機密情報が誤って漏洩することの防止など、セキュリティのベスト プラクティスに従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8123-147">Any secure solution must follow security best practices, such as encrypting secrets while in transit; encrypting secrets at rest; and preventing secrets from unintentionally leaking when consumed by the final application.</span></span> <span data-ttu-id="a8123-148">これらの機密情報は、別の場所を安全に保管して維持する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8123-148">Those secrets need to be stored and kept safe somewhere.</span></span> <span data-ttu-id="a8123-149">セキュリティを強化するために、選択したオーケストレーターのインフラストラクチャ、または Azure Key Vault などクラウド インフラストラクチャおよび使用時のアプリケーション コードの提供方法を活用できます。</span><span class="sxs-lookup"><span data-stu-id="a8123-149">To help with security, you can take advantage of your chosen orchestrator’s infrastructure, or of cloud infrastructure like Azure Key Vault and the ways it provides for application code to use it.</span></span>

<span data-ttu-id="a8123-150">**オーケストレーター。**</span><span class="sxs-lookup"><span data-stu-id="a8123-150">**Orchestrators.**</span></span> <span data-ttu-id="a8123-151">Azure Container Service (Kubernetes、Mesos DC/OS、Docker Swarm) および Azure Service Fabric で提供されるようなコンテナーベースのオーケストレーターは、実稼働の準備ができたマイクロサービスベースのアプリケーション、および非常に複雑で拡張性のニーズがあり、絶えず進化しているマルチコンテナー アプリケーションに不可欠なものになっています。</span><span class="sxs-lookup"><span data-stu-id="a8123-151">Container-based orchestrators like the ones provided in Azure Container Service (Kubernetes, Mesos DC/OS, and Docker Swarm) and Azure Service Fabric are indispensable for any production-ready microservice-based application and for any multi-container application with significant complexity, scalability needs, and constant evolution.</span></span> <span data-ttu-id="a8123-152">このガイドでは、オーケストレーターの概要と、マイクロサービスベースおよびコンテナーベースのソリューションでのその役割を紹介しました。</span><span class="sxs-lookup"><span data-stu-id="a8123-152">This guide has introduced orchestrators and their role in microservice-based and container-based solutions.</span></span> <span data-ttu-id="a8123-153">アプリケーションで複雑なコンテナー化されたアプリケーションに移行する必要がある場合は、オーケストレーターについて学習するための追加のリソースを探すと役に立ちます。</span><span class="sxs-lookup"><span data-stu-id="a8123-153">If your application needs are moving you toward complex containerized apps, you will find it useful to seek out additional resources for learning more about orchestrators</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="a8123-154">[Previous] (secure-net-microservices-web-applications/azure-key-vault-protects-secrets.md)</span><span class="sxs-lookup"><span data-stu-id="a8123-154">[Previous] (secure-net-microservices-web-applications/azure-key-vault-protects-secrets.md)</span></span>
