---
title: "データ サービスのバージョン管理 (WCF Data Services)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
caps.latest.revision: "9"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 228b8d40b14781496b2c71a715008e8bf9caf86b
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2017
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="9549b-102">データ サービスのバージョン管理 (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="9549b-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="9549b-103">[!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]クライアントは、Uri を使用して、データ モデルに基づいたリソースとしてデータをアクセスできるように、データ サービスを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="9549b-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="9549b-104"> では、サービス操作の定義もサポートしています。</span><span class="sxs-lookup"><span data-stu-id="9549b-104"> also supports the definition of service operations.</span></span> <span data-ttu-id="9549b-105">ビジネス ニーズの変化、情報テクノロジの要件、その他の問題への対処などのさまざまな理由により、サービスの初期導入後と、場合によっては有効期間中に数回、これらのデータ サービスを変更することが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="9549b-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="9549b-106">既存のデータ サービスに変更を加える場合は、新しいバージョンのデータ サービスを定義する必要性や、既存のクライアント アプリケーションへの影響を最小限に抑える最善の方法を検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9549b-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="9549b-107">ここでは、新しいバージョンのデータ サービスをいつどのように作成するかに関するガイダンスを示します。</span><span class="sxs-lookup"><span data-stu-id="9549b-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="9549b-108">さらに、[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] が [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] プロトコルの異なるバージョンをサポートするクライアントとデータ サービスの間の交換どのように処理するかについても説明します。</span><span class="sxs-lookup"><span data-stu-id="9549b-108">It also describes how [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] handles an exchange between clients and data services that support different versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="9549b-109">WCF Data Service のバージョン管理</span><span class="sxs-lookup"><span data-stu-id="9549b-109">Versioning a WCF Data Service</span></span>  
 <span data-ttu-id="9549b-110">データ サービスが配置され、データが使用されている状況では、データ サービスに変更を加えることで、既存のクライアント アプリケーションとの間に互換性の問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9549b-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="9549b-111">ただし、サービスの全体的なビジネス ニーズを受けて変更が求められることも多いため、クライアント アプリケーションへの影響を最小限に抑えながらデータ サービスの新しいバージョンをいつどのように作成するかを検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9549b-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>  
  
### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="9549b-112">新しいバージョンのデータ サービスが推奨されるデータ モデルの変更</span><span class="sxs-lookup"><span data-stu-id="9549b-112">Data Model Changes that Recommend a New Data Service Version</span></span>  
 <span data-ttu-id="9549b-113">データ サービスの新しいバージョンを発行するかどうかを検討する際は、さまざまな種類の変更がクライアント アプリケーションに与える影響を理解することが重要です。</span><span class="sxs-lookup"><span data-stu-id="9549b-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="9549b-114">データ サービスの新しいバージョンを作成する必要があるデータ サービスへの変更は、次の 2 つのカテゴリに分類できます。</span><span class="sxs-lookup"><span data-stu-id="9549b-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>  
  
-   <span data-ttu-id="9549b-115">サービス コントラクトに対する変更。これには、サービス操作の更新、エンティティ セット (フィード) のアクセシビリティへの変更、バージョンの変更、およびサービスの動作に対するその他の変更が含まれます。</span><span class="sxs-lookup"><span data-stu-id="9549b-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>  
  
-   <span data-ttu-id="9549b-116">データ コントラクトに対する変更。これには、データ モデル、フィード形式、またはフィードのカスタマイズが含まれます。</span><span class="sxs-lookup"><span data-stu-id="9549b-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>  
  
 <span data-ttu-id="9549b-117">次の表に、データ サービスの新しいバージョンの発行を考慮する必要がある変更の種類を示します。</span><span class="sxs-lookup"><span data-stu-id="9549b-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>  
  
|<span data-ttu-id="9549b-118">変更の種類</span><span class="sxs-lookup"><span data-stu-id="9549b-118">Type of Change</span></span>|<span data-ttu-id="9549b-119">新しいバージョンが必要</span><span class="sxs-lookup"><span data-stu-id="9549b-119">Requires a new version</span></span>|<span data-ttu-id="9549b-120">新しいバージョンは不要</span><span class="sxs-lookup"><span data-stu-id="9549b-120">New version not needed</span></span>|  
|--------------------|----------------------------|----------------------------|  
|<span data-ttu-id="9549b-121">サービス操作</span><span class="sxs-lookup"><span data-stu-id="9549b-121">Service operations</span></span>|<span data-ttu-id="9549b-122">新しいパラメーターを追加します。</span><span class="sxs-lookup"><span data-stu-id="9549b-122">-   Add new parameter</span></span><br /><span data-ttu-id="9549b-123">戻り値の型の変更</span><span class="sxs-lookup"><span data-stu-id="9549b-123">-   Change return type</span></span><br /><span data-ttu-id="9549b-124">-サービス操作を削除します。</span><span class="sxs-lookup"><span data-stu-id="9549b-124">-   Remove service operation</span></span>|<span data-ttu-id="9549b-125">-既存のパラメーターを削除します。</span><span class="sxs-lookup"><span data-stu-id="9549b-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="9549b-126">-新しいサービス操作を追加します。</span><span class="sxs-lookup"><span data-stu-id="9549b-126">-   Add new service operation</span></span>|  
|<span data-ttu-id="9549b-127">サービスの動作</span><span class="sxs-lookup"><span data-stu-id="9549b-127">Service behaviors</span></span>|<span data-ttu-id="9549b-128">-カウント要求を無効にします。</span><span class="sxs-lookup"><span data-stu-id="9549b-128">-   Disable count requests</span></span><br /><span data-ttu-id="9549b-129">-投影のサポートを無効にします。</span><span class="sxs-lookup"><span data-stu-id="9549b-129">-   Disable projection support</span></span><br /><span data-ttu-id="9549b-130">-必要なデータ サービス バージョンを増やす</span><span class="sxs-lookup"><span data-stu-id="9549b-130">-   Increase the required data service version</span></span>|<span data-ttu-id="9549b-131">-カウント要求を有効にします。</span><span class="sxs-lookup"><span data-stu-id="9549b-131">-   Enable count requests</span></span><br /><span data-ttu-id="9549b-132">-投影のサポートを有効にします。</span><span class="sxs-lookup"><span data-stu-id="9549b-132">-   Enable projection support</span></span><br /><span data-ttu-id="9549b-133">-必要なデータ サービス バージョンを減らす</span><span class="sxs-lookup"><span data-stu-id="9549b-133">-   Decrease the required data service version</span></span>|  
|<span data-ttu-id="9549b-134">エンティティ セットのアクセス許可</span><span class="sxs-lookup"><span data-stu-id="9549b-134">Entity set permissions</span></span>|<span data-ttu-id="9549b-135">-エンティティ セットのアクセス許可を制限します。</span><span class="sxs-lookup"><span data-stu-id="9549b-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="9549b-136">-応答コードを変更する (新しい最初の桁の値) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="9549b-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="9549b-137">-エンティティ セットのアクセス許可を緩和します。</span><span class="sxs-lookup"><span data-stu-id="9549b-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="9549b-138">-応答コードを変更する (同じ最初の桁の値)</span><span class="sxs-lookup"><span data-stu-id="9549b-138">-   Change response code (same first digit value)</span></span>|  
|<span data-ttu-id="9549b-139">エンティティのプロパティ</span><span class="sxs-lookup"><span data-stu-id="9549b-139">Entity properties</span></span>|<span data-ttu-id="9549b-140">-既存のプロパティまたはリレーションシップを削除します。</span><span class="sxs-lookup"><span data-stu-id="9549b-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="9549b-141">-Null 非許容のプロパティを追加します。</span><span class="sxs-lookup"><span data-stu-id="9549b-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="9549b-142">-既存のプロパティを変更します。</span><span class="sxs-lookup"><span data-stu-id="9549b-142">-   Change existing property</span></span>|<span data-ttu-id="9549b-143">Null 許容のプロパティを追加<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="9549b-143">-   Add nullable property<sup>2</sup></span></span>|  
|<span data-ttu-id="9549b-144">エンティティ セット</span><span class="sxs-lookup"><span data-stu-id="9549b-144">Entity sets</span></span>|<span data-ttu-id="9549b-145">-エンティティ セットを削除します。</span><span class="sxs-lookup"><span data-stu-id="9549b-145">-   Remove entity set</span></span>|<span data-ttu-id="9549b-146">-派生型を追加します。</span><span class="sxs-lookup"><span data-stu-id="9549b-146">-   Add derived type</span></span><br /><span data-ttu-id="9549b-147">基本型を変更します。</span><span class="sxs-lookup"><span data-stu-id="9549b-147">-   Change base type</span></span><br /><span data-ttu-id="9549b-148">エンティティ セットを追加します。</span><span class="sxs-lookup"><span data-stu-id="9549b-148">-   Add entity set</span></span>|  
|<span data-ttu-id="9549b-149">フィードのカスタマイズ</span><span class="sxs-lookup"><span data-stu-id="9549b-149">Feed customization</span></span>|<span data-ttu-id="9549b-150">-エンティティ プロパティのマッピングを変更します。</span><span class="sxs-lookup"><span data-stu-id="9549b-150">-   Change entity-property mapping</span></span>||  
  
 <span data-ttu-id="9549b-151"><sup>1</sup>これが固有のエラー コードを受け取ると、クライアント アプリケーションが依存しているどの程度厳密に依存しています。</span><span class="sxs-lookup"><span data-stu-id="9549b-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>  
  
 <span data-ttu-id="9549b-152"><sup>2</sup>設定することができます、<xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A>プロパティを`true`にクライアントがクライアントで定義されていないデータ サービスによって送信された新しいプロパティを無視します。</span><span class="sxs-lookup"><span data-stu-id="9549b-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="9549b-153">ただし、挿入の場合、クライアントによって POST 要求に含められていないプロパティは既定値に設定されます。</span><span class="sxs-lookup"><span data-stu-id="9549b-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="9549b-154">更新の場合、クライアントが識別できないプロパティ内の既存のデータは、既定値で上書きされます。</span><span class="sxs-lookup"><span data-stu-id="9549b-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="9549b-155">この場合は、更新を MERGE 要求として送信する必要があります (これは既定の動作です)。</span><span class="sxs-lookup"><span data-stu-id="9549b-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="9549b-156">詳細については、次を参照してください。[データ サービス コンテキストを管理する](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>  
  
### <a name="how-to-version-a-data-service"></a><span data-ttu-id="9549b-157">データ サービスのバージョンの管理</span><span class="sxs-lookup"><span data-stu-id="9549b-157">How to Version a Data Service</span></span>  
 <span data-ttu-id="9549b-158">必要に応じて、サービス コントラクトまたはデータ モデルが更新されたサービスの新しいインスタンスを作成して、データ サービスの新しいバージョンを定義します。</span><span class="sxs-lookup"><span data-stu-id="9549b-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="9549b-159">次に、この新しいサービスを、以前のバージョンと区別する新しい URI エンドポイントを使用して公開します。</span><span class="sxs-lookup"><span data-stu-id="9549b-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="9549b-160">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="9549b-160">For example:</span></span>  
  
-   <span data-ttu-id="9549b-161">古いバージョン: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="9549b-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>  
  
-   <span data-ttu-id="9549b-162">新しいバージョン: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="9549b-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>  
  
 <span data-ttu-id="9549b-163">データ サービスをアップグレードした場合、新しいルート URI を使用するには、新しいデータ サービス メタデータに基づいてクライアントも更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9549b-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="9549b-164">可能な場合は、新しいバージョンを使用するためのアップグレードが行われていないクライアントをサポートするために、データ サービスの以前のバージョンを保持してください。</span><span class="sxs-lookup"><span data-stu-id="9549b-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="9549b-165">データ サービスの古いバージョンは、必要でなくなった時点で削除できます。</span><span class="sxs-lookup"><span data-stu-id="9549b-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="9549b-166">データ サービスのエンドポイント URI を外部の構成ファイルに保持することを検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9549b-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>  
  
## <a name="odata-protocol-versions"></a><span data-ttu-id="9549b-167">OData プロトコルのバージョン</span><span class="sxs-lookup"><span data-stu-id="9549b-167">OData Protocol Versions</span></span>  
 <span data-ttu-id="9549b-168">新しいバージョンとして[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]がリリースされると、クライアント アプリケーションは使用されないものと同じバージョンの[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]データ サービスによってサポートされているプロトコルです。</span><span class="sxs-lookup"><span data-stu-id="9549b-168">As new versions of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] are released, client applications may not be using the same version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that is supported by the data service.</span></span> <span data-ttu-id="9549b-169">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] の新しいバージョンをサポートするデータ サービスにアクセスできる古いクライアント アプリケーションもあります。</span><span class="sxs-lookup"><span data-stu-id="9549b-169">An older client application may access a data service that supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span></span> <span data-ttu-id="9549b-170">クライアント アプリケーションが、新しいバージョンを使用しても可能性があります、[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]のより新しいバージョンをサポートするクライアント ライブラリ[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]アクセスされているデータ サービス バージョンよりもします。</span><span class="sxs-lookup"><span data-stu-id="9549b-170">A client application may also be using a newer version of the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library, which supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than does the data service that is being accessed.</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="9549b-171">によって提供されるサポートを利用[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]このようなバージョン管理シナリオを処理します。</span><span class="sxs-lookup"><span data-stu-id="9549b-171"> leverages the support provided by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] to handle such versioning scenarios.</span></span> <span data-ttu-id="9549b-172">生成して、クライアントが別のバージョンを使用する場合、クライアント データ サービス クラスを作成するデータ モデルのメタデータを使用してサポートされて[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]データ サービスを使用します。</span><span class="sxs-lookup"><span data-stu-id="9549b-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than the data service uses.</span></span> <span data-ttu-id="9549b-173">詳細については、次を参照してください。 [OData: プロトコルのバージョン管理](http://go.microsoft.com/fwlink/?LinkId=186071)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-173">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
### <a name="version-negotiation"></a><span data-ttu-id="9549b-174">バージョンのネゴシエーション</span><span class="sxs-lookup"><span data-stu-id="9549b-174">Version Negotiation</span></span>  
 <span data-ttu-id="9549b-175">最新バージョンを定義するデータ サービスを構成することができます、[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]クライアントから要求されたバージョンに関係なく、サービスによって使用されるプロトコル。</span><span class="sxs-lookup"><span data-stu-id="9549b-175">The data service can be configured to define the highest version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="9549b-176">こうことを指定して、<xref:System.Data.Services.Common.DataServiceProtocolVersion>値を<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>のプロパティ、<xref:System.Data.Services.DataServiceBehavior>データ サービスで使用します。</span><span class="sxs-lookup"><span data-stu-id="9549b-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="9549b-177">詳細については、次を参照してください。[データ サービスの構成](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="9549b-178">アプリケーションで [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] クライアント ライブラリを使用してデータ サービスにアクセスする場合、アプリケーションで使用している [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] のバージョンと機能により、ライブラリでは自動的にこれらのヘッダーに正しい値が指定されます。</span><span class="sxs-lookup"><span data-stu-id="9549b-178">When an application uses the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and the features that are used in your application.</span></span> <span data-ttu-id="9549b-179">既定では、[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]要求された操作をサポートする最も低いプロトコルのバージョンを使用します。</span><span class="sxs-lookup"><span data-stu-id="9549b-179">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses the lowest protocol version that supports the requested operation.</span></span>  
  
 <span data-ttu-id="9549b-180">次の表に、[!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] プロトコルの特定のバージョンに対する [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] のサポートが用意されている [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] および [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] のバージョンを示します。</span><span class="sxs-lookup"><span data-stu-id="9549b-180">The following table details the versions of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] support for specific versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
|[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="9549b-181"> プロトコルのバージョン</span><span class="sxs-lookup"><span data-stu-id="9549b-181"> Protocol Version</span></span>|<span data-ttu-id="9549b-182">サポートが用意されているバージョン</span><span class="sxs-lookup"><span data-stu-id="9549b-182">Support introduced in…</span></span>|  
|-----------------------------------------------------------------------------------|----------------------------|  
|<span data-ttu-id="9549b-183">バージョン 1</span><span class="sxs-lookup"><span data-stu-id="9549b-183">Version 1</span></span>|<span data-ttu-id="9549b-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)]Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="9549b-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="9549b-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)]バージョン 3</span><span class="sxs-lookup"><span data-stu-id="9549b-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|  
|<span data-ttu-id="9549b-186">バージョン 2</span><span class="sxs-lookup"><span data-stu-id="9549b-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="9549b-187">-更新プログラムを[!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)]SP1。</span><span class="sxs-lookup"><span data-stu-id="9549b-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="9549b-188">ダウンロードしてから、更新プログラムをインストールすることができます、 [Microsoft ダウンロード センター](http://go.microsoft.com/fwlink/?LinkId=158125)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-188">You can download and install the update from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="9549b-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)]バージョン 4</span><span class="sxs-lookup"><span data-stu-id="9549b-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|  
|<span data-ttu-id="9549b-190">バージョン 3</span><span class="sxs-lookup"><span data-stu-id="9549b-190">Version 3</span></span>|<span data-ttu-id="9549b-191">-ダウンロードしてインストールをサポートするプレリリース バージョン[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]からバージョン 3、 [Microsoft ダウンロード センター](http://go.microsoft.com/fwlink/?LinkId=203885)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-191">-   You can download and install a pre-release version that supports [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] version 3 from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|  
  
### <a name="metadata-versions"></a><span data-ttu-id="9549b-192">メタデータのバージョン</span><span class="sxs-lookup"><span data-stu-id="9549b-192">Metadata Versions</span></span>  
 <span data-ttu-id="9549b-193">既定では、[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] ではデータ モデルを表すために CSDL のバージョン 1.1 が使用されます。</span><span class="sxs-lookup"><span data-stu-id="9549b-193">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="9549b-194">リフレクション プロバイダーまたはカスタム データ サービス プロバイダーに基づくデータ モデルの場合は、常にこの CSDL バージョンが使用されます。</span><span class="sxs-lookup"><span data-stu-id="9549b-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="9549b-195">ただし、[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] を使用してデータ モデルを定義している場合は、返される CSDL のバージョンは [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] で使用されるバージョンと同じになります。</span><span class="sxs-lookup"><span data-stu-id="9549b-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="9549b-196">CSDL のバージョンはの名前空間によって決定されます、[スキーマ要素](http://msdn.microsoft.com/en-us/396074d8-f99c-4f50-a073-68bce848224f)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-196">The version of the CSDL is determined by the namespace of the [Schema element](http://msdn.microsoft.com/en-us/396074d8-f99c-4f50-a073-68bce848224f).</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="9549b-197">仕様[ \[MC-CSDL\]: 概念スキーマ定義ファイル形式](http://go.microsoft.com/fwlink/?LinkId=159072)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-197"> the specification [\[MC-CSDL\]: Conceptual Schema Definition File Format](http://go.microsoft.com/fwlink/?LinkId=159072).</span></span>  
  
 <span data-ttu-id="9549b-198">返されたメタデータの `DataServices` 要素には `DataServiceVersion` 属性も含まれます。この属性は、応答メッセージの `DataServiceVersion` ヘッダーの値と同じです。</span><span class="sxs-lookup"><span data-stu-id="9549b-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="9549b-199">クライアント アプリケーションなど、**サービス参照の追加** ダイアログ ボックスで[!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)]、この情報を使用してクライアント データ サービス クラスのバージョンで正常に機能を生成する[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]データ サービスをホストします。</span><span class="sxs-lookup"><span data-stu-id="9549b-199">Client applications, such as the **Add Service Reference** dialog box in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], use this information to generate client data service classes that work correctly with the version of [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] that host the data service.</span></span> <span data-ttu-id="9549b-200">詳細については、次を参照してください。 [OData: プロトコルのバージョン管理](http://go.microsoft.com/fwlink/?LinkId=186071)です。</span><span class="sxs-lookup"><span data-stu-id="9549b-200">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9549b-201">関連項目</span><span class="sxs-lookup"><span data-stu-id="9549b-201">See Also</span></span>  
 [<span data-ttu-id="9549b-202">データ サービス プロバイダー</span><span class="sxs-lookup"><span data-stu-id="9549b-202">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)  
 [<span data-ttu-id="9549b-203">WCF Data Services の定義</span><span class="sxs-lookup"><span data-stu-id="9549b-203">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
