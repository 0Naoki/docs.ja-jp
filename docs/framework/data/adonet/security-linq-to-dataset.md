---
title: セキュリティ (LINQ to DataSet)
ms.date: 03/30/2017
ms.assetid: 6116b2b8-75f4-4d8b-aea6-c13e55cda50b
ms.openlocfilehash: aa281cb4d6019ca2df85137eb505724e55b8060a
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2019
ms.locfileid: "59087337"
---
# <a name="security-linq-to-dataset"></a><span data-ttu-id="59bbe-102">セキュリティ (LINQ to DataSet)</span><span class="sxs-lookup"><span data-stu-id="59bbe-102">Security (LINQ to DataSet)</span></span>
<span data-ttu-id="59bbe-103">このトピックでは、[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] におけるセキュリティの問題について説明します。</span><span class="sxs-lookup"><span data-stu-id="59bbe-103">This topic discusses security issues in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].</span></span>  
  
## <a name="passing-a-query-to-an-untrusted-component"></a><span data-ttu-id="59bbe-104">信頼できないコンポーネントへのクエリの受け渡し</span><span class="sxs-lookup"><span data-stu-id="59bbe-104">Passing a Query to an Untrusted Component</span></span>  
 <span data-ttu-id="59bbe-105">A[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]クエリをプログラムの 1 つのポイントを使って作成し、別のアカウントで実行します。</span><span class="sxs-lookup"><span data-stu-id="59bbe-105">A [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query can be formulated in one point of a program and executed in a different one.</span></span> <span data-ttu-id="59bbe-106">このクエリは、それが定義されている場所から見えるすべての要素、たとえば、呼び出し元のメソッドが所属しているクラスのプライベート メンバーやローカル変数/引数を表すシンボルなどを参照できます。</span><span class="sxs-lookup"><span data-stu-id="59bbe-106">At the point where the query is formulated, the query can reference any element that is visible at that point, such as private members of the class that the calling method belongs to, or symbols representing local variables/arguments.</span></span> <span data-ttu-id="59bbe-107">実行時には、呼び出し元のコードから見えなくても、クエリの定義時に参照されたメンバーであれば、事実上アクセスできることになります。</span><span class="sxs-lookup"><span data-stu-id="59bbe-107">At execution time, the query will effectively be able to access those members that were referenced by the query at formulation, even if the calling code does not have visibility into them.</span></span> <span data-ttu-id="59bbe-108">クエリを実行するコードが、任意に見える要素を増やすことはできません。つまり、アクセスできる範囲を実行元のコードそのものが決めることはできません。</span><span class="sxs-lookup"><span data-stu-id="59bbe-108">The code that executes the query does not have arbitrary added visibility, in that it cannot choose what to access.</span></span> <span data-ttu-id="59bbe-109">アクセスの範囲は、クエリがアクセスできる範囲に限定されており、そのクエリ自体を通してのみアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="59bbe-109">It will be able to access strictly what the query accesses, and only through the query itself.</span></span>  
  
 <span data-ttu-id="59bbe-110">つまり、クエリへの参照をコードの別の部分に渡した場合、そのクエリを受け取ったコンポーネントが信頼され、パブリックであるか、プライベートであるかに関係なく、クエリによって参照されたすべてのメンバーに対するアクセスが許可されます。</span><span class="sxs-lookup"><span data-stu-id="59bbe-110">This implies that by passing a reference to a query to another piece of code the component receiving the query is being trusted with access to all public and private members that the query refers to.</span></span> <span data-ttu-id="59bbe-111">一般に、[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]クエリが慎重に構築された情報をプライベートに保持する必要がありますは公開されませんようにしない限り、クエリを信頼されていないコンポーネントに渡されませんする必要があります。</span><span class="sxs-lookup"><span data-stu-id="59bbe-111">In general, [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries should not be passed to untrusted components, unless the query has been carefully constructed so that it does not expose information that should be kept private.</span></span>  
  
## <a name="external-input"></a><span data-ttu-id="59bbe-112">外部入力</span><span class="sxs-lookup"><span data-stu-id="59bbe-112">External Input</span></span>  
 <span data-ttu-id="59bbe-113">アプリケーションによっては (ユーザーや他の外部エージェントからの) 外部入力を受け取り、その入力内容に応じた処理を実行する場合があります。</span><span class="sxs-lookup"><span data-stu-id="59bbe-113">Applications often take external input (from a user or another external agent) and perform actions based on that input.</span></span>  <span data-ttu-id="59bbe-114">場合[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)]アプリケーションは、特定の方法で、外部入力または使用して外部のクエリの入力に基づいてクエリを構築可能性があります。</span><span class="sxs-lookup"><span data-stu-id="59bbe-114">In the case of [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], the application might construct a query in a certain way, based on external input or use external input in the query.</span></span> [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] <span data-ttu-id="59bbe-115">クエリでは、リテラルを渡すことのできる場所であればどこででもパラメーターを渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="59bbe-115">queries accept parameters everywhere that literals are accepted.</span></span> <span data-ttu-id="59bbe-116">アプリケーションの開発者は、外部エージェントから受け取ったリテラルを直接クエリに挿入することは避け、パラメーター化クエリを使用するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="59bbe-116">Application developers should use parameterized queries, rather than injecting literals from an external agent directly into the query.</span></span>  
  
 <span data-ttu-id="59bbe-117">直接、間接を問わず、ユーザーまたは外部エージェントから受け取った入力には、対象言語の構文を巧みに利用して不正なアクションを実行する内容が含まれている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="59bbe-117">Any input directly or indirectly derived from the user or an external agent might have content that leverages the syntax of the target language in order to perform unauthorized actions.</span></span> <span data-ttu-id="59bbe-118">これは、対象言語が Transact-SQL である場合、その攻撃パターンにちなんで SQL インジェクション攻撃と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="59bbe-118">This is known as a SQL injection attack, named after an attack pattern where the target language is Transact-SQL.</span></span> <span data-ttu-id="59bbe-119">クエリに直接挿入されるユーザー入力を使用して、データベースのテーブルを削除したり、サービス拒否の状態を引き起こしたり、本来実行される操作を改変したりします。</span><span class="sxs-lookup"><span data-stu-id="59bbe-119">User input injected directly into the query is used to drop a database table, cause a denial of service, or otherwise change the nature of the operation being performed.</span></span> <span data-ttu-id="59bbe-120">[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] 内でクエリを構築することは可能ですが、オブジェクト モデルの API を介して構築します。</span><span class="sxs-lookup"><span data-stu-id="59bbe-120">Although query composition is possible in [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], it is performed through the object model API.</span></span> [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] <span data-ttu-id="59bbe-121">クエリは、Transact sql ではその意味で SQL インジェクション攻撃を受けやすくない文字列操作や文字列連結を使用して、構成されていません。</span><span class="sxs-lookup"><span data-stu-id="59bbe-121">queries are not composed by using string manipulation or concatenation, as they are in Transact-SQL, and are not susceptible to SQL injection attacks in the traditional sense.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="59bbe-122">関連項目</span><span class="sxs-lookup"><span data-stu-id="59bbe-122">See also</span></span>

- [<span data-ttu-id="59bbe-123">プログラミング ガイド</span><span class="sxs-lookup"><span data-stu-id="59bbe-123">Programming Guide</span></span>](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)
