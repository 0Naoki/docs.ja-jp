---
title: UI オートメーション ツリーの概要
ms.date: 03/30/2017
helpviewer_keywords:
- automation tree
- UI Automation, tree
ms.assetid: 03b98058-bdb3-47a0-8ff7-45e6cdf67166
author: Xansky
ms.author: mhopkins
ms.openlocfilehash: a7fca5d86cf8679e0845a7051b4ace5b91766030
ms.sourcegitcommit: 213292dfbb0c37d83f62709959ff55c50af5560d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/25/2018
ms.locfileid: "47086341"
---
# <a name="ui-automation-tree-overview"></a><span data-ttu-id="ac840-102">UI オートメーション ツリーの概要</span><span class="sxs-lookup"><span data-stu-id="ac840-102">UI Automation Tree Overview</span></span>
> [!NOTE]
>  <span data-ttu-id="ac840-103">このドキュメントは、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] 名前空間で定義されているマネージド <xref:System.Windows.Automation> クラスを使用する .NET Framework 開発者を対象としています。</span><span class="sxs-lookup"><span data-stu-id="ac840-103">This documentation is intended for .NET Framework developers who want to use the managed [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] classes defined in the <xref:System.Windows.Automation> namespace.</span></span> <span data-ttu-id="ac840-104">[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]に関する最新情報については[Windows Automation API: UI Automation](https://go.microsoft.com/fwlink/?LinkID=156746)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="ac840-104">For the latest information about [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)], see [Windows Automation API: UI Automation](https://go.microsoft.com/fwlink/?LinkID=156746).</span></span>  
  
 <span data-ttu-id="ac840-105">支援技術製品とテスト スクリプトは、移動、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ツリーに関する情報を収集、[!INCLUDE[TLA#tla_ui](../../../includes/tlasharptla-ui-md.md)]とその要素。</span><span class="sxs-lookup"><span data-stu-id="ac840-105">Assistive technology products and test scripts navigate the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree to gather information about the [!INCLUDE[TLA#tla_ui](../../../includes/tlasharptla-ui-md.md)] and its elements.</span></span>  
  
 <span data-ttu-id="ac840-106">内で、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ツリーがありますが、ルート要素 (<xref:System.Windows.Automation.AutomationElement.RootElement%2A>) を表す、現在のデスクトップとその子要素は、windows アプリケーションを表します。</span><span class="sxs-lookup"><span data-stu-id="ac840-106">Within the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree there is a root element (<xref:System.Windows.Automation.AutomationElement.RootElement%2A>) that represents the current desktop and whose child elements represent application windows.</span></span> <span data-ttu-id="ac840-107">これらの子要素のそれぞれの構成部分を表す要素を含めることができます[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]メニュー、ボタン、ツールバー、リスト ボックスなどです。</span><span class="sxs-lookup"><span data-stu-id="ac840-107">Each of these child elements can contain elements representing pieces of [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] such as menus, buttons, toolbars, and list boxes.</span></span> <span data-ttu-id="ac840-108">さらに、これらの要素には、リスト項目などの要素を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="ac840-108">These elements in turn can contain elements such as list items.</span></span>  
  
 <span data-ttu-id="ac840-109">[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ツリーが固定された構造ではなく、何千もの要素が含まれるため、その全体像を見る に表示されることはほとんどありません。</span><span class="sxs-lookup"><span data-stu-id="ac840-109">The [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree is not a fixed structure and is seldom seen in its totality because it might contain thousands of elements.</span></span> <span data-ttu-id="ac840-110">その一部は必要に応じてビルドされ、要素の追加、移動、削除に伴って変更されます。</span><span class="sxs-lookup"><span data-stu-id="ac840-110">Parts of it are built as they are needed, and it can undergo changes as elements are added, moved, or removed.</span></span>  
  
 <span data-ttu-id="ac840-111">UI オートメーション プロバイダーのサポート、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ルート (通常は、ウィンドウでホストされている) とサブツリーで構成される、フラグメント内の項目間のナビゲーションを実装することによってツリー。</span><span class="sxs-lookup"><span data-stu-id="ac840-111">UI Automation providers support the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree by implementing navigation among items within a fragment, which consists of a root (usually hosted in a window) and a subtree.</span></span> <span data-ttu-id="ac840-112">ただし、プロバイダーは、コントロール間のナビゲーションには関与しません。</span><span class="sxs-lookup"><span data-stu-id="ac840-112">However, providers are not concerned with navigation from one control to another.</span></span> <span data-ttu-id="ac840-113">によって管理されて、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]コア、既定のウィンドウ プロバイダーから情報を使用します。</span><span class="sxs-lookup"><span data-stu-id="ac840-113">This is managed by the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] core, using information from the default window providers.</span></span>  
  
<a name="uiautomation_tree_view"></a>   
## <a name="views-of-the-automation-tree"></a><span data-ttu-id="ac840-114">オートメーション ツリーのビュー</span><span class="sxs-lookup"><span data-stu-id="ac840-114">Views of the Automation Tree</span></span>  
 <span data-ttu-id="ac840-115">[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]をツリーのフィルターだけが含まれるビューを作成して<xref:System.Windows.Automation.AutomationElement>特定のクライアントに関連するオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="ac840-115">The [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree can be filtered to create views that contain only those <xref:System.Windows.Automation.AutomationElement> objects relevant for a particular client.</span></span> <span data-ttu-id="ac840-116">このアプローチにより、クライアントで表示される構造をカスタマイズする[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]特定のニーズにします。</span><span class="sxs-lookup"><span data-stu-id="ac840-116">This approach allows clients to customize the structure presented through [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] to their particular needs.</span></span>  
  
 <span data-ttu-id="ac840-117">クライアントがビューをカスタマイズする方法には、スコープ設定とフィルター処理の 2 つがあります。</span><span class="sxs-lookup"><span data-stu-id="ac840-117">The client has two ways of customizing the view: by scoping and by filtering.</span></span> <span data-ttu-id="ac840-118">スコープ設定では、基本要素を起点としてビューの範囲を定義します。たとえば、アプリケーションがデスクトップの直接の子だけを検索するか、アプリケーション ウィンドウのすべての子孫を検索するかを定義できます。</span><span class="sxs-lookup"><span data-stu-id="ac840-118">Scoping is defining the extent of the view, starting from a base element: for example, the application might want to find only direct children of the desktop, or all descendants of an application window.</span></span> <span data-ttu-id="ac840-119">フィルター処理では、ビューに含める要素の種類を定義します。</span><span class="sxs-lookup"><span data-stu-id="ac840-119">Filtering is defining the types of elements that are to be included in the view.</span></span>  
  
 <span data-ttu-id="ac840-120">UI オートメーション プロバイダーのサポートなどの要素のプロパティを定義することでフィルター処理、<xref:System.Windows.Automation.AutomationElementIdentifiers.IsControlElementProperty>と<xref:System.Windows.Automation.AutomationElementIdentifiers.IsContentElementProperty>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="ac840-120">UI Automation providers support filtering by defining properties on elements, including the <xref:System.Windows.Automation.AutomationElementIdentifiers.IsControlElementProperty> and <xref:System.Windows.Automation.AutomationElementIdentifiers.IsContentElementProperty> properties.</span></span>  
  
 [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]<span data-ttu-id="ac840-121"> 次の 3 つの既定のビューを提供します。</span><span class="sxs-lookup"><span data-stu-id="ac840-121"> provides three default views.</span></span> <span data-ttu-id="ac840-122">これらのビューは、実行されるフィルター処理の種類によって定義されます。すべてのビューのスコープは、アプリケーションによって定義されます。</span><span class="sxs-lookup"><span data-stu-id="ac840-122">These views are defined by the type of filtering performed; the scope of any view is defined by the application.</span></span> <span data-ttu-id="ac840-123">さらに、アプリケーションではプロパティに他のフィルターを適用して、たとえば有効にされているコントロールだけをコントロール ビューに含めることもできます。</span><span class="sxs-lookup"><span data-stu-id="ac840-123">In addition, the application can apply other filters on properties; for example, to include only enabled controls in a control view.</span></span>  
  
<a name="uiautomation_raw_view"></a>   
### <a name="raw-view"></a><span data-ttu-id="ac840-124">列ビュー</span><span class="sxs-lookup"><span data-stu-id="ac840-124">Raw View</span></span>  
 <span data-ttu-id="ac840-125">未加工のビュー、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ツリーは、完全なツリーの<xref:System.Windows.Automation.AutomationElement>デスクトップは、ルート オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="ac840-125">The raw view of the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree is the full tree of <xref:System.Windows.Automation.AutomationElement> objects for which the desktop is the root.</span></span> <span data-ttu-id="ac840-126">未加工ビューは、アプリケーションのネイティブ プログラムによる構造に忠実に従っているため、使用できるビューの中では最も詳細なビューです。</span><span class="sxs-lookup"><span data-stu-id="ac840-126">The raw view closely follows the native programmatic structure of an application and therefore is the most detailed view available.</span></span> <span data-ttu-id="ac840-127">また、ツリーの他のビューは、未加工ビューに基づいて構築されます。</span><span class="sxs-lookup"><span data-stu-id="ac840-127">It is also the base on which the other views of the tree are built.</span></span> <span data-ttu-id="ac840-128">このビューが、基になる依存[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]framework の未加工のビューを[!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)]よりも、別の未加工ビューをあるボタンを[!INCLUDE[TLA2#tla_win32](../../../includes/tla2sharptla-win32-md.md)]ボタン。</span><span class="sxs-lookup"><span data-stu-id="ac840-128">Because this view depends on the underlying [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] framework, the raw view of a [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] button will have a different raw view than a [!INCLUDE[TLA2#tla_win32](../../../includes/tla2sharptla-win32-md.md)] button.</span></span>  
  
 <span data-ttu-id="ac840-129">未加工のビューを取得すると、プロパティを指定せずに要素を検索またはを使用して、<xref:System.Windows.Automation.TreeWalker.RawViewWalker>ツリーを移動します。</span><span class="sxs-lookup"><span data-stu-id="ac840-129">The raw view is obtained by searching for elements without specifying properties or by using the <xref:System.Windows.Automation.TreeWalker.RawViewWalker> to navigate the tree.</span></span>  
  
<a name="uiautomation_control_view"></a>   
### <a name="control-view"></a><span data-ttu-id="ac840-130">コントロール ビュー</span><span class="sxs-lookup"><span data-stu-id="ac840-130">Control View</span></span>  
 <span data-ttu-id="ac840-131">コントロール ビュー、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ツリーを記述する支援技術製品のタスクを簡略化、[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]エンドユーザーを支援するエンド ユーザー アプリケーションの対話に密接に対応するため、[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]構造体エンドユーザーによって認識されます。</span><span class="sxs-lookup"><span data-stu-id="ac840-131">The control view of the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree simplifies the assistive technology product's task of describing the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] to the end user and helping that end user interact with the application because it closely maps to the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] structure perceived by an end user.</span></span>  
  
 <span data-ttu-id="ac840-132">コントロール ビューは、未加工ビューのサブセットです。</span><span class="sxs-lookup"><span data-stu-id="ac840-132">The control view is a subset of the raw view.</span></span> <span data-ttu-id="ac840-133">すべてが含まれています[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]対話型または内のコントロールの論理構造に貢献すると、エンドユーザーが理解できるようにする、未加工ビューの項目、[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="ac840-133">It includes all [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] items from the raw view that an end user would understand as interactive or contributing to the logical structure of the control in the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="ac840-134">例の[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]の論理構造に影響を与える項目、 [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]、ただしではありません対話型自体がリスト ビューのヘッダー、ツールバー、メニューのおよびステータス バーなどの項目コンテナー。</span><span class="sxs-lookup"><span data-stu-id="ac840-134">Examples of [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] items that contribute to the logical structure of the [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)], but are not interactive themselves, are item containers such as list view headers, toolbars, menus, and the status bar.</span></span> <span data-ttu-id="ac840-135">レイアウトや装飾の目的のためだけに使用される非対話型項目は、コントロール ビューには表示されません。</span><span class="sxs-lookup"><span data-stu-id="ac840-135">Non-interactive items used simply for layout or decorative purposes will not be seen in the control view.</span></span> <span data-ttu-id="ac840-136">その一例は、パネルです。パネルは、ダイアログでコントロールをレイアウトするためだけに使用され、情報はまったく含まれません。</span><span class="sxs-lookup"><span data-stu-id="ac840-136">An example is a panel that was used only to lay out the controls in a dialog but does not itself contain any information.</span></span> <span data-ttu-id="ac840-137">コントロール ビューに表示される非対話型の項目は、情報を提供するグラフィックとダイアログ内の静的テキストです。</span><span class="sxs-lookup"><span data-stu-id="ac840-137">Non-interactive items that will be seen in the control view are graphics with information and static text in a dialog.</span></span> <span data-ttu-id="ac840-138">コントロール ビューに含まれる非対話型の項目がキーボード フォーカスを受け取ることはできません。</span><span class="sxs-lookup"><span data-stu-id="ac840-138">Non-interactive items that are included in the control view cannot receive keyboard focus.</span></span>  
  
 <span data-ttu-id="ac840-139">コントロールのビューを持つ要素を検索して取得した、<xref:System.Windows.Automation.AutomationElement.AutomationElementInformation.IsControlElement%2A>プロパティに設定`true`、またはを使用して、<xref:System.Windows.Automation.TreeWalker.ControlViewWalker>ツリーを移動します。</span><span class="sxs-lookup"><span data-stu-id="ac840-139">The control view is obtained by searching for elements that have the <xref:System.Windows.Automation.AutomationElement.AutomationElementInformation.IsControlElement%2A> property set to `true`, or by using the <xref:System.Windows.Automation.TreeWalker.ControlViewWalker> to navigate the tree.</span></span>  
  
<a name="uiautomation_content_view"></a>   
### <a name="content-view"></a><span data-ttu-id="ac840-140">コンテンツ ビュー</span><span class="sxs-lookup"><span data-stu-id="ac840-140">Content View</span></span>  
 <span data-ttu-id="ac840-141">コンテンツ ビュー、[!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]ツリー コントロールのビューのサブセットであります。</span><span class="sxs-lookup"><span data-stu-id="ac840-141">The content view of the [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] tree is a subset of the control view.</span></span> <span data-ttu-id="ac840-142">含まれている[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]、ユーザー インターフェイスで実際の情報を伝達する項目を含む[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]を受信できる項目はキーボード フォーカスとではない、ラベルにいくつかのテキスト、[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]項目。</span><span class="sxs-lookup"><span data-stu-id="ac840-142">It contains [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] items that convey the true information in a user interface, including [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] items that can receive keyboard focus and some text that is not a label on a [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] item.</span></span> <span data-ttu-id="ac840-143">たとえば、ドロップダウン コンボ ボックス内の値は、エンドユーザーが使用する情報を表すため、コンテンツ ビューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="ac840-143">For example, the values in a drop-down combo box will appear in the content view because they represent the information being used by an end user.</span></span> <span data-ttu-id="ac840-144">コンテンツ ビューでは、コンボ ボックスとリスト ボックスが両方表現のコレクションとして[!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)]項目または 1 つ以上のおそらく 1 つの項目を選択できます。</span><span class="sxs-lookup"><span data-stu-id="ac840-144">In the content view, a combo box and list box are both represented as a collection of [!INCLUDE[TLA2#tla_ui](../../../includes/tla2sharptla-ui-md.md)] items where one, or perhaps more than one, item can be selected.</span></span> <span data-ttu-id="ac840-145">コンテンツ ビューの目的は、ユーザーに提示するデータ (つまりコンテンツ) を表示することなので、このビューは、どの項目が常に開かれていて、どの項目が展開または折りたたむことができるかは重要ではありません。</span><span class="sxs-lookup"><span data-stu-id="ac840-145">The fact that one is always open and one can expand and collapse is irrelevant in the content view because it is designed to show the data, or content, that is being presented to the user.</span></span>  
  
 <span data-ttu-id="ac840-146">コンテンツのビューを取得する要素を検索することによって、<xref:System.Windows.Automation.AutomationElement.AutomationElementInformation.IsContentElement%2A>プロパティに設定`true`、またはを使用して、<xref:System.Windows.Automation.TreeWalker.ContentViewWalker>ツリーを移動します。</span><span class="sxs-lookup"><span data-stu-id="ac840-146">The content view is obtained by searching for elements that have the <xref:System.Windows.Automation.AutomationElement.AutomationElementInformation.IsContentElement%2A> property set to `true`, or by using the <xref:System.Windows.Automation.TreeWalker.ContentViewWalker> to navigate the tree.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ac840-147">関連項目</span><span class="sxs-lookup"><span data-stu-id="ac840-147">See Also</span></span>  
 <xref:System.Windows.Automation.AutomationElement>  
 [<span data-ttu-id="ac840-148">UI オートメーションの概要</span><span class="sxs-lookup"><span data-stu-id="ac840-148">UI Automation Overview</span></span>](../../../docs/framework/ui-automation/ui-automation-overview.md)
