---
title: WIF 3.5 でビルドされたアプリケーションを WIF 4.5 に移行するためのガイドライン
ms.date: 03/30/2017
ms.assetid: 7a32fe6e-5f68-4693-9371-19411fa8063c
author: BrucePerlerMS
ms.openlocfilehash: ad8ff2b6daaaf48975b86c637435b31fa1869e1d
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/05/2019
ms.locfileid: "57370021"
---
# <a name="guidelines-for-migrating-an-application-built-using-wif-35-to-wif-45"></a><span data-ttu-id="78ac9-102">WIF 3.5 でビルドされたアプリケーションを WIF 4.5 に移行するためのガイドライン</span><span class="sxs-lookup"><span data-stu-id="78ac9-102">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>

## <a name="applies-to"></a><span data-ttu-id="78ac9-103">対象</span><span class="sxs-lookup"><span data-stu-id="78ac9-103">Applies To</span></span>

- <span data-ttu-id="78ac9-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 および 4.5。</span><span class="sxs-lookup"><span data-stu-id="78ac9-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 and 4.5.</span></span>

## <a name="overview"></a><span data-ttu-id="78ac9-105">概要</span><span class="sxs-lookup"><span data-stu-id="78ac9-105">Overview</span></span>

<span data-ttu-id="78ac9-106">Windows Identity Foundation (WIF) は、もともと .NET 3.5 SP1 タイム フレームでリリースされました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-106">Windows Identity Foundation (WIF) was originally released in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="78ac9-107">その WIF のバージョンは WIF 3.5 と呼ばれています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-107">That version of WIF is referred to as WIF 3.5.</span></span> <span data-ttu-id="78ac9-108">WIF は個別のランタイムおよび SDK としてリリースされました。つまりこれは、WIF 対応アプリケーションを実行しているすべてコンピューターには WIF のランタイムがインストールされている必要があり、開発者は WIF 対応アプリケーションを開発できる Visual Studio のテンプレートとツールを取得するため WIF SDK をダウンロードしてインストールする必要があることを意味します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-108">It was released as a separate runtime and SDK, which meant that every computer on which a WIF-enabled application ran had to have the WIF runtime installed and developers had to download and install the WIF SDK to get the Visual Studio templates and tooling that enabled development of WIF-enabled applications.</span></span> <span data-ttu-id="78ac9-109">.NET 4.5 以降では、WIF は .NET Framework に完全に統合されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-109">Beginning with .NET 4.5, WIF has been fully integrated into the .NET Framework.</span></span> <span data-ttu-id="78ac9-110">個別のランタイムが不要になり、WIF のツールは、Visual Studio Extensions Manager を使用して Visual Studio 2012 にインストールできます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-110">A separate runtime is no longer needed and the WIF tooling can be installed in Visual Studio 2012 by using the Visual Studio Extensions Manager.</span></span> <span data-ttu-id="78ac9-111">この WIF のバージョンは WIF 4.5 と呼ばれています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-111">This version of WIF is referred to as WIF 4.5.</span></span>

<span data-ttu-id="78ac9-112">.NET への WIF の統合には WIF API サーフェイスの複数の変更が必要でした。</span><span class="sxs-lookup"><span data-stu-id="78ac9-112">The integration of WIF into .NET necessitated several changes in the WIF API surface.</span></span> <span data-ttu-id="78ac9-113">WIF 4.5 には、Visual Studio 用の新しい名前空間、構成要素の変更、および新しいツールが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-113">WIF 4.5 includes new namespaces, some changes to configuration elements, and new tooling for Visual Studio.</span></span> <span data-ttu-id="78ac9-114">このトピックでは、WIF 3.5 から WIF 4.5 を使用してビルドされたアプリケーションを移行するうえでのガイダンスを示します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-114">This topic provides guidance that you can use to help you migrate applications built using WIF 3.5 to WIF 4.5.</span></span> <span data-ttu-id="78ac9-115">Windows 8 または Windows Server 2012 を実行するコンピューターで WIF 3.5 を使用してビルドされたレガシ アプリケーションを実行する必要がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-115">There may be scenarios in which you need to run legacy applications built using WIF 3.5 on computers that are running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="78ac9-116">またこのトピックでは、これらのオペレーティング システム向けに WIF 3.5 を有効にする方法についてのガイダンスも示します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-116">This topic also provides guidance about how to enable WIF 3.5 for these operating systems.</span></span>

## <a name="changes-required-for-wif-45"></a><span data-ttu-id="78ac9-117">WIF 4.5 に必要な変更</span><span class="sxs-lookup"><span data-stu-id="78ac9-117">Changes Required for WIF 4.5</span></span>

<span data-ttu-id="78ac9-118">ここでは、WIF 3.5 アプリケーションを WIF 4.5 に移行するために必要な変更について説明します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-118">This section describes the changes that are required to migrate a WIF 3.5 application to WIF 4.5.</span></span>

### <a name="assembly-and-namespace-changes"></a><span data-ttu-id="78ac9-119">アセンブリおよび名前空間の変更</span><span class="sxs-lookup"><span data-stu-id="78ac9-119">Assembly and Namespace Changes</span></span>

<span data-ttu-id="78ac9-120">WIF 3.5 では、WIF クラスはすべて `Microsoft.IdentityModel` アセンブリ (microsoft.identitymicrosoft.identitymodel.dll) に含まれています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-120">In WIF 3.5, all of the WIF classes were contained in the `Microsoft.IdentityModel` assembly (microsoft.identitymicrosoft.identitymodel.dll).</span></span> <span data-ttu-id="78ac9-121">WIF 4.5 では、WIF クラスは、`mscorlib` (mscorlib.dll)、`System.IdentityModel` (System.IdentityModel.dll)、`System.IdentityModel.Services` (System.IdentityModel.Services.dll)、および `System.ServiceModel` (System.ServiceModel.dll) というアセンブリに分割されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-121">In WIF 4.5, the WIF classes have been split across the following assemblies: `mscorlib` (mscorlib.dll), `System.IdentityModel` (System.IdentityModel.dll), `System.IdentityModel.Services` (System.IdentityModel.Services.dll), and `System.ServiceModel` (System.ServiceModel.dll).</span></span>

<span data-ttu-id="78ac9-122">WIF 3.5 クラスはすべて `Microsoft.IdentityModel` 名前空間 (`Microsoft.IdentityModel`、`Microsoft.IdentityModel.Tokens`、`Microsoft.IdentityModel.Web` など) の 1 つに含まれていました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-122">The WIF 3.5 classes were all contained in one of the `Microsoft.IdentityModel` namespaces; for example, `Microsoft.IdentityModel`, `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Web`, and so on.</span></span> <span data-ttu-id="78ac9-123">WIF 4.5 では、WIF クラスは [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) 名前空間、<xref:System.Security.Claims?displayProperty=nameWithType> 名前空間、および <xref:System.ServiceModel.Security?displayProperty=nameWithType> 名前空間に分散されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-123">In WIF 4.5, the WIF classes are now spread across the [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces, the <xref:System.Security.Claims?displayProperty=nameWithType> namespace, and the <xref:System.ServiceModel.Security?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="78ac9-124">この再編成に加えて、一部の WIF 3.5 クラスは WIF 4.5 では削除されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-124">In addition to this reorganization, some WIF 3.5 classes have been dropped in WIF 4.5.</span></span>

<span data-ttu-id="78ac9-125">次の表に、より重要な WIF 4.5 の名前空間とそれに含まれるクラスの種類を示します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-125">The following table shows some of the more important WIF 4.5 namespaces and the kind of classes they contain.</span></span> <span data-ttu-id="78ac9-126">WIF 3.5 および WIF 4.5 間で名前空間を対応付ける方法および WIF 4.5 で削除された名前空間とクラスの詳細については、「[Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md)」(WIF 3.5 と WIF 4.5 間での名前空間マッピング) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-126">For more detailed information about how namespaces map between WIF 3.5 and WIF 4.5 and about namespaces and classes that have been dropped in WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>

|<span data-ttu-id="78ac9-127">WIF 4.5 名前空間</span><span class="sxs-lookup"><span data-stu-id="78ac9-127">WIF 4.5 Namespace</span></span>|<span data-ttu-id="78ac9-128">説明</span><span class="sxs-lookup"><span data-stu-id="78ac9-128">Description</span></span>|
|-----------------------|-----------------|
|<xref:System.IdentityModel?displayProperty=nameWithType>|<span data-ttu-id="78ac9-129">クッキーの変換、セキュリティ トークン サービス、および特殊な XML ディクショナリ リーダーを表すクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-129">Contains classes that represent cookie transforms, security token services, and specialized XML dictionary readers.</span></span> <span data-ttu-id="78ac9-130">`Microsoft.IdentityModel`、`Microsoft.IdentityModel.SecurityTokenService`、および `Microsoft.IdentityModel.Threading` という WIF 3.5 名前空間のクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-130">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel`, `Microsoft.IdentityModel.SecurityTokenService`, and `Microsoft.IdentityModel.Threading`.</span></span>|
|<xref:System.Security.Claims?displayProperty=nameWithType>|<span data-ttu-id="78ac9-131">クレーム、クレーム ベースの ID、クレーム ベースの原則、およびその他のクレーム ベースの ID モデル成果物を表すクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-131">Contains classes that represent claims, claims-based identities, claims based principals, and other claims based identity model artifacts.</span></span> <span data-ttu-id="78ac9-132">`Microsoft.IdentityModel.Claims` 名前空間のクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-132">Contains classes from the `Microsoft.IdentityModel.Claims` namespace.</span></span>|
|<xref:System.IdentityModel.Tokens?displayProperty=nameWithType>|<span data-ttu-id="78ac9-133">セキュリティ トークン、セキュリティ トークン ハンドラー、およびその他のセキュリティ トークンの成果物を表すクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-133">Contains classes that represent security tokens, security token handlers, and other security token artifacts.</span></span> <span data-ttu-id="78ac9-134">`Microsoft.IdentityModel.Tokens`、`Microsoft.IdentityModel.Tokens.Saml11`、および `Microsoft.IdentityModel.Tokens.Saml2` という WIF 3.5 名前空間のクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-134">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Tokens.Saml11`, and `Microsoft.IdentityModel.Tokens.Saml2`.</span></span>|
|<xref:System.IdentityModel.Services?displayProperty=nameWithType>|<span data-ttu-id="78ac9-135">受動的な (WS-Federation) シナリオで使用されるクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-135">Contains classes that are used in passive (WS-Federation) scenarios.</span></span> <span data-ttu-id="78ac9-136">`Microsoft.IdentityModel.Web` 名前空間のクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-136">Contains classes from the `Microsoft.IdentityModel.Web` namespace.</span></span>|
|<xref:System.ServiceModel.Security?displayProperty=nameWithType>|<span data-ttu-id="78ac9-137">アクティブな (WS-Trust) シナリオで使用される WCF のコントラクト、チャネル、サービス ホスト、およびその他の成果物を表すクラスは、現在はこの名前空間にあります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-137">Classes that represent WCF contracts, channels, service hosts and other artifacts that are used in active (WS-Trust) scenarios are now in this namespace.</span></span> <span data-ttu-id="78ac9-138">WIF 3.5 では、これらのクラスは `Microsoft.IdentityModel.Protocols.WSTrust` 名前空間にありました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-138">In WIF 3.5 , these classes were in the `Microsoft.IdentityModel.Protocols.WSTrust` namespace.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="78ac9-139">`System.IdentityModel`、<xref:System.IdentityModel.Claims?displayProperty=nameWithType>、および <xref:System.IdentityModel.Policy?displayProperty=nameWithType> という <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> 名前空間には、WCF クレーム ベースの ID モデルを実装するクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-139">The following `System.IdentityModel` namespaces contain classes that implement the WCF claims-based identity model: <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>.</span></span> <span data-ttu-id="78ac9-140">WCF クレーム ベース ID モデルは WIF に置き換えられています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-140">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="78ac9-141">WIF に基づいてソリューションをビルドする際は、これら 3 つの名前空間でクラスを使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-141">You should not use classes in these three namespaces when building solutions based on WIF.</span></span>

### <a name="changes-due-to-net-integration"></a><span data-ttu-id="78ac9-142">.NET の統合による変更</span><span class="sxs-lookup"><span data-stu-id="78ac9-142">Changes Due to .NET Integration</span></span>

<span data-ttu-id="78ac9-143">WIF は現在、.NET Framework に統合されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-143">WIF is now integrated into the .NET Framework.</span></span> <span data-ttu-id="78ac9-144">ほとんどの .NET の ID とプリンシパル クラスは、<xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> と <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType> から派生します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-144">Most .NET identity and principal classes now derive from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>.</span></span> <span data-ttu-id="78ac9-145">WIF 4.5 での次の変更による結果:</span><span class="sxs-lookup"><span data-stu-id="78ac9-145">The results in the following changes in WIF 4.5:</span></span>

- <span data-ttu-id="78ac9-146">クレーム、ID、およびプリンシパルを表す WIF クラスは、現在は <xref:System.Security.Claims?displayProperty=nameWithType> 名前空間にあります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-146">WIF classes that represent claims, identities, and principals now exist in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="78ac9-147"><xref:System.IdentityModel.Claims?displayProperty=nameWithType> 名前空間には、WCF クレーム ベースの ID モデルで成果物を表すクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-147">The <xref:System.IdentityModel.Claims?displayProperty=nameWithType> namespace contains classes that represent artifacts in the WCF claims-based identity model.</span></span> <span data-ttu-id="78ac9-148">これらのクラスの多くは、WIF クラスと同じ名前を持ちます (`Claims` など)。</span><span class="sxs-lookup"><span data-stu-id="78ac9-148">Many of these classes have names that are the same as WIF classes; for example, `Claims`.</span></span> <span data-ttu-id="78ac9-149">WIF に基づいてソリューションをビルドする場合は、これらのクラスは使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-149">Do not use these classes when building solutions based on WIF.</span></span>

- <span data-ttu-id="78ac9-150">.NET の ID およびプリンシパル クラスは、直接 <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> と <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType> から派生します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-150">.NET identity and principal classes now derive directly from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>, which represent claims-based identities and principals.</span></span> <span data-ttu-id="78ac9-151">したがって、WIF 3.5 インターフェイス `IClaimsIdentity` と `IClaimsPrincipal` は不要になり、WIF 4.5 では使用できません。</span><span class="sxs-lookup"><span data-stu-id="78ac9-151">For this reason, the WIF 3.5 interfaces `IClaimsIdentity` and `IClaimsPrincipal` are no longer needed and are not available in WIF 4.5.</span></span>

- <span data-ttu-id="78ac9-152">
  <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> および <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> などの .NET の ID およびプリンシパル クラスは、<xref:System.Security.Claims.ClaimsIdentity> および <xref:System.Security.Claims.ClaimsPrincipal> から派生し、組み込みのクレーム機能を備えています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-152">Because.NET identity and principal classes such as <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> and <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> now derive from <xref:System.Security.Claims.ClaimsIdentity> and <xref:System.Security.Claims.ClaimsPrincipal>, they have claims functionality built-in.</span></span> <span data-ttu-id="78ac9-153">したがって、WIF 3.5 にあった `WindowsClaimsIdentity` と `WindowsClaimsPrincipal` などのクレーム固有の ID およびプリンシパル クラスは不要になり、WIF 4.5 には存在しません。</span><span class="sxs-lookup"><span data-stu-id="78ac9-153">For this reason, claims-specific identity and principal classes such as `WindowsClaimsIdentity` and `WindowsClaimsPrincipal` that were present in WIF 3.5 are no longer needed and do not exist in WIF 4.5.</span></span>

### <a name="other-changes-to-wif-functionality"></a><span data-ttu-id="78ac9-154">WIF 機能のその他の変更</span><span class="sxs-lookup"><span data-stu-id="78ac9-154">Other Changes to WIF Functionality</span></span>

<span data-ttu-id="78ac9-155">名前空間の変更と.NET との統合による変更に加えて、WIF 4.5 では WIF 機能に対する次の一般的な変更が行われています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-155">In addition to the namespace changes and the changes due to integration with .NET, the following general changes to WIF functionality occur in WIF 4.5.</span></span>

- <span data-ttu-id="78ac9-156">特定の SOAP エラーに例外を対応付ける機能を備えていた `Microsoft.IdentityModel.ExceptionMapper` クラスは削除されます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-156">The `Microsoft.IdentityModel.ExceptionMapper` class, which provided functionality that enabled you to map exceptions to specific SOAP Faults, is removed.</span></span>

- <span data-ttu-id="78ac9-157">例外のサーフェイスは大幅に削減されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-157">The exception surface has been greatly reduced.</span></span>

- <span data-ttu-id="78ac9-158">プロトコルまたは WS-\* 固有の定数を定義したクラスの多く (たとえば、WS-Addressing 1.0 に関連する定数を定義した `Microsoft.IdentityModel.WSAddressing10Constants` クラスなど) は削除されます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-158">Many of the classes that defined protocol or WS-\* specific constants have been removed; for example, the `Microsoft.IdentityModel.WSAddressing10Constants` class, which defined constants related to WS-Addressing 1.0.</span></span>

- <span data-ttu-id="78ac9-159">`Microsoft.IdentityModel.WindowsTokenService` 名前空間の Claims to Windows Token Service (c2wts) とその関連クラスが削除されます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-159">The Claims to Windows Token Service (c2wts) and its associated classes in the `Microsoft.IdentityModel.WindowsTokenService` namespace are removed.</span></span>

### <a name="wif-configuration-changes"></a><span data-ttu-id="78ac9-160">WIF 構成の変更</span><span class="sxs-lookup"><span data-stu-id="78ac9-160">WIF Configuration Changes</span></span>

<span data-ttu-id="78ac9-161">構成ファイルの変更の多くは WIF 4.5 での名前空間の更新により発生しました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-161">Many of the changes in the configuration file have been caused by namespace updates in WIF 4.5.</span></span> <span data-ttu-id="78ac9-162">たとえば、WS-Federation Authentication Manager をアプリケーションに追加するため、`<httpModules>` セクションの次の WIF 3.5 エントリについて考えます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-162">For example, consider the following WIF 3.5 entry in the `<httpModules>` section to add the WS-Federation Authentication Manager to an application:</span></span>

```xml
<add name="WSFederationAuthenticationModule" type="Microsoft.IdentityModel.Web.WSFederationAuthenticationModule, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=abcd … 5678" />
```

<span data-ttu-id="78ac9-163">このエントリは WIF 4.5 で新しい名前空間とアセンブリのバージョンを含むように更新されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-163">This entry has been updated in WIF 4.5 to include the new namespaces and assembly version:</span></span>

```xml
<add name="WSFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=abcd … 5678"/>
```

<span data-ttu-id="78ac9-164">次の一覧に、WIF 4.5 用の構成ファイルへの主要な変更を示します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-164">The following list enumerates the major changes to the configuration file for WIF 4.5.</span></span>

- <span data-ttu-id="78ac9-165">`<microsoft.identityModel>` セクションは、[\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) セクションになっています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-165">The `<microsoft.identityModel>` section is now the [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) section.</span></span>

- <span data-ttu-id="78ac9-166">`<service>` 要素は、[\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) 要素になっています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-166">The `<service>` element is now the [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element.</span></span>

- <span data-ttu-id="78ac9-167">新しいセクション [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md) は、受動的な (WS-Federation) シナリオで動作を制御する設定を指定するために追加されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-167">A new section, [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md), has been added to specify settings that control behavior in passive (WS-Federation) scenarios.</span></span>

- <span data-ttu-id="78ac9-168">[\<federationConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) 要素とその子要素は、WIF 3.5 の `<service>` 要素から新しい `<system.identityModel.services>` 要素に移動されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-168">The [\<federationConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element and its child elements have been moved from the `<service>` element in WIF 3.5 to the new `<system.identityModel.services>` element .</span></span>

- <span data-ttu-id="78ac9-169">WIF 3.5 では `<service>` 要素の直下のサービスレベルで指定できた複数の要素が、[\<securityTokenHandlerConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md) 要素での指定に制限されました </span><span class="sxs-lookup"><span data-stu-id="78ac9-169">Several elements that could be specified at the service-level directly under the `<service>` element in WIF 3.5 have been restricted to being specified under the [\<securityTokenHandlerConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md) element.</span></span> <span data-ttu-id="78ac9-170">(WIF 4.5 では、下位互換性を維持するため、これらは [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) 要素で指定できます)。</span><span class="sxs-lookup"><span data-stu-id="78ac9-170">(They may still be specified under the [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element in WIF 4.5 for backward compatibility.)</span></span>

<span data-ttu-id="78ac9-171">WIF 4.5 の構成要素の詳細な一覧については、「[WIF Configuration Schema](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md)」(WIF 構成スキーマ) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-171">For a complete list of the WIF 4.5 configuration elements, see [WIF Configuration Schema](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md).</span></span>

### <a name="visual-studio-tooling-changes"></a><span data-ttu-id="78ac9-172">Visual Studio ツールの変更</span><span class="sxs-lookup"><span data-stu-id="78ac9-172">Visual Studio Tooling Changes</span></span>

<span data-ttu-id="78ac9-173">WIF 3.5 SDK では、スタンドアロンのフェデレーション ユーティリティである FedUtil.exe (FedUtil) が用意されており、これを使用して WIF 対応アプリケーションでの ID 管理をセキュリティ トークン サービス (STS) に外部委託できました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-173">The WIF 3.5 SDK offered a stand-alone federation utility, FedUtil.exe (FedUtil), that you could use to outsource identity management in WIF-enabled applications to a security token service (STS).</span></span> <span data-ttu-id="78ac9-174">このツールにより、WIF の設定がアプリケーション構成ファイルに追加され、アプリケーションは 1 つ以上の STS からセキュリティ トークンを取得できました。また **[STS サービス参照の追加]** ボタンによって Visual Studio に表示されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-174">This tool added WIF settings to the application configuration file to enable the application to get security tokens from one or more STSs, and was surfaced in Visual Studio through the **Add STS Service Reference** button.</span></span> <span data-ttu-id="78ac9-175">FedUtil は WIF 4.5 には付属していません。</span><span class="sxs-lookup"><span data-stu-id="78ac9-175">FedUtil does not ship with WIF 4.5.</span></span> <span data-ttu-id="78ac9-176">代わりに、WIF 4.5 は Identity and Access Tool for Visual Studio 2012 という名前の新しい Visual Studio の拡張ツールをサポートします。これを使用することで、ID 管理を STS に外部委託するために必要な WIF の設定を備えたアプリケーションの構成ファイルを変更できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-176">Instead, WIF 4.5 supports a new Visual Studio extension named the Identity and Access Tool for Visual Studio 2012 that you can use to modify your application’s configuration file with the WIF settings required to outsource identity management to an STS.</span></span> <span data-ttu-id="78ac9-177">また Identity and Access Tool は、WIF 対応アプリケーションのテストに使用できる Local STS と呼ばれる STS を実装しています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-177">The Identity and Access Tool also implements an STS called Local STS that you can use to test your WIF-enabled applications.</span></span> <span data-ttu-id="78ac9-178">多くの場合、この機能により、開発中のソリューションをテストするのに WIF 3.5 で頻繁に必要とされたカスタム STS をビルドする必要がなくなりました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-178">In many cases, this feature obviates the need to build custom STSs that were often necessary in WIF 3.5 to test solutions under development.</span></span> <span data-ttu-id="78ac9-179">したがって、STS のテンプレートは、Visual Studio 2012 でサポートされなくなりました。ただし、STS の開発をサポートするクラスは WIF 4.5 でも使用できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-179">For this reason, the STS templates are no longer supported in Visual Studio 2012; however, the classes that support the development of STSs are still available in WIF 4.5.</span></span>

<span data-ttu-id="78ac9-180">拡張機能と Visual Studio Updates Manager から Identity and Access Tool をインストールすることができます。 または Code Gallery 上の次のページからダウンロードすることができます。[Identity and Access Tool for Visual Studio 2012 コード ギャラリー](https://go.microsoft.com/fwlink/?LinkID=245849)します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-180">You can install the Identity and Access Tool from the Extensions and Updates Manager in Visual Studio or you can download it from the following page on Code Gallery: [Identity and Access Tool for Visual Studio 2012 on Code Gallery](https://go.microsoft.com/fwlink/?LinkID=245849).</span></span> <span data-ttu-id="78ac9-181">Visual Studio ツールの変更を次のリストにまとめます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-181">The Visual Studio tooling changes are summarized in the following list:</span></span>

- <span data-ttu-id="78ac9-182">[STS サービス参照の追加] 機能は削除されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-182">The Add STS Service Reference functionality is removed.</span></span> <span data-ttu-id="78ac9-183">その代わりとなるのが Identity and Access Tool です。</span><span class="sxs-lookup"><span data-stu-id="78ac9-183">The replacement is the Identity and Access Tool.</span></span>

- <span data-ttu-id="78ac9-184">Visual Studio STS のテンプレートは削除されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-184">The Visual Studio STS templates are removed.</span></span> <span data-ttu-id="78ac9-185">Identity and Access Tool で入手可能な Local STS を使用でき、WIF を使用して開発した ID ソリューションをテストできます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-185">You can use the Local STS that is available through the Identity and Access Tool to test identity solutions that you develop with WIF.</span></span> <span data-ttu-id="78ac9-186">Local STS 構成を変更して、クレームをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-186">The Local STS configuration can be modified to customize the claims that it serves.</span></span>

- <span data-ttu-id="78ac9-187">スタンドアロンのフェデレーション ユーティリティ (FedUtil) は WIF 4.5 では使用できません。</span><span class="sxs-lookup"><span data-stu-id="78ac9-187">The stand-alone Federation Utility (FedUtil) is not available in WIF 4.5.</span></span> <span data-ttu-id="78ac9-188">Identity and Access Tool を使用して、構成ファイルを変更し、ID 管理を STS に外部委託できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-188">You can use the Identity and Access Tool to modify your configuration files to outsource identity management to an STS.</span></span>

<span data-ttu-id="78ac9-189">Id およびアクセス ツールの詳細については、「[Identity and Access Tool for Visual Studio 2012](../../../docs/framework/security/identity-and-access-tool-for-vs.md)」 (Visual Studio 2012 の ID およびアクセス ツール) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-189">For more information about the Identity and Access Tool, see [Identity and Access Tool for Visual Studio 2012](../../../docs/framework/security/identity-and-access-tool-for-vs.md)</span></span>

<a name="BKMK_ToolingChanges"></a>

### <a name="passive-ws-federation-scenarios"></a><span data-ttu-id="78ac9-190">受動的な (WS-Federation) シナリオ:</span><span class="sxs-lookup"><span data-stu-id="78ac9-190">Passive (WS-Federation) Scenarios:</span></span>

- <span data-ttu-id="78ac9-191">受動的なシナリオをサポートするクラスが <xref:System.IdentityModel.Services?displayProperty=nameWithType> 名前空間に移動されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-191">Classes that support passive scenarios have been moved to the <xref:System.IdentityModel.Services?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="78ac9-192">WIF 3.5 では、これらのクラスは `Microsoft.IdentityModel.Web` 名前空間にありました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-192">In WIF 3.5 these classes were in the `Microsoft.IdentityModel.Web` namespace.</span></span>

- <span data-ttu-id="78ac9-193">`Microsoft.IdentityModel.Web.Configuration` 名前空間のクラスは <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>に移動されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-193">The classes in the `Microsoft.IdentityModel.Web.Configuration` namespace have been moved to <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>.</span></span> <span data-ttu-id="78ac9-194">これらのクラスは、受動的なシナリオの構成に固有のオブジェクトを表します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-194">These classes represent objects specific to configuration in passive scenarios.</span></span>

- <span data-ttu-id="78ac9-195">`FederatedPassiveSignInControl` はサポートされていません。`Microsoft.IdentityModel.Web.Controls` 名前空間のすべてのクラスは、WIF 4.5 から削除されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-195">The `FederatedPassiveSignInControl` is no longer supported; all classes in the `Microsoft.IdentityModel.Web.Controls` namespace have been removed from WIF 4.5.</span></span>

- <span data-ttu-id="78ac9-196">WS-Federation 認証モジュール (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) のサインアウト機能は WIF 3.5 とは異なります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-196">The WS-Federation Authentication Module (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) sign-out functionality is different than WIF 3.5.</span></span> <span data-ttu-id="78ac9-197">WIF 4.5 でのサインアウトの機能の詳細については、<xref:System.IdentityModel.Services.WSFederationAuthenticationModule> クラスのトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-197">For more details about how sign-out works in WIF 4.5, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> class topic.</span></span>

### <a name="active-wcfws-trust-scenarios"></a><span data-ttu-id="78ac9-198">アクティブな (WCF/WS-Trust) シナリオ:</span><span class="sxs-lookup"><span data-stu-id="78ac9-198">Active (WCF/WS-Trust) Scenarios:</span></span>

- <span data-ttu-id="78ac9-199">`Microsoft.IdentityModel.Protocols.WSTrust` 名前空間は、WIF 4.5 の主に 2 つの名前空間に分割されています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-199">The `Microsoft.IdentityModel.Protocols.WSTrust` namespace has been split mainly into two namespaces in WIF 4.5.</span></span> <span data-ttu-id="78ac9-200">WS-Trust プロトコル固有の成果物を表すクラスは <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType> にあります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-200">Classes that represent artifacts that are specific to the WS-Trust protocol are now in <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType>.</span></span> <span data-ttu-id="78ac9-201">これには <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken> などのクラスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-201">This includes classes like <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken>.</span></span> <span data-ttu-id="78ac9-202">WCF アプリケーションで WS-Trust を使用して、含まれているサービス コントラクト、チャネル、サービス ホスト、およびその他の成果物を表すクラスは、<xref:System.ServiceModel.Security?displayProperty=nameWithType> に移動されました (<xref:System.ServiceModel.Security.IWSTrust13AsyncContract> インターフェイスなど)。</span><span class="sxs-lookup"><span data-stu-id="78ac9-202">Classes that represent service contracts, channels, service hosts and other artifacts that are involved in using WS-Trust in WCF applications have been moved to <xref:System.ServiceModel.Security?displayProperty=nameWithType>; for example, the <xref:System.ServiceModel.Security.IWSTrust13AsyncContract> interface.</span></span>

- <span data-ttu-id="78ac9-203">WIF を使用するための WCF アプリケーションの構成は、大幅に単純化されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-203">Configuring a WCF application to use WIF has been greatly simplified.</span></span> <span data-ttu-id="78ac9-204">以前は `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` は動作拡張として追加する必要があり、`<federatedServiceHostConfiguration>` 要素を指定することで、この機能を使用して WIF をサービス動作に追加していました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-204">Previously the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` had to be added as a behavior extension and this functionality was then used to wedge WIF into the service behavior by specifying a `<federatedServiceHostConfiguration>` element.</span></span> <span data-ttu-id="78ac9-205">WIF 4.5 は WCF とより密接に統合されました。</span><span class="sxs-lookup"><span data-stu-id="78ac9-205">WIF 4.5 has been more tightly integrated with WCF.</span></span> <span data-ttu-id="78ac9-206">これで、次の XML に示すように `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` 要素で `useIdentityConfiguration` 属性を指定することで WCF サービス上で WIF を有効にできます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-206">Now you enable WIF on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>

    ```xml
    <serviceCredentials useIdentityConfiguration="true">
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />
    </serviceCredentials>
    ```

- <span data-ttu-id="78ac9-207">WIF 4.5 では、アクティブな (WCF) サービスが使用するサービス証明書はサービス ホストで指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-207">In WIF 4.5 the service certificate used by an active (WCF) service must be specified on the service host.</span></span> <span data-ttu-id="78ac9-208">構成では、前の例に示すように `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>` 要素でこれを指定できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-208">In configuration, you can do this through the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>` element as shown in the preceding example.</span></span> <span data-ttu-id="78ac9-209">WIF 3.5 では、サービス証明書は WIF の `<serviceCertificate>` 要素の `<service>` 子要素により指定できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-209">In WIF 3.5 the service certificate could be specified through the `<serviceCertificate>` child element of the WIF `<service>` element.</span></span> <span data-ttu-id="78ac9-210">この機能は WIF 4.5 にはないため、代わりに `<serviceCertificate>` 要素の `<serviceCredentials>` 要素を指定します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-210">This functionality does not exist in WIF 4.5; specify the `<serviceCertificate>` element under the `<serviceCredentials>` element instead.</span></span>

- <span data-ttu-id="78ac9-211">WCF に WIF 3.5 を追加するために使用されていたクラスは存在しません。</span><span class="sxs-lookup"><span data-stu-id="78ac9-211">The classes used to wedge WIF 3.5 into WCF no longer exist.</span></span> <span data-ttu-id="78ac9-212">これには `Microsoft.IdentityModel.Tokens` 名前空間の `FederatedSecurityTokenManager`、`FederatedServiceCredentials`、`IdentityModelServiceAuthorizationManager`、および `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` クラスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="78ac9-212">This includes the following classes in the `Microsoft.IdentityModel.Tokens` namespace: `FederatedSecurityTokenManager`, `FederatedServiceCredentials`, and `IdentityModelServiceAuthorizationManager`, as well as the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` class.</span></span>

## <a name="enabling-wif-35-in-windows-8"></a><span data-ttu-id="78ac9-213">Windows 8 で WIF 3.5 を有効にする</span><span class="sxs-lookup"><span data-stu-id="78ac9-213">Enabling WIF 3.5 in Windows 8</span></span>

<span data-ttu-id="78ac9-214">WIF 4.5 は .NET 4.5 の一部であるため、Windows 8 および Windows Server 2012 を実行するコンピューターで自動的に有効になり、WIF 4.5 を使用して作成されたアプリケーションは、既定では Windows 8 または Windows Server 2012 で実行されます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-214">Because WIF 4.5 is part of .NET 4.5, it is automatically enabled on computers running Windows 8 and Windows Server 2012 and applications that are built using WIF 4.5 will run under Windows 8 or Windows Server 2012 by default.</span></span> <span data-ttu-id="78ac9-215">ただし、WIF 3.5 を使用して作成されたアプリケーションは、Windows 8 または Windows Server 2012 を実行しているコンピューター上で実行することが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-215">However, you may need to run applications that were built using WIF 3.5 on a computer that is running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="78ac9-216">この場合、ターゲット コンピューターで WIF 3.5 を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="78ac9-216">In this case, you need to enable WIF 3.5 on the target computer.</span></span> <span data-ttu-id="78ac9-217">これは、Windows 8 を実行するコンピューター上で、展開イメージのサービスと管理 (DISM) ツールを使用して行うことができます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-217">On a computer running Windows 8, you can do this by using the Deployment Image Servicing and Management (DISM) tool.</span></span> <span data-ttu-id="78ac9-218">Windows Server 2012 を実行するコンピューターで、DISM ツールを使用するか、または Windows PowerShell の `Add-WindowsFeature` コマンドレットを使用できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-218">On a computer running Windows Server 2012, you can use the DISM tool or you can use the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="78ac9-219">どちらの場合も、適切なコマンドは、コマンド ラインまたは Windows PowerShell の環境内から呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-219">In both cases, the appropriate commands can be invoked either at the command line or from inside the Windows PowerShell environment.</span></span>

<span data-ttu-id="78ac9-220">次のコマンドは、DISM ツールをコマンド ラインまたは Windows PowerShell の環境内から使用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-220">The following commands show how to use the DISM tool from either the command line or from inside the Windows PowerShell environment.</span></span> <span data-ttu-id="78ac9-221">既定では、DISM PowerShell モジュールは Windows 8 および Windows Server 2012 に含まれるので、インポートする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="78ac9-221">By default, the DISM PowerShell module is included in Windows 8 and Windows Server 2012 and does not need to be imported.</span></span> <span data-ttu-id="78ac9-222">Windows PowerShell を使用した DISM の使い方の詳細については、「[Windows PowerShell の DISM の使用方法](https://go.microsoft.com/fwlink/?LinkId=254419)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-222">For more information about using DISM with Windows PowerShell, see [How to Use DISM in Windows PowerShell](https://go.microsoft.com/fwlink/?LinkId=254419).</span></span>

<span data-ttu-id="78ac9-223">DISM を使用して WIF 3.5 を有効にするには:</span><span class="sxs-lookup"><span data-stu-id="78ac9-223">To enable WIF 3.5 using DISM:</span></span>

```console
dism /online /enable-feature:windows-identity-foundation
```

<span data-ttu-id="78ac9-224">DISM を使用して WIF 3.5 を無効にするには:</span><span class="sxs-lookup"><span data-stu-id="78ac9-224">To disable WIF 3.5 using DISM:</span></span>

```console
dism /online /disable-feature:windows-identity-foundation
```

<span data-ttu-id="78ac9-225">DISM を使用して有効または無効にする機能を確認するには:</span><span class="sxs-lookup"><span data-stu-id="78ac9-225">To check which features are enabled or disabled using DISM:</span></span>

```console
dism /online /get-features
```

<span data-ttu-id="78ac9-226">または、Windows Server 2012 を実行するコンピューターで Windows PowerShell コマンドレット `Add-WindowsFeature` を使用して WIF 3.5 を有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-226">Alternatively, on computers running Windows Server 2012, you can enable WIF 3.5 by using the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="78ac9-227">コマンド ラインから実行するには、次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="78ac9-227">To do so from the command line, you can enter the following command:</span></span>

```console
powershell "add-windowsfeature windows-identity-foundation"
```

 <span data-ttu-id="78ac9-228">Windows PowerShell の環境内から、直接コマンドを入力できます。</span><span class="sxs-lookup"><span data-stu-id="78ac9-228">From inside the Windows PowerShell environment, you can enter the command directly:</span></span>

```powershell
Add-WindowsFeature windows-identity-foundation
```

> [!NOTE]
> <span data-ttu-id="78ac9-229">WIF 3.5 および WIF 4.5 では多くのクラスが同じ名前を持つため、WIF 3.5 と WIF 4.5 の両方を使用している場合は、完全修飾クラス名、または WIF 3.5 および WIF 4.5 でクラスを区別するための名前空間エイリアスを必ず使用してください。</span><span class="sxs-lookup"><span data-stu-id="78ac9-229">Because many of the classes in WIF 3.5 and WIF 4.5 share the same names, when you are using both WIF 3.5 and WIF 4.5 together, be sure to either use fully qualified class names or use namespace aliases to distinguish between classes in WIF 3.5 and WIF 4.5.</span></span>

## <a name="see-also"></a><span data-ttu-id="78ac9-230">関連項目</span><span class="sxs-lookup"><span data-stu-id="78ac9-230">See also</span></span>

- [<span data-ttu-id="78ac9-231">WIF 構成スキーマ</span><span class="sxs-lookup"><span data-stu-id="78ac9-231">WIF Configuration Schema</span></span>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md)
- [<span data-ttu-id="78ac9-232">WIF 3.5 と WIF 4.5 間での名前空間マッピング</span><span class="sxs-lookup"><span data-stu-id="78ac9-232">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md)
- [<span data-ttu-id="78ac9-233">Windows Identity Foundation 4.5 の新機能</span><span class="sxs-lookup"><span data-stu-id="78ac9-233">What's New in Windows Identity Foundation 4.5</span></span>](../../../docs/framework/security/whats-new-in-wif.md)
- [<span data-ttu-id="78ac9-234">Visual Studio 2012 の ID およびアクセス ツール</span><span class="sxs-lookup"><span data-stu-id="78ac9-234">Identity and Access Tool for Visual Studio 2012</span></span>](../../../docs/framework/security/identity-and-access-tool-for-vs.md)
