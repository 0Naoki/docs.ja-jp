---
title: WCF サービス ホスト (WcfSvcHost.exe)
ms.date: 03/30/2017
ms.assetid: 8643a63d-a357-4c39-bd6c-cdfdf71e370e
ms.openlocfilehash: e1e258015adc34edd4a109f3bc5a32b4bf6f0296
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2018
---
# <a name="wcf-service-host-wcfsvchostexe"></a>WCF サービス ホスト (WcfSvcHost.exe)
Windows Communication Foundation (WCF) サービス ホスト (WcfSvcHost.exe) では、Visual Studio デバッガーを自動的にホストし、実装しているサービスをテストする (F5) を起動することができます。 検出して潜在的なエラーを修正する WCF テスト クライアント (WcfTestClient.exe) または独自のクライアントを使用して、サービスをテストできます。  
  
## <a name="wcf-service-host"></a>WCF サービス ホスト  
 WCF サービス ホストは、WCF サービス プロジェクト内のサービスを列挙、プロジェクトの構成が読み込まれ、検出された各サービスのホストのインスタンスを作成します。 ツールは、WCF サービス テンプレートを使って Visual Studio に統合され、プロジェクトのデバッグを開始するときに呼び出されます。  
  
 WCF サービス ホストを使用すると、余分なコードを記述したり、開発時に特定のホストにコミットすることがなく (WCF サービス ライブラリ プロジェクト) での WCF サービスをホストすることができます。  
  
> [!NOTE]
>  WCF サービス ホストは、部分信頼をサポートしていません。 部分信頼で WCF サービスを使用する場合は、テンプレートを使用しない、WCF サービス ライブラリ プロジェクト Visual Studio で、サービスを構築します。 代わりに、WCF の部分的な信頼がサポートされている web サーバーでサービスをホストできる WCF サービスの web サイト テンプレートを選択して Visual Studio で新しい web サイトを作成します。  
  
## <a name="project-types-hosted-by-wcf-service-host"></a>WCF サービス ホストでホストされるプロジェクトの種類  
 WCF サービス ホストは、次の WCF サービス ライブラリ プロジェクトの種類をホストできます。 WCF サービス ライブラリ、シーケンシャル ワークフロー サービス ライブラリ、ステート マシン ワークフロー サービス ライブラリおよび配信サービス ライブラリです。 WCF サービス ホストは、サービス ライブラリを使用してプロジェクトに追加できるこれらのサービスもホスト、**項目の追加**機能します。 これには、WCF サービス、WF ステート マシン サービス、WF シーケンシャル サービス、XAML WF ステート マシン サービス、および XAML WF シーケンシャル サービスが含まれます。  
  
 ただし、このツールでホストを構成することはできません。 ホストを構成するには、App.config ファイルを手動で編集する必要があります。 また、このツールでユーザー定義の構成ファイルを検証することはできません。  
  
> [!CAUTION]
>  使用しないようにサービスをホストする WCF サービス ホスト、運用環境でこれがこの目的で作られていません。  WCF サービス ホストは、信頼性、セキュリティ、およびそのような環境の管理の容易性の要件をサポートしていません。 代わりに IIS を使用してください。IIS は、より高度な信頼性機能や監視機能を備えており、サービスをホストするのに適しています。 サービスの開発が完了したら、IIS に WCF サービス ホストからサービスを移行する必要があります。  
  
## <a name="scenarios-for-using-wcf-service-host-inside-visual-studio"></a>Visual Studio 内で WCF サービス ホストを使用するシナリオ  
 次の表に、すべてのパラメーターに、**コマンドライン引数**でプロジェクトを右クリックして検索できるダイアログ ボックスで**ソリューション エクスプ ローラー** を選択すると、VisualStudioで**プロパティ**を選択し、**デバッグ** タブをクリックして**スタート プロジェクト**です。 これらのパラメーターは、WCF サービス ホストの構成に役立ちます。  
  
|パラメーター|説明|  
|---------------|-------------|  
|`/client`|サービスのホストが開始された後に実行する実行可能ファイルへのパスを指定するオプション パラメーターです。 WCF テスト クライアントが起動次のホストです。|  
|`/clientArg`|カスタム クライアント アプリケーションに渡す引数として文字列を指定します。|  
|`/?`|ヘルプ テキストを表示します。|  
  
#### <a name="using-wcf-test-client"></a>WCF のテスト用クライアントの使用  
 新しい WCF サービス プロジェクトを作成し、デバッガーの起動時に f5 キーを押すと、プロジェクト内で検出されたすべてのサービスをホストしている WCF サービス ホストを開始します。 WCF テスト クライアントに自動的に開き、構成ファイルで定義されているサービス エンドポイントの一覧が表示されます。 メイン ウィンドウでパラメーターをテストしたり、サービスを呼び出したりできます。  
  
 WCF テスト クライアントが使用されることを確認するでプロジェクトを右クリックして**ソリューション エクスプ ローラー** Visual Studio で、次のように選択します。**プロパティ**クリックし、、**デバッグ**タブです。をクリックして**スタート プロジェクト**に、次が表示されていることを確認し、**コマンドライン引数** ダイアログ ボックス。  
  
 `/client:WcfTestClient.exe`  
  
#### <a name="using-a-custom-client"></a>カスタム クライアントの使用  
 プロジェクトを右クリックし、カスタムのクライアントを使用する**ソリューション エクスプ ローラー** Visual Studio で、次のように選択します。**プロパティ**クリックし、、**デバッグ**タブです。をクリックして**スタート プロジェクト**および編集、`/client`内のパラメーター、**コマンドライン引数**ダイアログ ボックスを次の例に示すように、カスタムのクライアント をポイントします。  
  
 `/client:"path/CustomClient.exe"`  
  
 サービスを再度開始する場合は F5 キーを押したときにデバッガーを起動するときに、WCF サービス ホストがそのカスタム クライアントを自動的に開始します。  
  
 `/clientArg:` パラメーターを使用して、カスタム クライアント アプリケーションに渡す引数として文字列を指定することもできます。以下に例を示します。  
  
 `/client:"path/CustomClient.exe" /clientArg:"arguments that are passed to Client"`  
  
 たとえば、配信サービス ライブラリ テンプレートを使用している場合は、次のコマンド ライン引数を使用できます。  
  
 `/client:iexplore.exe /clientArgs:http://localhost:8731/Design_Time_Addresses/Feed1/`  
  
#### <a name="specifying-no-client"></a>クライアントを指定しない場合  
 WCF サービスをホストしている後にクライアントが使用されていないことを指定するでプロジェクトを右クリックし**ソリューション エクスプ ローラー** Visual Studio で、次のように選択します**プロパティ**クリックし、、 **のデバッグ。** タブです。をクリックして**スタート プロジェクト**のままにし、**コマンドライン引数**ダイアログ ボックスを空白。  
  
#### <a name="using-a-custom-host"></a>カスタム ホストの使用  
 カスタム ホストを使用するのでプロジェクトを右クリックし**ソリューション エクスプ ローラー** Visual Studio で、次のように選択します。**プロパティ**クリックし、、**デバッグ**タブです。をクリックして**外部プログラムの開始**し、カスタム ホストを完全なパスを入力します。 使用することも、**コマンドライン引数**ダイアログ ボックスをホストに渡される引数を指定します。  
  
## <a name="wcf-service-host-user-interface"></a>WCF サービス ホストのユーザー インターフェイス  
 最初に呼び出すと WCF サービス ホスト (f5 キーを押して Visual Studio 内) を**WCF サービス ホスト**ウィンドウが自動的に開きます。 WCF サービス ホストが実行されている場合は、通知領域に、プログラムのアイコンが表示されます。 アイコンをダブルクリックして開き、 **WCF サービス ホスト**ウィンドウ  
  
 サービスをホストしている中にエラーが発生すると、関連する情報を表示する WCF サービス ホスト ダイアログ ボックスが開きます。  
  
 **WCF サービス ホスト**メイン ウィンドウには、2 つのメニューが含まれています。  
  
-   **ファイル**: を含む、**閉じる**と**終了**コマンド。 クリックすると、**閉じる**、 **WCF サービス ホスト** ダイアログ ボックスは閉じますが、サービスは引き続きホストします。 クリックすると、**終了**、WCF サービス ホストもシャット ダウンします。 ホストされているサービスもすべて停止します。  
  
-   **ヘルプ**: を含む、**に関する**バージョン情報が含まれるコマンド。 含まれています、**ヘルプ**ヘルプ ファイルを開くことができるコマンド。  
  
 メイン**WCF サービス ホスト**ウィンドウには、2 つの領域が含まれています。  
  
-   最初の領域が**サービス**です。 この領域には、すべてのサービスの基本情報が一覧表示されます。 具体的には、次の情報が含まれています。  
  
    -   **サービス**: すべてのサービスを一覧表示します。  
  
    -   **ステータス**: サービスの状態を一覧表示します。 有効な値は「開始」、"Stopped"、および"Error"です。  
  
    -   **メタデータ アドレス**: サービスのメタデータ アドレスを表示します。  
  
-   2 つ目の領域が**詳細**です。 特定のサービス行を選択すると、サービスの状態の詳細についてが表示されます、**サービス**領域。 状態が "エラー" の場合は、完全なエラー メッセージを画面上で確認できます。  
  
## <a name="stopping-wcf-service-host"></a>WCF サービス ホストの停止  
 次の 4 つの方法で WCF サービス ホストをシャット ダウンできます。  
  
-   Visual Studio でのデバッグ セッションを停止します。  
  
-   選択**終了**から、**ファイル**でメニュー、 **WCF サービス ホスト**ウィンドウです。  
  
-   選択**終了**システム通知領域に WCF サービス ホストのトレイ アイコンのコンテキスト メニューからです。  
  
-   使用されている場合は、WCF テスト クライアントを終了します。  
  
## <a name="using-service-host-without-administrator-privilege"></a>管理特権を必要としないサービス ホストの使用  
 名前空間の ACL (アクセス制御リスト) を作成する WCF サービスの開発を管理者特権のないユーザーを有効にするには、"http://+:8731/Design_Time_Addresses"Visual Studio のインストール中にします。 この ACL は (UI) に設定され、コンピューターにログオンしているすべての対話ユーザーが含まれます。 管理者は、追加またはこの ACL からユーザーを削除または追加のポートを開くことができます。この ACL では、管理者特権を与えずに WCF サービスの自動ホスト (wcfSvcHost.exe) を使用することができます。  
  
 システム特権のある管理者アカウントで [!INCLUDE[wv](../../../includes/wv-md.md)] の netsh.exe ツールを使用すると、アクセスを変更できます。 netsh.exe の使用例を次に示します。  
  
```  
netsh http add urlacl url=http://+:8001/MyService user=<domain>\<user>  
```  
  
 Netsh.exe の詳細については、次を参照してください。"[Netsh.exe ツールとコマンド ライン スイッチを使用する方法](http://go.microsoft.com/fwlink/?LinkId=97877)"です。  
  
## <a name="see-also"></a>関連項目  
 [WCF のテスト用クライアント (WcfTestClient.exe)](../../../docs/framework/wcf/wcf-test-client-wcftestclient-exe.md)
