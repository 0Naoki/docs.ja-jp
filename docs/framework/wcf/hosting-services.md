---
title: "ホスティング サービス"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- hosting services [WCF]
ms.assetid: 192be927-6be2-4fda-98f0-e513c4881acc
caps.latest.revision: 
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: b23dac1db5252d3ce2bd60e4f8525dd89d9127b0
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/22/2017
---
# <a name="hosting-services"></a><span data-ttu-id="7e691-102">ホスティング サービス</span><span class="sxs-lookup"><span data-stu-id="7e691-102">Hosting Services</span></span>
<span data-ttu-id="7e691-103">アクティブにするには、サービスを作成してそのコンテキストと有効期間を制御するランタイム環境内で、サービスをホストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7e691-103">To become active, a service must be hosted within a run-time environment that creates it and controls its context and lifetime.</span></span> [!INCLUDE[indigo1](../../../includes/indigo1-md.md)]<span data-ttu-id="7e691-104"> サービスは、マネージ コードをサポートする任意の Windows プロセスで実行されるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="7e691-104"> services are designed to run in any Windows process that supports managed code.</span></span>  
  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]<span data-ttu-id="7e691-105"> は、サービス指向アプリケーションを構築するための統一されたプログラミング モデルを提供します。</span><span class="sxs-lookup"><span data-stu-id="7e691-105"> provides a unified programming model for building service-oriented applications.</span></span> <span data-ttu-id="7e691-106">このプログラミング モデルには一貫性があり、サービスが展開されるランタイム環境に影響されません。</span><span class="sxs-lookup"><span data-stu-id="7e691-106">This programming model remains consistent and is independent of the run-time environment in which the service is deployed.</span></span> <span data-ttu-id="7e691-107">これは実際には、ホスト オプションにかかわらず、サービスのコードがほぼ同じになることを意味しています。</span><span class="sxs-lookup"><span data-stu-id="7e691-107">In practice, this means that the code for your services looks much the same whatever the hosting option.</span></span>  
  
 <span data-ttu-id="7e691-108">これらのホスト オプションの範囲は、コンソール アプリケーション内部での実行から、Windows サービスのようなサーバー環境、インターネット インフォメーション サービス (IIS) または Windows プロセス アクティブ化サービス (WAS) で管理されるワーカー プロセス内での実行までさまざまです。</span><span class="sxs-lookup"><span data-stu-id="7e691-108">These hosting options range from running inside a console application to server environments such as a Windows service running within a worker process managed by Internet Information Services (IIS) or by Windows Process Activation Service (WAS).</span></span> <span data-ttu-id="7e691-109">開発者は、サービスの展開要件を満たすホスト環境を選択します。</span><span class="sxs-lookup"><span data-stu-id="7e691-109">Developers choose the hosting environment that satisfies the service's deployment requirements.</span></span> <span data-ttu-id="7e691-110">このような要件は、アプリケーションを展開するプラットフォーム、メッセージの送受信を行うトランスポート、適切な可用性を保証するために必要なプロセスのリサイクルや管理、その他、管理上または信頼性上の要件から導き出されます。</span><span class="sxs-lookup"><span data-stu-id="7e691-110">These requirements might derive from the platform on which the application is deployed, the transport on which it must send and receive messages, or on the type of process recycling and other process management required to ensure adequate availability, or on some other management or reliability requirements.</span></span> <span data-ttu-id="7e691-111">ホスト オプションの情報とガイドラインについて、次のセクションで説明します。</span><span class="sxs-lookup"><span data-stu-id="7e691-111">The next section provides information and guidance on hosting options.</span></span>  
  
## <a name="hosting-options"></a><span data-ttu-id="7e691-112">ホスト オプション</span><span class="sxs-lookup"><span data-stu-id="7e691-112">Hosting Options</span></span>  
  
#### <a name="self-hosting-in-a-managed-application"></a><span data-ttu-id="7e691-113">マネージ アプリケーションにおける自己ホスト</span><span class="sxs-lookup"><span data-stu-id="7e691-113">Self-Hosting in a Managed Application</span></span>  
 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]<span data-ttu-id="7e691-114"> サービスはすべてのマネージ アプリケーションでホストされます。</span><span class="sxs-lookup"><span data-stu-id="7e691-114"> services can be hosted in any managed application.</span></span> <span data-ttu-id="7e691-115">これは、展開に必要なインフラストラクチャが最小限になるため、最も柔軟なオプションです。</span><span class="sxs-lookup"><span data-stu-id="7e691-115">This is the most flexible option because it requires the least infrastructure to deploy.</span></span> <span data-ttu-id="7e691-116">マネージ アプリケーション コード内にサービスのコードを埋め込み、続いて <xref:System.ServiceModel.ServiceHost> のインスタンスを作成して開き、サービスを有効にします。</span><span class="sxs-lookup"><span data-stu-id="7e691-116">You embed the code for the service inside the managed application code and then create and open an instance of the <xref:System.ServiceModel.ServiceHost> to make the service available.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="7e691-117">[する方法: マネージ アプリケーションで WCF サービスをホスト](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md)です。</span><span class="sxs-lookup"><span data-stu-id="7e691-117"> [How to: Host a WCF Service in a Managed Application](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md).</span></span>  
  
 <span data-ttu-id="7e691-118">このオプションで可能になる一般的なシナリオには、コンソール アプリケーション内部で実行される [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスと、 [!INCLUDE[avalon1](../../../includes/avalon1-md.md)] または Windows フォーム (WinForms) に基づくリッチ クライアント アプリケーションの 2 つがあります。</span><span class="sxs-lookup"><span data-stu-id="7e691-118">This option enables two common scenarios: [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services running inside console applications and rich client applications such as those based on [!INCLUDE[avalon1](../../../includes/avalon1-md.md)] or Windows Forms (WinForms).</span></span> <span data-ttu-id="7e691-119">コンソール アプリケーション内部の [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスをホストすることは、一般的にアプリケーションの開発フェーズで有用です。</span><span class="sxs-lookup"><span data-stu-id="7e691-119">Hosting a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service inside a console application is typically useful during the application's development phase.</span></span> <span data-ttu-id="7e691-120">コンソール アプリケーションにより、アプリケーション内部で起こっている状況を見極めるための情報のデバッグやトレースが容易になり、新しい場所にアプリケーションをコピーして移動することも簡単に行うことができます。</span><span class="sxs-lookup"><span data-stu-id="7e691-120">This makes them easy to debug, easy to get trace information from to find out what is happening inside of the application, and easy to move around by copying them to new locations.</span></span> <span data-ttu-id="7e691-121">このホスト オプションを使用すると、 [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] や WinForms アプリケーションなど、外部と通信を行うリッチ クライアント アプリケーションの作成も容易になります。</span><span class="sxs-lookup"><span data-stu-id="7e691-121">This hosting option also makes it easy for rich client applications, such as [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] and WinForms applications, to communicate with the outside world.</span></span> <span data-ttu-id="7e691-122">たとえば、ユーザー インターフェイスに [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] を使用しながら、他のクライアントからの接続を許容して情報を共有するために [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスをホストするピア ツー ピア コラボレーションのクライアントなどです。</span><span class="sxs-lookup"><span data-stu-id="7e691-122">For example, a peer-to-peer collaboration client that uses [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] for its user interface and also hosts a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service that allows other clients to connect to it and share information.</span></span>  
  
#### <a name="managed-windows-services"></a><span data-ttu-id="7e691-123">マネージ Windows サービス</span><span class="sxs-lookup"><span data-stu-id="7e691-123">Managed Windows Services</span></span>  
 <span data-ttu-id="7e691-124">このホスト オプションは、 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスをマネージ Windows サービス (従来 NT サービスと呼ばれていたもの) としてホストするアプリケーション ドメイン (AppDomain) の登録から構成されているため、サービスのプロセス有効期間は Windows サービスのサービス コントロール マネージャー (SCM) によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="7e691-124">This hosting option consists of registering the application domain (AppDomain) that hosts an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service as a managed Windows Service (formerly known as NT service) so that the process lifetime of the service is controlled by the service control manager (SCM) for Windows services.</span></span> <span data-ttu-id="7e691-125">自己ホスト オプションと同様、この種類のホスト環境では、ホスト コードをアプリケーションの一部として記述する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7e691-125">Like the self-hosting option, this type of hosting environment requires that some hosting code is written as part of the application.</span></span> <span data-ttu-id="7e691-126">サービスは、Windows サービスと [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスの両方として実装します。そのためには、 <xref:System.ServiceProcess.ServiceBase> クラスから継承すると同時に、 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービス コントラクト インターフェイスからも継承します。</span><span class="sxs-lookup"><span data-stu-id="7e691-126">The service is implemented as both a Windows Service and as an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service by causing it to inherit from the <xref:System.ServiceProcess.ServiceBase> class as well as from an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service contract interface.</span></span> <span data-ttu-id="7e691-127">次に <xref:System.ServiceModel.ServiceHost> を作成し、オーバーライドされた <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> メソッドで開き、オーバーライドされた <xref:System.ServiceProcess.ServiceBase.OnStop> メソッドで閉じます。</span><span class="sxs-lookup"><span data-stu-id="7e691-127">The <xref:System.ServiceModel.ServiceHost> is then created and opened within an overridden <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> method and closed within an overridden <xref:System.ServiceProcess.ServiceBase.OnStop> method.</span></span> <span data-ttu-id="7e691-128">また、 <xref:System.Configuration.Install.Installer> から継承されるインストーラー クラスも実装し、プログラムが Installutil.exe ツールによって Windows サービスとしてインストールされるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7e691-128">An installer class that inherits from <xref:System.Configuration.Install.Installer> must also be implemented to allow the program to be installed as a Windows Service by the Installutil.exe tool.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="7e691-129">[する方法: マネージ Windows サービスで WCF サービスをホスト](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md)です。</span><span class="sxs-lookup"><span data-stu-id="7e691-129"> [How to: Host a WCF Service in a Managed Windows Service](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md).</span></span> <span data-ttu-id="7e691-130">マネージ Windows サービスのホスト オプションによって有効になるシナリオは、メッセージがアクティブ化されていない、セキュリティ保護された環境において、IIS の外部でホストされ、長時間実行される [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスです。</span><span class="sxs-lookup"><span data-stu-id="7e691-130">The scenario enabled by the managed Windows Service hosting option is that of a long-running [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service hosted outside of IIS in a secure environment that is not message-activated.</span></span> <span data-ttu-id="7e691-131">サービスの有効期限は代わりにオペレーティング システムによって制御されます。</span><span class="sxs-lookup"><span data-stu-id="7e691-131">The lifetime of the service is controlled instead by the operating system.</span></span> <span data-ttu-id="7e691-132">このホスト オプションは Windows のすべてのバージョンで使用できます。</span><span class="sxs-lookup"><span data-stu-id="7e691-132">This hosting option is available in all versions of Windows.</span></span>  
  
#### <a name="internet-information-services-iis"></a><span data-ttu-id="7e691-133">インターネット インフォメーション サービス (IIS)</span><span class="sxs-lookup"><span data-stu-id="7e691-133">Internet Information Services (IIS)</span></span>  
 <span data-ttu-id="7e691-134">IIS ホスト オプションは [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] と統合され、プロセスのリサイクル、アイドル シャットダウン、処理状況の監視、メッセージに基づくアクティベーションなど、このテクノロジによって提供される機能を使用します。</span><span class="sxs-lookup"><span data-stu-id="7e691-134">The IIS hosting option is integrated with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] and uses the features these technologies offer, such as process recycling, idle shutdown, process health monitoring, and message-based activation.</span></span> <span data-ttu-id="7e691-135">[!INCLUDE[wxp](../../../includes/wxp-md.md)] および [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] オペレーティング システムでは、高可用性と高スケーラビリティが求められる Web サービス アプリケーションのホストには、このオプションが適切なソリューションとなります。</span><span class="sxs-lookup"><span data-stu-id="7e691-135">On the [!INCLUDE[wxp](../../../includes/wxp-md.md)] and [!INCLUDE[ws2003](../../../includes/ws2003-md.md)] operating systems, this is the preferred solution for hosting Web service applications that must be highly available and highly scalable.</span></span> <span data-ttu-id="7e691-136">IIS では、顧客がエンタープライズ クラスのサーバー製品に求める統合された管理性も提供されます。</span><span class="sxs-lookup"><span data-stu-id="7e691-136">IIS also offers the integrated manageability that customers expect from an enterprise-class server product.</span></span> <span data-ttu-id="7e691-137">このホスト オプションでは、IIS が正しく構成されている必要がありますが、アプリケーションの一部としてホスト コードを書く必要はありません。</span><span class="sxs-lookup"><span data-stu-id="7e691-137">This hosting option requires that IIS be properly configured, but it does not require that any hosting code be written as part of the application.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="7e691-138"> サービス用に IIS ホストを構成する方法の [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] については、「 [How to: Host a WCF Service in IIS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md)。</span><span class="sxs-lookup"><span data-stu-id="7e691-138"> how to configure IIS hosting for a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service, see [How to: Host a WCF Service in IIS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md).</span></span>  
  
 <span data-ttu-id="7e691-139">IIS でホストされるサービスは HTTP トランスポートしか使用できません。</span><span class="sxs-lookup"><span data-stu-id="7e691-139">Note that IIS-hosted services can only use the HTTP transport.</span></span> <span data-ttu-id="7e691-140">IIS 5.1 の実装では、 [!INCLUDE[wxp](../../../includes/wxp-md.md)]にいくつかの制限がありました。</span><span class="sxs-lookup"><span data-stu-id="7e691-140">Its implementation in IIS 5.1 has introduced some limitations in [!INCLUDE[wxp](../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="7e691-141">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 上で IIS 5.1 によって提供される、 [!INCLUDE[wxp](../../../includes/wxp-md.md)] サービス用のメッセージ ベースのアクティベーションでは、同じコンピューター上にあるそれ以外の自己ホスト型 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスによる、ポート 80 を使用した通信が妨げられます。</span><span class="sxs-lookup"><span data-stu-id="7e691-141">The message-based activation provided for an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service by IIS 5.1 on [!INCLUDE[wxp](../../../includes/wxp-md.md)] blocks any other self-hosted [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service on the same computer from using port 80 to communicate.</span></span> [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]<span data-ttu-id="7e691-142"> 上で [!INCLUDE[iis601](../../../includes/iis601-md.md)] によってホストした場合は、 [!INCLUDE[ws2003](../../../includes/ws2003-md.md)]サービスは他のアプリケーションと同じ AppDomain/アプリケーション プール/ワーカー プロセスで実行できます。</span><span class="sxs-lookup"><span data-stu-id="7e691-142"> services can run in the same AppDomain/Application Pool/Worker Process as other applications when hosted by [!INCLUDE[iis601](../../../includes/iis601-md.md)] on [!INCLUDE[ws2003](../../../includes/ws2003-md.md)].</span></span> <span data-ttu-id="7e691-143">ただし、 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] と [!INCLUDE[iis601](../../../includes/iis601-md.md)] のどちらもカーネル モードの HTTP スタック (HTTP.sys) を使用するため、IIS 5.1 とは異なり、 [!INCLUDE[iis601](../../../includes/iis601-md.md)] ではポート 80 を同じコンピューター上で実行される他の自己ホスト型 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] サービスと共有できます。</span><span class="sxs-lookup"><span data-stu-id="7e691-143">But because [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and [!INCLUDE[iis601](../../../includes/iis601-md.md)] both use the kernel-mode HTTP stack (HTTP.sys), [!INCLUDE[iis601](../../../includes/iis601-md.md)] can share port 80 with other self-hosted [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services running on the same machine, unlike IIS 5.1.</span></span>  
  
#### <a name="windows-process-activation-service-was"></a><span data-ttu-id="7e691-144">Windows プロセス アクティブ化サービス (WAS)</span><span class="sxs-lookup"><span data-stu-id="7e691-144">Windows Process Activation Service (WAS)</span></span>  
 <span data-ttu-id="7e691-145">Windows プロセス アクティブ化サービス (WAS) とは、 [!INCLUDE[lserver](../../../includes/lserver-md.md)] でも使用できる [!INCLUDE[wv](../../../includes/wv-md.md)]用の新しいプロセス アクティブ化機構です。</span><span class="sxs-lookup"><span data-stu-id="7e691-145">Windows Process Activation Service (WAS) is the new process activation mechanism for the [!INCLUDE[lserver](../../../includes/lserver-md.md)] that is also available on [!INCLUDE[wv](../../../includes/wv-md.md)].</span></span> <span data-ttu-id="7e691-146">よく知られている [!INCLUDE[iis601](../../../includes/iis601-md.md)] のプロセス モデル (アプリケーション プールとメッセージ ベースのプロセス アクティベーション) とホスト機能 (迅速な障害保護、状態の監視、プロセスのリサイクルなど) はそのままですが、HTTP に対する依存性がアクティベーション アーキテクチャから解消されています。</span><span class="sxs-lookup"><span data-stu-id="7e691-146">It retains the familiar [!INCLUDE[iis601](../../../includes/iis601-md.md)] process model (application pools and message-based process activation) and hosting features (such as rapid failure protection, health monitoring, and recycling), but it removes the dependency on HTTP from the activation architecture.</span></span> [!INCLUDE[iisver](../../../includes/iisver-md.md)]<span data-ttu-id="7e691-147"> では、WAS を使用して HTTP 経由でのメッセージ ベースのアクティベーションを実現しています。</span><span class="sxs-lookup"><span data-stu-id="7e691-147"> uses WAS to accomplish message-based activation over HTTP.</span></span> <span data-ttu-id="7e691-148">ただし、 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] がサポートする他のプロトコル (TCP、MSMQ、名前付きパイプなど) を介してメッセージ ベースのアクティベーションを実現するために、WAS には追加の [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] コンポーネントもプラグインされています。</span><span class="sxs-lookup"><span data-stu-id="7e691-148">Additional [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] components also plug into WAS to provide message-based activation over the other protocols that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] supports, such as TCP, MSMQ, and named pipes.</span></span> <span data-ttu-id="7e691-149">これにより、IIS のプロセスのリサイクル、迅速な障害保護、一般的な構成システムなど、これまで HTTP ベースのアプリケーションのみで利用可能だった IIS 機能を、通信プロトコルを使用するアプリケーションでも使用できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="7e691-149">This allows applications that use communication protocols to use the IIS features such as process recycling, rapid fail protection, and the common configuration system that were only available to HTTP-based applications.</span></span>  
  
 <span data-ttu-id="7e691-150">このホスト オプションでは、WAS が正しく構成されている必要がありますが、アプリケーションの一部としてホスト コードを書く必要はありません。</span><span class="sxs-lookup"><span data-stu-id="7e691-150">This hosting option requires that WAS be properly configured, but it does not require you to write any hosting code as part of the application.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="7e691-151"> については、「 [How to: Host a WCF Service in WAS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)。</span><span class="sxs-lookup"><span data-stu-id="7e691-151"> how to configure WAS hosting, see [How to: Host a WCF Service in WAS](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md).</span></span>  
  
## <a name="choosing-a-hosting-environment"></a><span data-ttu-id="7e691-152">ホスト環境の選択</span><span class="sxs-lookup"><span data-stu-id="7e691-152">Choosing a Hosting Environment</span></span>  
 <span data-ttu-id="7e691-153">次の表に、各ホスト オプションに関連する主な利点とシナリオの要点をまとめます。</span><span class="sxs-lookup"><span data-stu-id="7e691-153">The following table summarizes some of the key benefits and scenarios associated with each of the hosting options.</span></span>  
  
|<span data-ttu-id="7e691-154">ホスト環境</span><span class="sxs-lookup"><span data-stu-id="7e691-154">Hosting Environment</span></span>|<span data-ttu-id="7e691-155">一般的なシナリオ</span><span class="sxs-lookup"><span data-stu-id="7e691-155">Common Scenarios</span></span>|<span data-ttu-id="7e691-156">主な利点と制限</span><span class="sxs-lookup"><span data-stu-id="7e691-156">Key Benefits and Limitations</span></span>|  
|-------------------------|----------------------|----------------------------------|  
|<span data-ttu-id="7e691-157">マネージ アプリケーション ("自己ホスト")</span><span class="sxs-lookup"><span data-stu-id="7e691-157">Managed Application ("Self-Hosted")</span></span>|<span data-ttu-id="7e691-158">コンソール アプリケーションの開発時に使用します。</span><span class="sxs-lookup"><span data-stu-id="7e691-158">-   Console applications used during development.</span></span><br /><span data-ttu-id="7e691-159">-リッチな WinForm と[!INCLUDE[avalon2](../../../includes/avalon2-md.md)]サービスにアクセスするクライアント アプリケーション。</span><span class="sxs-lookup"><span data-stu-id="7e691-159">-   Rich WinForm and [!INCLUDE[avalon2](../../../includes/avalon2-md.md)] client applications accessing services.</span></span>|<span data-ttu-id="7e691-160">柔軟なです。</span><span class="sxs-lookup"><span data-stu-id="7e691-160">-   Flexible.</span></span><br /><span data-ttu-id="7e691-161">展開が容易です。</span><span class="sxs-lookup"><span data-stu-id="7e691-161">-   Easy to deploy.</span></span><br /><span data-ttu-id="7e691-162">-サービスのエンタープライズ ソリューションです。</span><span class="sxs-lookup"><span data-stu-id="7e691-162">-   Not an enterprise solution for services.</span></span>|  
|<span data-ttu-id="7e691-163">Windows サービス (従来 NT サービスと呼ばれていたもの)</span><span class="sxs-lookup"><span data-stu-id="7e691-163">Windows Services (formerly known as NT services)</span></span>|<span data-ttu-id="7e691-164">は、実行時間の長い[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]IIS の外部でホストされるサービスです。</span><span class="sxs-lookup"><span data-stu-id="7e691-164">-   A long-running [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service hosted outside of IIS.</span></span>|<span data-ttu-id="7e691-165">サービス プロセスの有効期間がないメッセージでアクティブ化される、オペレーティング システムによって制御されます。</span><span class="sxs-lookup"><span data-stu-id="7e691-165">-   Service process lifetime controlled by the operating system, not message-activated.</span></span><br /><span data-ttu-id="7e691-166">-すべてのバージョンの Windows でサポートされています。</span><span class="sxs-lookup"><span data-stu-id="7e691-166">-   Supported by all versions of Windows.</span></span><br /><span data-ttu-id="7e691-167">環境をセキュリティで保護します。</span><span class="sxs-lookup"><span data-stu-id="7e691-167">-   Secure environment.</span></span>|  
|<span data-ttu-id="7e691-168">IIS 5.1、 [!INCLUDE[iis601](../../../includes/iis601-md.md)]</span><span class="sxs-lookup"><span data-stu-id="7e691-168">IIS 5.1, [!INCLUDE[iis601](../../../includes/iis601-md.md)]</span></span>|<span data-ttu-id="7e691-169">-実行中、[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]サービス サイド バイ サイドで[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]HTTP プロトコルを使用してインターネット上のコンテンツ。</span><span class="sxs-lookup"><span data-stu-id="7e691-169">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service side-by-side with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] content on the Internet using the HTTP protocol.</span></span>|<span data-ttu-id="7e691-170">プロセスをリサイクルします。</span><span class="sxs-lookup"><span data-stu-id="7e691-170">-   Process recycling.</span></span><br /><span data-ttu-id="7e691-171">-アイドル シャット ダウンします。</span><span class="sxs-lookup"><span data-stu-id="7e691-171">-   Idle shutdown.</span></span><br /><span data-ttu-id="7e691-172">-正常性の監視を処理します。</span><span class="sxs-lookup"><span data-stu-id="7e691-172">-   Process health monitoring.</span></span><br /><span data-ttu-id="7e691-173">-メッセージ ベースのアクティブ化します。</span><span class="sxs-lookup"><span data-stu-id="7e691-173">-   Message-based activation.</span></span><br /><span data-ttu-id="7e691-174">HTTP のみ。</span><span class="sxs-lookup"><span data-stu-id="7e691-174">-   HTTP only.</span></span>|  
|<span data-ttu-id="7e691-175">Windows プロセス アクティブ化サービス (WAS)</span><span class="sxs-lookup"><span data-stu-id="7e691-175">Windows Process Activation Service (WAS)</span></span>|<span data-ttu-id="7e691-176">-実行中、[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]さまざまなトランスポート プロトコルを使用してインターネットに IIS をインストールしなくてもサービス。</span><span class="sxs-lookup"><span data-stu-id="7e691-176">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service without installing IIS on the Internet using various transport protocols.</span></span>|<span data-ttu-id="7e691-177">IIS は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="7e691-177">-   IIS is not required.</span></span><br /><span data-ttu-id="7e691-178">プロセスをリサイクルします。</span><span class="sxs-lookup"><span data-stu-id="7e691-178">-   Process recycling.</span></span><br /><span data-ttu-id="7e691-179">-アイドル シャット ダウンします。</span><span class="sxs-lookup"><span data-stu-id="7e691-179">-   Idle shutdown.</span></span><br /><span data-ttu-id="7e691-180">-正常性の監視を処理します。</span><span class="sxs-lookup"><span data-stu-id="7e691-180">-   Process health monitoring.</span></span><br /><span data-ttu-id="7e691-181">-メッセージ ベースのアクティブ化します。</span><span class="sxs-lookup"><span data-stu-id="7e691-181">-   Message-based activation.</span></span><br /><span data-ttu-id="7e691-182">-HTTP、TCP、名前付きパイプ、および MSMQ で動作します。</span><span class="sxs-lookup"><span data-stu-id="7e691-182">-   Works with HTTP, TCP, named pipes, and MSMQ.</span></span>|  
|<span data-ttu-id="7e691-183">IIS 7.0</span><span class="sxs-lookup"><span data-stu-id="7e691-183">IIS 7.0</span></span>|<span data-ttu-id="7e691-184">-実行中、[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]サービス[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]コンテンツ。</span><span class="sxs-lookup"><span data-stu-id="7e691-184">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] content.</span></span><br /><span data-ttu-id="7e691-185">-実行中、[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]さまざまなトランスポート プロトコルを使用して、インターネット上のサービスです。</span><span class="sxs-lookup"><span data-stu-id="7e691-185">-   Running a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service on the Internet using various transport protocols.</span></span>|<span data-ttu-id="7e691-186">-がの利点があります。</span><span class="sxs-lookup"><span data-stu-id="7e691-186">-   WAS benefits.</span></span><br /><span data-ttu-id="7e691-187">-統合された[!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)]および IIS コンテンツ。</span><span class="sxs-lookup"><span data-stu-id="7e691-187">-   Integrated with [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] and IIS content.</span></span>|  
  
 <span data-ttu-id="7e691-188">ホスト環境の選択は、その展開先の Windows のバージョン、メッセージの送信に必要なトランスポート、および必要となるプロセスとアプリケーション ドメインのリサイクルの種類に依存します。</span><span class="sxs-lookup"><span data-stu-id="7e691-188">The choice of a hosting environment depends on the version of Windows on which it is deployed, the transports it requires to send messages and the type of process and application domain recycling it requires.</span></span> <span data-ttu-id="7e691-189">次の表に、これらの要件に関連するデータをまとめます。</span><span class="sxs-lookup"><span data-stu-id="7e691-189">The following table summarizes the data related to these requirements.</span></span>  
  
|<span data-ttu-id="7e691-190">ホスト環境</span><span class="sxs-lookup"><span data-stu-id="7e691-190">Hosting Environment</span></span>|<span data-ttu-id="7e691-191">プラットフォームの可用性</span><span class="sxs-lookup"><span data-stu-id="7e691-191">Platform Availability</span></span>|<span data-ttu-id="7e691-192">サポートされるトランスポート</span><span class="sxs-lookup"><span data-stu-id="7e691-192">Transports Supported</span></span>|<span data-ttu-id="7e691-193">プロセスと AppDomain のリサイクル</span><span class="sxs-lookup"><span data-stu-id="7e691-193">Process and AppDomain Recycling</span></span>|  
|-------------------------|---------------------------|--------------------------|-------------------------------------|  
|<span data-ttu-id="7e691-194">マネージ アプリケーション ("自己ホスト")</span><span class="sxs-lookup"><span data-stu-id="7e691-194">Managed Applications ("Self-Hosted")</span></span>|[!INCLUDE[wxp](../../../includes/wxp-md.md)]<span data-ttu-id="7e691-195">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span><span class="sxs-lookup"><span data-stu-id="7e691-195">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span></span><br /><br /> [!INCLUDE[lserver](../../../includes/lserver-md.md)]|<span data-ttu-id="7e691-196">HTTP、</span><span class="sxs-lookup"><span data-stu-id="7e691-196">HTTP,</span></span><br /><br /> <span data-ttu-id="7e691-197">net.tcp、</span><span class="sxs-lookup"><span data-stu-id="7e691-197">net.tcp,</span></span><br /><br /> <span data-ttu-id="7e691-198">net.pipe、</span><span class="sxs-lookup"><span data-stu-id="7e691-198">net.pipe,</span></span><br /><br /> <span data-ttu-id="7e691-199">net.msmq</span><span class="sxs-lookup"><span data-stu-id="7e691-199">net.msmq</span></span>|<span data-ttu-id="7e691-200">×</span><span class="sxs-lookup"><span data-stu-id="7e691-200">No</span></span>|  
|<span data-ttu-id="7e691-201">Windows サービス (従来 NT サービスと呼ばれていたもの)</span><span class="sxs-lookup"><span data-stu-id="7e691-201">Windows Services (formerly known as NT services)</span></span>|[!INCLUDE[wxp](../../../includes/wxp-md.md)]<span data-ttu-id="7e691-202">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span><span class="sxs-lookup"><span data-stu-id="7e691-202">, [!INCLUDE[ws2003](../../../includes/ws2003-md.md)], [!INCLUDE[wv](../../../includes/wv-md.md)],</span></span><br /><br /> [!INCLUDE[lserver](../../../includes/lserver-md.md)]|<span data-ttu-id="7e691-203">HTTP、</span><span class="sxs-lookup"><span data-stu-id="7e691-203">HTTP,</span></span><br /><br /> <span data-ttu-id="7e691-204">net.tcp、</span><span class="sxs-lookup"><span data-stu-id="7e691-204">net.tcp,</span></span><br /><br /> <span data-ttu-id="7e691-205">net.pipe、</span><span class="sxs-lookup"><span data-stu-id="7e691-205">net.pipe,</span></span><br /><br /> <span data-ttu-id="7e691-206">net.msmq</span><span class="sxs-lookup"><span data-stu-id="7e691-206">net.msmq</span></span>|<span data-ttu-id="7e691-207">×</span><span class="sxs-lookup"><span data-stu-id="7e691-207">No</span></span>|  
|<span data-ttu-id="7e691-208">IIS 5.1</span><span class="sxs-lookup"><span data-stu-id="7e691-208">IIS 5.1</span></span>|[!INCLUDE[wxp](../../../includes/wxp-md.md)]|<span data-ttu-id="7e691-209">HTTP</span><span class="sxs-lookup"><span data-stu-id="7e691-209">HTTP</span></span>|<span data-ttu-id="7e691-210">[はい]</span><span class="sxs-lookup"><span data-stu-id="7e691-210">Yes</span></span>|  
|[!INCLUDE[iis601](../../../includes/iis601-md.md)]|[!INCLUDE[ws2003](../../../includes/ws2003-md.md)]|<span data-ttu-id="7e691-211">HTTP</span><span class="sxs-lookup"><span data-stu-id="7e691-211">HTTP</span></span>|<span data-ttu-id="7e691-212">[はい]</span><span class="sxs-lookup"><span data-stu-id="7e691-212">Yes</span></span>|  
|<span data-ttu-id="7e691-213">Windows プロセス アクティブ化サービス (WAS)</span><span class="sxs-lookup"><span data-stu-id="7e691-213">Windows Process Activation Service (WAS)</span></span>|[!INCLUDE[wv](../../../includes/wv-md.md)]<span data-ttu-id="7e691-214">, [!INCLUDE[lserver](../../../includes/lserver-md.md)]</span><span class="sxs-lookup"><span data-stu-id="7e691-214">, [!INCLUDE[lserver](../../../includes/lserver-md.md)]</span></span>|<span data-ttu-id="7e691-215">HTTP、</span><span class="sxs-lookup"><span data-stu-id="7e691-215">HTTP,</span></span><br /><br /> <span data-ttu-id="7e691-216">net.tcp、</span><span class="sxs-lookup"><span data-stu-id="7e691-216">net.tcp,</span></span><br /><br /> <span data-ttu-id="7e691-217">net.pipe、</span><span class="sxs-lookup"><span data-stu-id="7e691-217">net.pipe,</span></span><br /><br /> <span data-ttu-id="7e691-218">net.msmq</span><span class="sxs-lookup"><span data-stu-id="7e691-218">net.msmq</span></span>|<span data-ttu-id="7e691-219">[はい]</span><span class="sxs-lookup"><span data-stu-id="7e691-219">Yes</span></span>|  
  
 <span data-ttu-id="7e691-220">信頼されていないホストからサービスや拡張機能を実行すると、セキュリティが損なわれるので注意してください。</span><span class="sxs-lookup"><span data-stu-id="7e691-220">It is important to note that running a service or any extension from an untrusted host compromises security.</span></span> <span data-ttu-id="7e691-221">また、偽装して <xref:System.ServiceModel.ServiceHost> を開くと、アプリケーションは、ユーザーの <xref:System.Security.Principal.WindowsIdentity> をキャッシュするなどして、ユーザーがログオフしていないことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7e691-221">Also, note that when opening a <xref:System.ServiceModel.ServiceHost> under impersonation, an application must ensure that the user is not logged off, for example by caching the <xref:System.Security.Principal.WindowsIdentity> of the user.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7e691-222">参照</span><span class="sxs-lookup"><span data-stu-id="7e691-222">See Also</span></span>  
 [<span data-ttu-id="7e691-223">システム要件</span><span class="sxs-lookup"><span data-stu-id="7e691-223">System Requirements</span></span>](../../../docs/framework/wcf/wcf-system-requirements.md)  
 [<span data-ttu-id="7e691-224">基本的なプログラミング ライフサイクル</span><span class="sxs-lookup"><span data-stu-id="7e691-224">Basic Programming Lifecycle</span></span>](../../../docs/framework/wcf/basic-programming-lifecycle.md)  
 [<span data-ttu-id="7e691-225">サービス コントラクトの実装</span><span class="sxs-lookup"><span data-stu-id="7e691-225">Implementing Service Contracts</span></span>](../../../docs/framework/wcf/implementing-service-contracts.md)  
 [<span data-ttu-id="7e691-226">方法 : IIS で WCF サービスをホストする</span><span class="sxs-lookup"><span data-stu-id="7e691-226">How to: Host a WCF Service in IIS</span></span>](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-iis.md)  
 [<span data-ttu-id="7e691-227">方法 : WAS で WCF サービスをホストする</span><span class="sxs-lookup"><span data-stu-id="7e691-227">How to: Host a WCF Service in WAS</span></span>](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)  
 [<span data-ttu-id="7e691-228">方法 : マネージ Windows サービスで WCF サービスをホストする</span><span class="sxs-lookup"><span data-stu-id="7e691-228">How to: Host a WCF Service in a Managed Windows Service</span></span>](../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md)  
 [<span data-ttu-id="7e691-229">方法: マネージ アプリケーションで WCF サービスをホストする</span><span class="sxs-lookup"><span data-stu-id="7e691-229">How to: Host a WCF Service in a Managed Application</span></span>](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md)
