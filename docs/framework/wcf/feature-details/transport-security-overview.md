---
title: トランスポート セキュリティの概要
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 00959326-aa9d-44d0-af61-54933d4adc7f
ms.openlocfilehash: 450d10c0356a8c22741275e2c1e1a842c1fd4627
ms.sourcegitcommit: bab17fd81bab7886449217356084bf4881d6e7c8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2019
ms.locfileid: "67402046"
---
# <a name="transport-security-overview"></a><span data-ttu-id="e17b9-102">トランスポート セキュリティの概要</span><span class="sxs-lookup"><span data-stu-id="e17b9-102">Transport Security Overview</span></span>
<span data-ttu-id="e17b9-103">トランスポート セキュリティ機構では、Windows Communication Foundation (WCF) は、バインドと使用されているトランスポートによって異なります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-103">Transport security mechanisms in Windows Communication Foundation (WCF) depend on the binding and transport being used.</span></span> <span data-ttu-id="e17b9-104">たとえば、<xref:System.ServiceModel.WSHttpBinding> クラスを使用する場合、トランスポートは HTTP であり、トランスポートをセキュリティで保護するための主要機構は SSL (Secure Sockets Layer) over HTTP (一般に HTTPS と呼ばれます) です。</span><span class="sxs-lookup"><span data-stu-id="e17b9-104">For example, when using the <xref:System.ServiceModel.WSHttpBinding> class, the transport is HTTP, and the primary mechanism for securing the transport is Secure Sockets Layer (SSL) over HTTP, commonly called HTTPS.</span></span> <span data-ttu-id="e17b9-105">このトピックでは、WCF のシステム指定のバインディングで使用される主要なトランスポート セキュリティ機構について説明します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-105">This topic discusses the major transport security mechanisms used in the WCF system-provided bindings.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e17b9-106">.NET Framework 3.5 以降のバージョンと SSL セキュリティを使用する場合、WCF クライアントは両方、中間証明書を使用してその証明書ストアに、サービスの証明書チェーンの検証を実行する SSL ネゴシエーション中に受信した中間証明書証明書。</span><span class="sxs-lookup"><span data-stu-id="e17b9-106">When SSL security is used with .NET Framework 3.5 and later an WCF client uses both the intermediate certificates in its certificate store and the intermediate certificates received during SSL negotiation to perform certificate chain validation on the service's certificate.</span></span> <span data-ttu-id="e17b9-107">.NET Framework 3.0 では、ローカルの証明書ストアにインストールされている中間証明書のみが使用されます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-107">.NET Framework 3.0 only uses the intermediate certificates installed in the local certificate store.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="e17b9-108">トランスポート セキュリティを使用した場合、<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> プロパティが上書きされることがあります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-108">When transport security is used, the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property may be overwritten.</span></span> <span data-ttu-id="e17b9-109">この設定に防ぐため、<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermissionMode%2A?displayProperty=nameWithType>に<xref:System.ServiceModel.Description.PrincipalPermissionMode.None?displayProperty=nameWithType>します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-109">To prevent this from happening set the <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermissionMode%2A?displayProperty=nameWithType> to <xref:System.ServiceModel.Description.PrincipalPermissionMode.None?displayProperty=nameWithType>.</span></span> <span data-ttu-id="e17b9-110"><xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> は、サービスの説明で設定できる、サービスの動作です。</span><span class="sxs-lookup"><span data-stu-id="e17b9-110"><xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> is a service behavior that can be set on the service description.</span></span>  
  
## <a name="basichttpbinding"></a><span data-ttu-id="e17b9-111">BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-111">BasicHttpBinding</span></span>  
 <span data-ttu-id="e17b9-112">既定では、<xref:System.ServiceModel.BasicHttpBinding> クラスはセキュリティを提供しません。</span><span class="sxs-lookup"><span data-stu-id="e17b9-112">By default, the <xref:System.ServiceModel.BasicHttpBinding> class does not provide security.</span></span> <span data-ttu-id="e17b9-113">このバインディングは、セキュリティを実装していない Web サービス プロバイダーとの相互運用性のためにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-113">This binding is designed for interoperability with Web service providers that do not implement security.</span></span> <span data-ttu-id="e17b9-114">ただし、<xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> プロパティを <xref:System.ServiceModel.BasicHttpSecurityMode.None> 以外の値に設定することにより、セキュリティを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-114">However, you can switch on security by setting the <xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> property to any value except <xref:System.ServiceModel.BasicHttpSecurityMode.None>.</span></span> <span data-ttu-id="e17b9-115">トランスポート セキュリティを有効にするには、このプロパティを <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> に設定します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-115">To enable transport security, set the property to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span>  
  
### <a name="interoperation-with-iis"></a><span data-ttu-id="e17b9-116">IIS との相互運用性</span><span class="sxs-lookup"><span data-stu-id="e17b9-116">Interoperation with IIS</span></span>  
 <span data-ttu-id="e17b9-117"><xref:System.ServiceModel.BasicHttpBinding> クラスは、主に既存の Web サービスと相互運用するために使用されます。これらのサービスの多くは、インターネット インフォメーション サービス (IIS) によってホストされます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-117">The <xref:System.ServiceModel.BasicHttpBinding> class is primarily used to interoperate with existing Web services, and many of those services are hosted by Internet Information Services (IIS).</span></span> <span data-ttu-id="e17b9-118">そのため、このバインディングのトランスポート セキュリティは、IIS サイトとシームレスに相互運用できるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-118">Consequently, the transport security for this binding is designed for seamless interoperation with IIS sites.</span></span> <span data-ttu-id="e17b9-119">IIS サイトと相互運用するには、セキュリティ モードを <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> に設定した後、クライアント資格情報の種類を設定します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-119">This is done by setting the security mode to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> and then setting the client credential type.</span></span> <span data-ttu-id="e17b9-120">資格情報の種類の値は、IIS ディレクトリのセキュリティ機構に対応しています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-120">The credential type values correspond to IIS directory security mechanisms.</span></span> <span data-ttu-id="e17b9-121">モードを設定し、資格情報の種類を Windows に設定するコードを次に示します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-121">The following code shows the mode being set and the credential type set to Windows.</span></span> <span data-ttu-id="e17b9-122">この構成は、クライアントとサーバーが同じ Windows ドメインに存在する場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-122">You can use this configuration when both client and server are on the same Windows domain.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#10)] 
 [!code-vb[c_ProgrammingSecurity#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#10)]  
  
 <span data-ttu-id="e17b9-123">または、次のように構成します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-123">Or, in configuration:</span></span>  
  
```xml  
<bindings>  
  <basicHttpBinding>  
    <binding name="SecurityByTransport">  
      <security mode="Transport">  
        <transport clientCredentialType="Windows" />  
       </security>  
     </binding>  
  </basicHttpBinding>  
</bindings>  
```  
  
 <span data-ttu-id="e17b9-124">以下のセクションでは、その他のクライアント資格情報の種類について説明します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-124">The following sections discuss other client credential types.</span></span>  
  
#### <a name="basic"></a><span data-ttu-id="e17b9-125">基本</span><span class="sxs-lookup"><span data-stu-id="e17b9-125">Basic</span></span>  
 <span data-ttu-id="e17b9-126">これは、IIS の基本認証方法に対応しています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-126">This corresponds to the Basic authentication method in IIS.</span></span> <span data-ttu-id="e17b9-127">このモードを使用する場合は、Windows ユーザー アカウントと、適切な NTFS ファイル システムのアクセス許可を使用して IIS サーバーを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-127">When using this mode, the IIS server must be configured with Windows user accounts and appropriate NTFS file system permissions.</span></span> <span data-ttu-id="e17b9-128">IIS 6.0 の詳細については、次を参照してください。 [Enabling Basic Authentication and Configuring the Realm Name](https://go.microsoft.com/fwlink/?LinkId=88592)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-128">For more information about IIS 6.0, see [Enabling Basic Authentication and Configuring the Realm Name](https://go.microsoft.com/fwlink/?LinkId=88592).</span></span> <span data-ttu-id="e17b9-129">詳細については[!INCLUDE[iisver](../../../../includes/iisver-md.md)]を参照してください[IIS 7.0 Beta:基本認証を構成](https://go.microsoft.com/fwlink/?LinkId=88593)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-129">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configure Basic Authentication](https://go.microsoft.com/fwlink/?LinkId=88593).</span></span>  
  
#### <a name="certificate"></a><span data-ttu-id="e17b9-130">証明書</span><span class="sxs-lookup"><span data-stu-id="e17b9-130">Certificate</span></span>  
 <span data-ttu-id="e17b9-131">IIS には、クライアントに証明書を使用してログオンすることを要求するオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-131">IIS has an option to require clients to log on with a certificate.</span></span> <span data-ttu-id="e17b9-132">この機能により、IIS はクライアント証明書を Windows アカウントにマップすることもできます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-132">The feature also enables IIS to map a client certificate to a Windows account.</span></span> <span data-ttu-id="e17b9-133">IIS 6.0 の詳細については、次を参照してください。 [Enabling Client Certificates in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88594)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-133">For more information about IIS 6.0, see [Enabling Client Certificates in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88594).</span></span> <span data-ttu-id="e17b9-134">詳細については[!INCLUDE[iisver](../../../../includes/iisver-md.md)]を参照してください[IIS 7.0 Beta:Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-134">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span></span>  
  
#### <a name="digest"></a><span data-ttu-id="e17b9-135">Digest</span><span class="sxs-lookup"><span data-stu-id="e17b9-135">Digest</span></span>  
 <span data-ttu-id="e17b9-136">ダイジェスト認証は基本認証と似ていますが、資格情報をクリア テキストではなくハッシュとして送信できるという利点があります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-136">Digest authentication is similar to Basic authentication, but offers the advantage of sending the credentials as a hash, instead of in clear text.</span></span> <span data-ttu-id="e17b9-137">IIS 6.0 の詳細については、次を参照してください。 [Digest Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkID=88443)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-137">For more information about IIS 6.0, see [Digest Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkID=88443).</span></span> <span data-ttu-id="e17b9-138">詳細については[!INCLUDE[iisver](../../../../includes/iisver-md.md)]を参照してください[IIS 7.0 Beta:ダイジェスト認証を構成する](https://go.microsoft.com/fwlink/?LinkId=88596)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-138">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configure Digest Authentication](https://go.microsoft.com/fwlink/?LinkId=88596).</span></span>  
  
#### <a name="windows"></a><span data-ttu-id="e17b9-139">Windows</span><span class="sxs-lookup"><span data-stu-id="e17b9-139">Windows</span></span>  
 <span data-ttu-id="e17b9-140">これは、IIS の統合 Windows 認証に対応しています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-140">This corresponds to integrated Windows authentication in IIS.</span></span> <span data-ttu-id="e17b9-141">この値に設定する場合、サーバーは、Kerberos プロトコルを使用する Windows ドメインにドメイン コントローラーとして存在することにもなっています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-141">When set to this value, the server is also expected to exist on a Windows domain that uses the Kerberos protocol as its domain controller.</span></span> <span data-ttu-id="e17b9-142">サーバーが Kerberos ベースのドメインに存在しない場合、または Kerberos システムに障害が発生した場合は、次のセクションで説明する NTLM (NT LAN Manager) 値を使用できます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-142">If the server is not on a Kerberos-backed domain, or if the Kerberos system fails, you can use the NT LAN Manager (NTLM) value described in the next section.</span></span> <span data-ttu-id="e17b9-143">IIS 6.0 の詳細については、次を参照してください。 [Integrated Windows Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88597)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-143">For more information about IIS 6.0, see [Integrated Windows Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88597).</span></span> <span data-ttu-id="e17b9-144">詳細については[!INCLUDE[iisver](../../../../includes/iisver-md.md)]を参照してください[IIS 7.0 Beta:Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-144">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span></span>  
  
#### <a name="ntlm"></a><span data-ttu-id="e17b9-145">NTLM</span><span class="sxs-lookup"><span data-stu-id="e17b9-145">NTLM</span></span>  
 <span data-ttu-id="e17b9-146">この値を使用すると、Kerberos プロトコルが失敗した場合に、サーバーは、NTLM を使用して認証を実行できます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-146">This enables the server to use NTLM for authentication if the Kerberos protocol fails.</span></span> <span data-ttu-id="e17b9-147">IIS 6.0 で IIS を構成する方法の詳細については、次を参照してください。[強制的に NTLM 認証](https://go.microsoft.com/fwlink/?LinkId=88598)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-147">For more information about configuring IIS in IIS 6.0, see [Forcing NTLM Authentication](https://go.microsoft.com/fwlink/?LinkId=88598).</span></span> <span data-ttu-id="e17b9-148">[!INCLUDE[iisver](../../../../includes/iisver-md.md)] では、Windows 認証に NTLM 認証が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-148">For [!INCLUDE[iisver](../../../../includes/iisver-md.md)], the Windows authentication includes NTLM authentication.</span></span> <span data-ttu-id="e17b9-149">詳細については、次を参照してください[IIS 7.0 Beta:。Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkID=88595)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-149">For more information, see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkID=88595).</span></span>  
  
## <a name="wshttpbinding"></a><span data-ttu-id="e17b9-150">WsHttpBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-150">WsHttpBinding</span></span>  
 <span data-ttu-id="e17b9-151"><xref:System.ServiceModel.WSHttpBinding> クラスは、WS-\* 仕様を実装するサービスと共に相互運用するようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-151">The <xref:System.ServiceModel.WSHttpBinding> class is designed for interoperation with services that implement WS-\* specifications.</span></span> <span data-ttu-id="e17b9-152">このバインディングのトランスポート セキュリティは、SSL (Secure Sockets Layer) over HTTP または HTTPS です。</span><span class="sxs-lookup"><span data-stu-id="e17b9-152">The transport security for this binding is Secure Sockets Layer (SSL) over HTTP, or HTTPS.</span></span> <span data-ttu-id="e17b9-153">SSL を使用する WCF アプリケーションを作成するのにには、アプリケーションをホストするのに IIS を使用します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-153">To create an WCF application that uses SSL, use IIS to host the application.</span></span> <span data-ttu-id="e17b9-154">自己ホスト型アプリケーションを作成する場合は、HttpCfg.exe ツールを使用して、X.509 証明書をコンピューターの特定のポートにバインドします。</span><span class="sxs-lookup"><span data-stu-id="e17b9-154">Alternatively, if you are creating a self-hosted application, use the HttpCfg.exe tool to bind an X.509 certificate to a specific port on a computer.</span></span> <span data-ttu-id="e17b9-155">ポート番号は、エンドポイント アドレスとして、WCF アプリケーションの一部として指定されます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-155">The port number is specified as part of the WCF application as an endpoint address.</span></span> <span data-ttu-id="e17b9-156">トランスポート モードを使用する場合は、エンドポイント アドレスに HTTPS プロトコルを含める必要があります。そうしないと、実行時に例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-156">When using transport mode, the endpoint address must include the HTTPS protocol or an exception will be thrown at run time.</span></span> <span data-ttu-id="e17b9-157">詳細については、次を参照してください。 [HTTP トランスポート セキュリティ](../../../../docs/framework/wcf/feature-details/http-transport-security.md)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-157">For more information, see [HTTP Transport Security](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span></span>  
  
 <span data-ttu-id="e17b9-158">クライアント認証の場合、<xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> クラスの <xref:System.ServiceModel.HttpTransportSecurity> プロパティを <xref:System.ServiceModel.HttpClientCredentialType> 列挙値のいずれかに設定します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-158">For client authentication, set the <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.HttpTransportSecurity> class to one of the <xref:System.ServiceModel.HttpClientCredentialType> enumeration values.</span></span> <span data-ttu-id="e17b9-159">この列挙値は、<xref:System.ServiceModel.BasicHttpBinding> のクライアント資格情報の種類と同一であり、IIS サービスを使用してホストされるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-159">The enumeration values are identical to the client credential types for <xref:System.ServiceModel.BasicHttpBinding> and are designed to be hosted with IIS services.</span></span>  
  
 <span data-ttu-id="e17b9-160">クライアント資格情報の種類が Windows の場合に使用するバインディングの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-160">The following example shows the binding being used with a client credential type of Windows.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#11)]
 [!code-vb[c_ProgrammingSecurity#11](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#11)]  
  
## <a name="wsdualhttpbinding"></a><span data-ttu-id="e17b9-161">WSDualHttpBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-161">WSDualHttpBinding</span></span>  
 <span data-ttu-id="e17b9-162">このバインディングが提供するのは、トランスポート レベルのセキュリティではなく、メッセージ レベルのセキュリティだけです。</span><span class="sxs-lookup"><span data-stu-id="e17b9-162">This binding provides only message-level security, not transport-level security.</span></span>  
  
## <a name="nettcpbinding"></a><span data-ttu-id="e17b9-163">NetTcpBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-163">NetTcpBinding</span></span>  
 <span data-ttu-id="e17b9-164"><xref:System.ServiceModel.NetTcpBinding> クラスは、メッセージ トランスポートに TCP を使用します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-164">The <xref:System.ServiceModel.NetTcpBinding> class uses TCP for message transport.</span></span> <span data-ttu-id="e17b9-165">トランスポート モードのセキュリティは、TLS (Transport Layer Security) over TCP を実装することによって実現されます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-165">Security for the transport mode is provided by implementing Transport Layer Security (TLS) over TCP.</span></span> <span data-ttu-id="e17b9-166">TLS 実装は、オペレーティング システムによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-166">The TLS implementation is provided by the operating system.</span></span>  
  
 <span data-ttu-id="e17b9-167">次のコードに示すように、<xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> クラスの <xref:System.ServiceModel.TcpTransportSecurity> プロパティを <xref:System.ServiceModel.TcpClientCredentialType> 値のいずれかに設定することで、クライアントの資格情報の種類を指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-167">You can also specify the client's credential type by setting the <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.TcpTransportSecurity> class to one of the <xref:System.ServiceModel.TcpClientCredentialType> values, as shown in the following code.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#12)]
 [!code-vb[c_ProgrammingSecurity#12](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#12)]  
  
#### <a name="client"></a><span data-ttu-id="e17b9-168">クライアント</span><span class="sxs-lookup"><span data-stu-id="e17b9-168">Client</span></span>  
 <span data-ttu-id="e17b9-169">クライアントでは、<xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> クラスの <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> メソッドを使用して証明書を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-169">On the client, you must specify a certificate using the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> class.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e17b9-170">Windows セキュリティを使用している場合には、証明書は不要です。</span><span class="sxs-lookup"><span data-stu-id="e17b9-170">If you are using Windows security, a certificate is not required.</span></span>  
  
 <span data-ttu-id="e17b9-171">証明書の拇印を使用するコードを次に示します。拇印により、証明書が一意に識別されます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-171">The following code uses the thumbprint of the certificate, which uniquely identifies it.</span></span> <span data-ttu-id="e17b9-172">証明書の詳細については、「[証明書の使用](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e17b9-172">For more information about certificates, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#13)]
 [!code-vb[c_ProgrammingSecurity#13](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#13)]  
  
 <span data-ttu-id="e17b9-173">または、証明書をクライアントの構成で指定を使用して、 [ \<clientCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) behaviors セクション内の要素。</span><span class="sxs-lookup"><span data-stu-id="e17b9-173">Alternatively, specify the certificate in the client's configuration using a [\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) element in the behaviors section.</span></span>  
  
```xml  
<behaviors>  
  <behavior>  
   <clientCredentials>  
     <clientCertificate findValue= "101010101010101010101010101010000000000"   
      storeLocation="LocalMachine" storeName="My"   
      X509FindType="FindByThumbPrint"/>  
     </clientCertificate>  
   </clientCredentials>  
 </behavior>  
</behaviors>    
```  
  
## <a name="netnamedpipebinding"></a><span data-ttu-id="e17b9-174">NetNamedPipeBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-174">NetNamedPipeBinding</span></span>  
 <span data-ttu-id="e17b9-175">同じネットワーク上の 2 台のコンピューター間に名前付きパイプ チャネルを作成できますが、<xref:System.ServiceModel.NetNamedPipeBinding> クラスは、コンピューター内通信 (つまり、同じコンピューター上で実行されるプロセス) を効率的に行うことができるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="e17b9-175">The <xref:System.ServiceModel.NetNamedPipeBinding> class is designed for efficient intra-machine communication; that is, for processes running on the same computer, although named pipe channels can be created between two computers on the same network.</span></span> <span data-ttu-id="e17b9-176">このバインディングが提供するのは、トランスポート レベルのセキュリティだけです。</span><span class="sxs-lookup"><span data-stu-id="e17b9-176">This binding provides only transport-level security.</span></span> <span data-ttu-id="e17b9-177">このバインディングを使用してアプリケーションを作成する場合は、エンドポイント アドレスにプロトコルとして "net.pipe" を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="e17b9-177">When creating applications using this binding, the endpoint addresses must include "net.pipe" as the protocol of the endpoint address.</span></span>  
  
## <a name="wsfederationhttpbinding"></a><span data-ttu-id="e17b9-178">WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-178">WSFederationHttpBinding</span></span>  
 <span data-ttu-id="e17b9-179">トランスポート セキュリティを使用する場合、このバインディングでは SSL over HTTP を使用します。SSL over HTTP は HTTPS とも呼ばれ、発行済みトークン (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>) を含みます。</span><span class="sxs-lookup"><span data-stu-id="e17b9-179">When using transport security, this binding uses SSL over HTTP, known as HTTPS with an issued token (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>).</span></span> <span data-ttu-id="e17b9-180">フェデレーション アプリケーションの詳細については、次を参照してください。[フェデレーションと発行されたトークン](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-180">For more information about federation applications, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
## <a name="netpeertcpbinding"></a><span data-ttu-id="e17b9-181">NetPeerTcpBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-181">NetPeerTcpBinding</span></span>  
 <span data-ttu-id="e17b9-182"><xref:System.ServiceModel.NetPeerTcpBinding> クラスは、ピアツーピア ネットワーク機能を使用して効率的に通信できるようにデザインされた、セキュリティ保護されたトランスポートです。</span><span class="sxs-lookup"><span data-stu-id="e17b9-182">The <xref:System.ServiceModel.NetPeerTcpBinding> class is a secure transport that is designed for efficient communication using the peer-to-peer networking feature.</span></span> <span data-ttu-id="e17b9-183">クラスとバインディングの名前が示すように、プロトコルは TCP です。</span><span class="sxs-lookup"><span data-stu-id="e17b9-183">As indicated by the name of the class and binding, TCP is the protocol.</span></span> <span data-ttu-id="e17b9-184">セキュリティ モードが Transport に設定されている場合、このバインディングは TLS over TCP を実装します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-184">When the security mode is set to Transport, the binding implements TLS over TCP.</span></span> <span data-ttu-id="e17b9-185">ピア ツー ピア機能の詳細については、次を参照してください。[ピア ツー ピア ネットワー キング](../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-185">For more information about the peer-to-peer feature, see [Peer-to-Peer Networking](../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-netmsmqbinding"></a><span data-ttu-id="e17b9-186">MsmqIntegrationBinding と NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="e17b9-186">MsmqIntegrationBinding and NetMsmqBinding</span></span>  
 <span data-ttu-id="e17b9-187">トランスポートの詳細についてはセキュリティとメッセージ キュー (MSMQ と呼ばれる以前) を参照してください[トランスポート セキュリティを使用してメッセージをセキュリティで保護する](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md)します。</span><span class="sxs-lookup"><span data-stu-id="e17b9-187">For a complete discussion of transport security with Message Queuing (previously called MSMQ), see [Securing Messages Using Transport Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e17b9-188">関連項目</span><span class="sxs-lookup"><span data-stu-id="e17b9-188">See also</span></span>

- [<span data-ttu-id="e17b9-189">WCF セキュリティのプログラミング</span><span class="sxs-lookup"><span data-stu-id="e17b9-189">Programming WCF Security</span></span>](../../../../docs/framework/wcf/feature-details/programming-wcf-security.md)
