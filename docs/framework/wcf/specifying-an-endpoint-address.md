---
title: "エンドポイント アドレスの指定"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: endpoints [WCF], addressing
ms.assetid: ac24f5ad-9558-4298-b168-c473c68e819b
caps.latest.revision: "41"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 403ff897de4dc9ee95a854d9658bdee344755d59
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/19/2018
---
# <a name="specifying-an-endpoint-address"></a><span data-ttu-id="07fe1-102">エンドポイント アドレスの指定</span><span class="sxs-lookup"><span data-stu-id="07fe1-102">Specifying an Endpoint Address</span></span>
<span data-ttu-id="07fe1-103">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] サービスを使用して行われるすべての通信では、エンドポイントが使用されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-103">All communication with a [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] service occurs through its endpoints.</span></span> <span data-ttu-id="07fe1-104">各 <xref:System.ServiceModel.Description.ServiceEndpoint> は、<xref:System.ServiceModel.Description.ServiceEndpoint.Address%2A>、<xref:System.ServiceModel.Description.ServiceEndpoint.Binding%2A>、および <xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A> で構成されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-104">Each <xref:System.ServiceModel.Description.ServiceEndpoint> contains an <xref:System.ServiceModel.Description.ServiceEndpoint.Address%2A>, a <xref:System.ServiceModel.Description.ServiceEndpoint.Binding%2A>, and a <xref:System.ServiceModel.Description.ServiceEndpoint.Contract%2A>.</span></span> <span data-ttu-id="07fe1-105">コントラクトでは、使用できる操作を指定します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-105">The contract specifies which operations are available.</span></span> <span data-ttu-id="07fe1-106">バインディングでは、サービスとの通信方法を指定し、アドレスでは、サービスの場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-106">The binding specifies how to communicate with the service, and the address specifies where to find the service.</span></span> <span data-ttu-id="07fe1-107">各エンドポイントには、一意のアドレスを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-107">Every endpoint must have a unique address.</span></span> <span data-ttu-id="07fe1-108">エンドポイント アドレスは、<xref:System.ServiceModel.EndpointAddress> クラスによって表します。このクラスは、サービスのアドレスを表す URI (Uniform Resource Identifier)、サービスのセキュリティ ID を表す <xref:System.ServiceModel.EndpointAddress.Identity%2A>、およびオプションの <xref:System.ServiceModel.EndpointAddress.Headers%2A> のコレクションで構成されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-108">The endpoint address is represented by the <xref:System.ServiceModel.EndpointAddress> class, which contains a Uniform Resource Identifier (URI) that represents the address of the service, an <xref:System.ServiceModel.EndpointAddress.Identity%2A>, which represents the security identity of the service, and a collection of optional <xref:System.ServiceModel.EndpointAddress.Headers%2A>.</span></span> <span data-ttu-id="07fe1-109">オプション ヘッダーは、エンドポイントの識別または対話のために、より詳細なアドレス指定情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-109">The optional headers provide more detailed addressing information to identify or interact with the endpoint.</span></span> <span data-ttu-id="07fe1-110">たとえば、ヘッダーを使用して、受信メッセージの処理方法や、エンドポイントからの応答メッセージの送信先を指定できるほか、複数のサービス インスタンスが使用できる場合に、特定ユーザーからの受信メッセージの処理に使用するインスタンスを指定できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-110">For example, headers can indicate how to process an incoming message, where the endpoint should send a reply message, or which instance of a service to use to process an incoming message from a particular user when multiple instances are available.</span></span>  
  
## <a name="definition-of-an-endpoint-address"></a><span data-ttu-id="07fe1-111">エンドポイント アドレスの定義</span><span class="sxs-lookup"><span data-stu-id="07fe1-111">Definition of an Endpoint Address</span></span>  
 <span data-ttu-id="07fe1-112">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] の <xref:System.ServiceModel.EndpointAddress> は、WS-Addressing 仕様で定義されているエンドポイント参照 (EPR) をモデル化します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-112">In [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], an <xref:System.ServiceModel.EndpointAddress> models an endpoint reference (EPR) as defined in the WS-Addressing standard.</span></span>  
  
 <span data-ttu-id="07fe1-113">ほとんどのトランスポートの URI アドレスは、4 つの部分から構成されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-113">The address URI for most transports has four parts.</span></span> <span data-ttu-id="07fe1-114">たとえば、"http://www.fabrikam.com:322/mathservice.svc/secureEndpoint" という URI は、次の 4 つの部分から構成されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-114">For example, this URI, "http://www.fabrikam.com:322/mathservice.svc/secureEndpoint" has the following four parts:</span></span>  
  
-   <span data-ttu-id="07fe1-115">スキーム : http:</span><span class="sxs-lookup"><span data-stu-id="07fe1-115">Scheme: http:</span></span>  
  
-   <span data-ttu-id="07fe1-116">コンピューター : www.fabrikam.com</span><span class="sxs-lookup"><span data-stu-id="07fe1-116">Machine: www.fabrikam.com</span></span>  
  
-   <span data-ttu-id="07fe1-117">(省略可能) ポート: 322</span><span class="sxs-lookup"><span data-stu-id="07fe1-117">(Optional) Port: 322</span></span>  
  
-   <span data-ttu-id="07fe1-118">パス : /mathservice.svc/secureEndpoint</span><span class="sxs-lookup"><span data-stu-id="07fe1-118">Path: /mathservice.svc/secureEndpoint</span></span>  
  
 <span data-ttu-id="07fe1-119">EPR モデルの一部では、各エンドポイント参照は、追加の識別情報を追加する複数の参照パラメーターを伝達できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-119">Part of the EPR model is that each endpoint reference can carry some reference parameters that add extra identifying information.</span></span> <span data-ttu-id="07fe1-120">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] では、これらの参照パラメーターは <xref:System.ServiceModel.Channels.AddressHeader> クラスのインスタンスとしてモデル化されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-120">In [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], these reference parameters are modeled as instances of the <xref:System.ServiceModel.Channels.AddressHeader> class.</span></span>  
  
 <span data-ttu-id="07fe1-121">サービスのエンドポイント アドレスはコードを使用して強制的に指定するか、構成を介して宣言として指定できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-121">The endpoint address for a service can be specified either imperatively by using code or declaratively through configuration.</span></span> <span data-ttu-id="07fe1-122">設置済みサービスのバインドおよびアドレスは一般的に、サービスの開発中に使用されるものとは異なるので、コード内でエンドポイントを定義することは通常、実用的ではありません。</span><span class="sxs-lookup"><span data-stu-id="07fe1-122">Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.</span></span> <span data-ttu-id="07fe1-123">一般に、サービス エンドポイントの定義にはコードではなく、構成を使用する方がより実用的です。</span><span class="sxs-lookup"><span data-stu-id="07fe1-123">Generally, it is more practical to define service endpoints using configuration rather than code.</span></span> <span data-ttu-id="07fe1-124">バインディング情報とアドレス情報をコードに含めないことで、変更時にアプリケーションの再コンパイルや再展開を行う必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-124">Keeping the binding and addressing information out of the code allows them to change without having to recompile and redeploy the application.</span></span> <span data-ttu-id="07fe1-125">エンドポイントがコードまたは構成で指定されていない場合、ランタイムは、サービスで実装されたコントラクトごとに、1 つの既定のエンドポイントを各ベース アドレスに追加します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-125">If no endpoints are specified in code or in configuration, then the runtime adds one default endpoint on each base address for each contract implemented by the service.</span></span>  
  
 <span data-ttu-id="07fe1-126">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] でサービスのエンドポイント アドレスを指定するには 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-126">There are two ways to specify endpoint addresses for a service in [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="07fe1-127">サービスに関連付けられた各エンドポイントに対して絶対アドレスを指定する方法と、<xref:System.ServiceModel.ServiceHost> のベース アドレスを設定して、このベース アドレスから相対的に定義されるアドレスをサービスに関連付けられた各エンドポイントに対して指定する方法です。</span><span class="sxs-lookup"><span data-stu-id="07fe1-127">You can specify an absolute address for each endpoint associated with the service or you can provide a base address for the <xref:System.ServiceModel.ServiceHost> of a service and then specify an address for each endpoint associated with this service that is defined relative to this base address.</span></span> <span data-ttu-id="07fe1-128">サービスのエンドポイント アドレスを指定するには、構成とコードのいずれかで、これらの各方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-128">You can use each of these procedures to specify the endpoint addresses for a service in either configuration or code.</span></span> <span data-ttu-id="07fe1-129">相対アドレスを指定しない場合、サービスはベース アドレスを使用します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-129">If you do not specify a relative address, the service uses the base address.</span></span> <span data-ttu-id="07fe1-130">サービスに対して複数のベース アドレスを設定することもできますが、サービスが各トランスポートに対して設定できるベース アドレスは 1 つに限られます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-130">You can also have multiple base addresses for a service, but each service is allowed only one base address for each transport.</span></span> <span data-ttu-id="07fe1-131">複数のエンドポイントがある場合、各エンドポイントには異なるバインディングで構成されるため、それぞれのアドレスは一意になります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-131">If you have multiple endpoints, each of which is configured with a different binding, their addresses must be unique.</span></span> <span data-ttu-id="07fe1-132">異なるコントラクトで同じバインディングを使用するエンドポイントは同じアドレスを使用できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-132">Endpoints that use the same binding but different contracts can use the same address.</span></span>  
  
 <span data-ttu-id="07fe1-133">IIS でホストする場合、ユーザーは <xref:System.ServiceModel.ServiceHost> インスタンスを管理できません。</span><span class="sxs-lookup"><span data-stu-id="07fe1-133">When hosting with IIS, you do not manage the <xref:System.ServiceModel.ServiceHost> instance yourself.</span></span> <span data-ttu-id="07fe1-134">IIS でホストしているサービスでは、サービスの .svc ファイルで指定されているアドレスが常にベース アドレスになります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-134">The base address is always the address specified in the .svc file for the service when hosting in IIS.</span></span> <span data-ttu-id="07fe1-135">そのため、IIS でホストされるサービスのエンドポイントでは、相対エンドポイント アドレスを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-135">So you must use relative endpoint addresses for IIS-hosted service endpoints.</span></span> <span data-ttu-id="07fe1-136">完全修飾されたエンドポイント アドレスを指定すると、サービスの展開時にエラーとなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-136">Supplying a fully-qualified endpoint address can lead to errors in the deployment of the service.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="07fe1-137">[インターネット インフォメーション サービスでホストされる WCF サービスの配置](../../../docs/framework/wcf/feature-details/deploying-an-internet-information-services-hosted-wcf-service.md)です。</span><span class="sxs-lookup"><span data-stu-id="07fe1-137"> [Deploying an Internet Information Services-Hosted WCF Service](../../../docs/framework/wcf/feature-details/deploying-an-internet-information-services-hosted-wcf-service.md).</span></span>  
  
## <a name="defining-endpoint-addresses-in-configuration"></a><span data-ttu-id="07fe1-138">構成によるエンドポイント アドレスの定義</span><span class="sxs-lookup"><span data-stu-id="07fe1-138">Defining Endpoint Addresses in Configuration</span></span>  
 <span data-ttu-id="07fe1-139">構成ファイルでエンドポイントを定義するには、使用、 [\<エンドポイント >](http://msdn.microsoft.com/library/13aa23b7-2f08-4add-8dbf-a99f8127c017)要素。</span><span class="sxs-lookup"><span data-stu-id="07fe1-139">To define an endpoint in a configuration file, use the [\<endpoint>](http://msdn.microsoft.com/library/13aa23b7-2f08-4add-8dbf-a99f8127c017) element.</span></span>  
  
 [!code-xml[S_UEHelloWorld#5](../../../samples/snippets/common/VS_Snippets_CFX/s_uehelloworld/common/serviceapp2.config#5)]  
  
 <span data-ttu-id="07fe1-140">ときに、<xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>メソッド (つまり、ときに呼び出される、ホスト アプリケーションでは、サービスを開始しようとして)、システム検索、 [\<サービス >](../../../docs/framework/configure-apps/file-schema/wcf/service.md) "UE を指定する名前の属性を持つ要素。Samples.HelloService"です。</span><span class="sxs-lookup"><span data-stu-id="07fe1-140">When the <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> method is called (that is, when the hosting application attempts to start the service), the system looks for a [\<service>](../../../docs/framework/configure-apps/file-schema/wcf/service.md) element with a name attribute that specifies "UE.Samples.HelloService".</span></span> <span data-ttu-id="07fe1-141">場合、 [\<サービス >](../../../docs/framework/configure-apps/file-schema/wcf/service.md)要素が見つかると、システムが、指定したクラスに読み込んで、構成ファイルで提供されるエンドポイントの定義を使用してエンドポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-141">If the [\<service>](../../../docs/framework/configure-apps/file-schema/wcf/service.md) element is found, the system loads the specified class and creates endpoints using the endpoint definitions provided in the configuration file.</span></span> <span data-ttu-id="07fe1-142">このしくみによって、2 行のコードでサービスを読み込んで開始でき、バインディングとアドレス指定情報をコード外に維持することができます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-142">This mechanism allows you to load and start a service with two lines of code while keeping binding and addressing information out of your code.</span></span> <span data-ttu-id="07fe1-143">この方法の利点は、アプリケーションを再度コンパイルしたり、展開したりすることなく、この 2 つの情報を変更できる点です。</span><span class="sxs-lookup"><span data-stu-id="07fe1-143">The advantage of this approach is that these changes can be made without having to recompile or redeploy the application.</span></span>  
  
 <span data-ttu-id="07fe1-144">省略可能なヘッダーがで宣言されている、 [\<ヘッダー >](../../../docs/framework/configure-apps/file-schema/wcf/headers-element.md)です。</span><span class="sxs-lookup"><span data-stu-id="07fe1-144">The optional headers are declared in a [\<headers>](../../../docs/framework/configure-apps/file-schema/wcf/headers-element.md).</span></span> <span data-ttu-id="07fe1-145">次に示す例では、構成ファイルでサービスのエンドポイントを指定するための要素で、2 つのヘッダー (http://tempuri1.org/ からの "Gold" クライアントと http://tempuri2.org/ からの "Standard" クライアント) を識別しています。</span><span class="sxs-lookup"><span data-stu-id="07fe1-145">The following is an example of the elements used to specify endpoints for a service in a configuration file that distinguishes between two headers: "Gold" clients from http://tempuri1.org/ and "Standard" clients from http://tempuri2.org/.</span></span> <span data-ttu-id="07fe1-146">適切なクライアントがこのサービスを呼び出す必要があります[\<ヘッダー >](../../../docs/framework/configure-apps/file-schema/wcf/headers-element.md)によって構成ファイルにします。</span><span class="sxs-lookup"><span data-stu-id="07fe1-146">The client calling this service must have the appropriate [\<headers>](../../../docs/framework/configure-apps/file-schema/wcf/headers-element.md) in its configuration file.</span></span>  
  
 [!code-xml[S_UEHelloWorld#1](../../../samples/snippets/common/VS_Snippets_CFX/s_uehelloworld/common/serviceapp.config#1)]  
  
 <span data-ttu-id="07fe1-147">ヘッダーは、(上記のように) エンドポイントのすべてのメッセージに対してではなく、個別のメッセージに設定できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-147">Headers can also be set on individual messages instead of all messages on an endpoint (as shown previously).</span></span> <span data-ttu-id="07fe1-148">この設定は、次の例で示すように、<xref:System.ServiceModel.OperationContextScope> を使用してクライアント アプリケーションに新しいコンテキストを作成し、送信メッセージにカスタム ヘッダーを追加することで行います。</span><span class="sxs-lookup"><span data-stu-id="07fe1-148">This is done by using <xref:System.ServiceModel.OperationContextScope> to create a new context in a client application to add a custom header to the outgoing message, as shown in the following example.</span></span>  
  
 [!code-csharp[OperationContextScope#4](../../../samples/snippets/csharp/VS_Snippets_CFX/operationcontextscope/cs/client.cs#4)]
 [!code-vb[OperationContextScope#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/operationcontextscope/vb/client.vb#4)]  
  
## <a name="endpoint-address-in-metadata"></a><span data-ttu-id="07fe1-149">メタデータ内のエンドポイント アドレス</span><span class="sxs-lookup"><span data-stu-id="07fe1-149">Endpoint Address in Metadata</span></span>  
 <span data-ttu-id="07fe1-150">Web サービス記述言語 (WSDL) では、エンドポイント アドレスは、対応するエンドポイントの `EndpointReference` 要素内で WS-Addressing の `wsdl:port` (EPR) 要素として表されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-150">An endpoint address is represented in Web Services Description Language (WSDL) as a WS-Addressing `EndpointReference` (EPR) element inside the corresponding endpoint's `wsdl:port` element.</span></span> <span data-ttu-id="07fe1-151">EPR には、エンドポイントのアドレスのほかに、アドレスのすべてのプロパティが含まれます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-151">The EPR contains the endpoint's address as well as any address properties.</span></span> <span data-ttu-id="07fe1-152">`wsdl:port` 内にある EPR では、次の例に示すように `soap:Address` を置き換えるので注意してください。</span><span class="sxs-lookup"><span data-stu-id="07fe1-152">Note that the EPR inside `wsdl:port` replaces `soap:Address` as seen in the following example.</span></span>  
  
  
  
## <a name="defining-endpoint-addresses-in-code"></a><span data-ttu-id="07fe1-153">コードによるエンドポイント アドレスの定義</span><span class="sxs-lookup"><span data-stu-id="07fe1-153">Defining Endpoint Addresses in Code</span></span>  
 <span data-ttu-id="07fe1-154">エンドポイント アドレスは、コードで <xref:System.ServiceModel.EndpointAddress> クラスを使用して作成できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-154">An endpoint address can be created in code with the <xref:System.ServiceModel.EndpointAddress> class.</span></span> <span data-ttu-id="07fe1-155">エンドポイント アドレスに指定する URI は、完全修飾パスまたはサービスのベース アドレスを基準にしたパスです。</span><span class="sxs-lookup"><span data-stu-id="07fe1-155">The URI specified for the endpoint address can be a fully-qualified path or a path that is relative to the service's base address.</span></span> <span data-ttu-id="07fe1-156"><xref:System.ServiceModel.EndpointAddress> クラスのインスタンスを作成し、そのインスタンスを、サービスをホストする <xref:System.ServiceModel.ServiceHost> インスタンスに追加する方法を次のコードに示します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-156">The following code illustrates how to create an instance of the <xref:System.ServiceModel.EndpointAddress> class and add it to the <xref:System.ServiceModel.ServiceHost> instance that is hosting the service.</span></span>  
  
 <span data-ttu-id="07fe1-157">次の例は、コードで完全なエンドポイント アドレスを指定する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="07fe1-157">The following example demonstrates how to specify the full endpoint address in code.</span></span>  
  
 [!code-csharp[S_UEHelloWorld#2](../../../samples/snippets/csharp/VS_Snippets_CFX/s_uehelloworld/cs/snippet.cs#2)]  
  
 <span data-ttu-id="07fe1-158">次の例は、サービス ホストのベース アドレスに相対アドレス ("MyService") を追加する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="07fe1-158">The following example demonstrates how to add a relative address ("MyService") to the base address of the service host.</span></span>  
  
 [!code-csharp[S_UEHelloWorld#3](../../../samples/snippets/csharp/VS_Snippets_CFX/s_uehelloworld/cs/snippet.cs#3)]  
  
> [!NOTE]
>  <span data-ttu-id="07fe1-159"><xref:System.ServiceModel.Description.ServiceDescription> の <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> メソッドの後で、サービス アプリケーションの <xref:System.ServiceModel.ServiceHostBase> の各プロパティを変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="07fe1-159">Properties of the <xref:System.ServiceModel.Description.ServiceDescription> in the service application must not be modified subsequent to the <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> method on <xref:System.ServiceModel.ServiceHostBase>.</span></span> <span data-ttu-id="07fe1-160">このメソッドの後で変更すると、<xref:System.ServiceModel.ServiceHostBase.Credentials%2A> および `AddServiceEndpoint` の <xref:System.ServiceModel.ServiceHostBase> プロパティや <xref:System.ServiceModel.ServiceHost> メソッドなどの一部のメンバーは例外をスローします。</span><span class="sxs-lookup"><span data-stu-id="07fe1-160">Some members, such as the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> property and the `AddServiceEndpoint` methods on <xref:System.ServiceModel.ServiceHostBase> and <xref:System.ServiceModel.ServiceHost>, throw an exception if modified after that point.</span></span> <span data-ttu-id="07fe1-161">変更を許可するメンバーもありますが、結果は未定義の状態になります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-161">Others permit you to modify them, but the result is undefined.</span></span>  
>   
>  <span data-ttu-id="07fe1-162">同様に、クライアントで、<xref:System.ServiceModel.Description.ServiceEndpoint> の <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> 呼び出しの後で、<xref:System.ServiceModel.ChannelFactory> 値を変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="07fe1-162">Similarly, on the client the <xref:System.ServiceModel.Description.ServiceEndpoint> values must not be modified after the call to <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> on the <xref:System.ServiceModel.ChannelFactory>.</span></span> <span data-ttu-id="07fe1-163">この呼び出しの後で変更すると、<xref:System.ServiceModel.ChannelFactory.Credentials%2A> プロパティは例外をスローします。</span><span class="sxs-lookup"><span data-stu-id="07fe1-163">The <xref:System.ServiceModel.ChannelFactory.Credentials%2A> property throws an exception if modified after that point.</span></span> <span data-ttu-id="07fe1-164">その他のクライアント記述値は、エラーを発生させずに変更できますが、結果は未定義の状態になります。</span><span class="sxs-lookup"><span data-stu-id="07fe1-164">The other client description values can be modified without error, but the result is undefined.</span></span>  
>   
>  <span data-ttu-id="07fe1-165">サービスとクライアントのどちらの場合も、<xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> の呼び出しの前に記述を変更することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="07fe1-165">Whether for the service or client, it is recommended that you modify the description prior to calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>.</span></span>  
  
## <a name="using-default-endpoints"></a><span data-ttu-id="07fe1-166">既定のエンドポイントの使用</span><span class="sxs-lookup"><span data-stu-id="07fe1-166">Using Default Endpoints</span></span>  
 <span data-ttu-id="07fe1-167">エンドポイントがコードまたは構成で指定されていない場合、ランタイムは、サービスで実装されたサービス コントラクトごとに、1 つの既定のエンドポイントを各ベース アドレスに追加することで、既定のエンドポイントを提供します。</span><span class="sxs-lookup"><span data-stu-id="07fe1-167">If no endpoints are specified in code or in configuration then the runtime provides default endpoints by adding one default endpoint on each base address for each service contract implemented by the service.</span></span> <span data-ttu-id="07fe1-168">ベース アドレスはコードまたは構成で指定することができ、既定のエンドポイントは、<xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> が <xref:System.ServiceModel.ServiceHost> で呼び出されるときに追加されます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-168">The base address can be specified in code or in configuration, and the default endpoints are added when <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> is called on the <xref:System.ServiceModel.ServiceHost>.</span></span>  
  
 <span data-ttu-id="07fe1-169">エンドポイントを明示的に指定しない場合、<xref:System.ServiceModel.ServiceHostBase.AddDefaultEndpoints%2A> を呼び出す前に、<xref:System.ServiceModel.ServiceHost> で <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> を呼び出すことによって、既定のエンドポイントを引き続き追加できます。</span><span class="sxs-lookup"><span data-stu-id="07fe1-169">If endpoints are explicitly provided, the default endpoints can still be added by calling <xref:System.ServiceModel.ServiceHostBase.AddDefaultEndpoints%2A> on the <xref:System.ServiceModel.ServiceHost> before calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A>.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="07fe1-170"> については、「 [Simplified Configuration](../../../docs/framework/wcf/simplified-configuration.md) 」および「 [Simplified Configuration for WCF Services](../../../docs/framework/wcf/samples/simplified-configuration-for-wcf-services.md)。</span><span class="sxs-lookup"><span data-stu-id="07fe1-170"> default endpoints, bindings, and behaviors, see [Simplified Configuration](../../../docs/framework/wcf/simplified-configuration.md) and [Simplified Configuration for WCF Services](../../../docs/framework/wcf/samples/simplified-configuration-for-wcf-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07fe1-171">参照</span><span class="sxs-lookup"><span data-stu-id="07fe1-171">See Also</span></span>  
 <xref:System.ServiceModel.EndpointAddress>  
 [<span data-ttu-id="07fe1-172">サービス ID と認証</span><span class="sxs-lookup"><span data-stu-id="07fe1-172">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)  
 [<span data-ttu-id="07fe1-173">エンドポイントの作成の概要</span><span class="sxs-lookup"><span data-stu-id="07fe1-173">Endpoint Creation Overview</span></span>](../../../docs/framework/wcf/endpoint-creation-overview.md)  
 [<span data-ttu-id="07fe1-174">ホスティング</span><span class="sxs-lookup"><span data-stu-id="07fe1-174">Hosting</span></span>](../../../docs/framework/wcf/feature-details/hosting.md)
