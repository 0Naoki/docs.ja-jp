---
title: "GamePiece クラスの作成"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 37a27a86-ac1c-47be-b477-cb4b819459d3
caps.latest.revision: 9
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: 7ac9884766812cd635b5a70c028cf15c19838511
ms.contentlocale: ja-jp
ms.lasthandoff: 07/28/2017

---
# <a name="creating-the-gamepiece-class"></a><span data-ttu-id="7a54e-102">GamePiece クラスの作成</span><span class="sxs-lookup"><span data-stu-id="7a54e-102">Creating the GamePiece Class</span></span>
<span data-ttu-id="7a54e-103">**GamePiece** クラスは、Microsoft XNA ゲーム ピースのイメージの読み込み、ゲーム ピースに関係するマウスの状態の追跡、マウスのキャプチャ、操作と慣性の処理の実行、およびゲーム ピースがビュー ポートの限度に達したときの跳ね返り機能の提供に必要な機能をすべてカプセル化します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-103">The **GamePiece** class encapsulates all the functionality required to load a Microsoft XNA game piece image, track the state of the mouse in relation to the game piece, capture the mouse, provide manipulation and inertia processing, and provide bouncing capability when the game piece reaches the limits of the view port.</span></span>  
  
## <a name="private-members"></a><span data-ttu-id="7a54e-104">プライベート メンバー</span><span class="sxs-lookup"><span data-stu-id="7a54e-104">Private Members</span></span>  
 <span data-ttu-id="7a54e-105">**GamePiece** クラスの上部で、いくつかのプライベート メンバーが宣言されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-105">At the top of the **GamePiece** class, several private members are declared.</span></span>  
  
 <span data-ttu-id="7a54e-106">[!code-csharp[ManipulationXNA#_GamePiece_PrivateMembers](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privatemembers)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-106">[!code-csharp[ManipulationXNA#_GamePiece_PrivateMembers](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privatemembers)]</span></span>  
  
## <a name="public-properties"></a><span data-ttu-id="7a54e-107">パブリック プロパティ</span><span class="sxs-lookup"><span data-stu-id="7a54e-107">Public Properties</span></span>  
 <span data-ttu-id="7a54e-108">これらの 3 つのプライベート メンバーは、パブリック プロパティを介して公開されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-108">Three of these private members are exposed through public properties.</span></span> <span data-ttu-id="7a54e-109">**Scale** と **PieceColor** プロパティを使用すると、アプリケーションはピースのサイズと色をそれぞれ指定することができます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-109">The **Scale** and **PieceColor** properties enable the application to specify the scale and the color of the piece, respectively.</span></span> <span data-ttu-id="7a54e-110">**Bounds** プロパティを公開すると、あるピースが別のピースを重ねて配置する場合など、あるピース自体をレンダリングするために別のピースの境界を使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7a54e-110">The **Bounds** property is exposed to enable one piece to use the bounds of another to render itself, such as when one piece should overlay another.</span></span> <span data-ttu-id="7a54e-111">次のコードは、パブリック プロパティの宣言を示します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-111">The following code shows the declaration of the public properties.</span></span>  
  
 <span data-ttu-id="7a54e-112">[!code-csharp[ManipulationXNA#_GamePiece_PublicProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_publicproperties)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-112">[!code-csharp[ManipulationXNA#_GamePiece_PublicProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_publicproperties)]</span></span>  
  
## <a name="class-constructor"></a><span data-ttu-id="7a54e-113">クラスのコンストラクター</span><span class="sxs-lookup"><span data-stu-id="7a54e-113">Class Constructor</span></span>  
 <span data-ttu-id="7a54e-114">**GamePiece** クラスのコンストラクターは、次のパラメーターを受け入れます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-114">The constructor for the **GamePiece** class accepts the following parameters:</span></span>  
  
-   <span data-ttu-id="7a54e-115">[SpriteBatch](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.aspx) 型。</span><span class="sxs-lookup"><span data-stu-id="7a54e-115">A [SpriteBatch](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.aspx) type.</span></span> <span data-ttu-id="7a54e-116">ここで渡される参照は、プライベート メンバー `spriteBatch` に割り当てられ、ゲーム ピースが自身をレンダリングするときに [SpriteBatch.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.draw.aspx) メソッドにアクセスするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-116">The reference passed here is assigned to the private member `spriteBatch`, and is used to access the [SpriteBatch.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.draw.aspx) method when the game piece renders itself.</span></span> <span data-ttu-id="7a54e-117">さらに、[GraphicsDevice](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.graphicsdevice.aspx) プロパティは、ゲーム ピースに関連付けられた [Texture](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.texture.aspx) オブジェクトの作成や、ゲーム ピースがウィンドウの境界に達したことを検知してピースが跳ね返るようにするための、ビュー ポートのサイズの取得にも使用されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-117">In addition, the [GraphicsDevice](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.graphicsdevice.aspx) property is used to create the [Texture](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.texture.aspx) object associated with the game piece, and to obtain the size of the view port in order to detect when the game piece encounters a window boundary so that the piece can bounce.</span></span>  
  
-   <span data-ttu-id="7a54e-118">ゲーム ピースに使用するイメージのファイル名を指定する文字列。</span><span class="sxs-lookup"><span data-stu-id="7a54e-118">A string that specifies the file name of the image to use for the game piece.</span></span>  
  
 <span data-ttu-id="7a54e-119">また、コンストラクターは、<xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> オブジェクトと <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> オブジェクトを作成し、それらのイベントのイベント ハンドラーを確立します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-119">The constructor also creates a <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object and an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object, and establishes event handlers for their events.</span></span>  
  
 <span data-ttu-id="7a54e-120">次のコードは、**GamePiece** クラスのコンストラクターを示します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-120">The following code shows the constructor for the **GamePiece** class.</span></span>  
  
 <span data-ttu-id="7a54e-121">[!code-csharp[ManipulationXNA#_GamePiece_Constructor](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_constructor)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-121">[!code-csharp[ManipulationXNA#_GamePiece_Constructor](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_constructor)]</span></span>  
  
## <a name="capturing-mouse-input"></a><span data-ttu-id="7a54e-122">マウスの入力のキャプチャ</span><span class="sxs-lookup"><span data-stu-id="7a54e-122">Capturing Mouse Input</span></span>  
 <span data-ttu-id="7a54e-123">**UpdateFromMouse** メソッドは、マウスがゲーム ピースの境界内にある間にマウス ボタンが押されたときに検出するとともに、マウス ボタンが離されたときに検出する役割を務めます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-123">The **UpdateFromMouse** method is responsible for detecting when a mouse button is pressed while the mouse is within the boundaries of the game piece, and for detecting when the mouse button has been released.</span></span>  
  
 <span data-ttu-id="7a54e-124">(マウスがピースの境界内にある間に) マウスの左ボタンを押すと、このメソッドはフラグを設定して、ゲーム ピースがマウスをキャプチャして、操作の処理を開始することを示します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-124">When the left mouse button is pressed (while the mouse is inside the piece boundaries), this method sets a flag to indicate that this game piece has captured the mouse, and begins manipulation processing.</span></span>  
  
 <span data-ttu-id="7a54e-125">操作の処理は、<xref:System.Windows.Input.Manipulations.Manipulator2D> オブジェクトの配列を作成し、それを <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> オブジェクトに渡して開始します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-125">Manipulation processing is started by creating an array of <xref:System.Windows.Input.Manipulations.Manipulator2D> objects and passing them to the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object.</span></span> <span data-ttu-id="7a54e-126">これにより、操作プロセッサがマニピュレーター (この場合は 1 つのマニピュレーター) を評価し、操作イベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-126">This causes the manipulation processor to evaluate the manipulators (in this case a single manipulator), and raise manipulation events.</span></span>  
  
 <span data-ttu-id="7a54e-127">さらに、ドラッグが発生するポイントが保存されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-127">In addition, the point at which the drag is occurring is saved.</span></span> <span data-ttu-id="7a54e-128">これは後の <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> イベントのときに、ゲーム ピースがドラッグ ポイントの背後の線に向かって移動するようにデルタ変換値を調整するために使用します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-128">This is used later during the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event to adjust the delta translation values so that the game piece swings into line behind the drag point.</span></span>  
  
 <span data-ttu-id="7a54e-129">最後に、このメソッドは、マウスのキャプチャの状態を返します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-129">Finally, this method returns the state of the mouse capture.</span></span> <span data-ttu-id="7a54e-130">これにより、[GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) オブジェクトは、複数のゲーム ピースがある場合にキャプチャを管理できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7a54e-130">This enables the [GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) object to manage capturing when there are multiple game pieces.</span></span>  
  
 <span data-ttu-id="7a54e-131">次のコードは、**UpdateFromMouse** メソッドを示しています。</span><span class="sxs-lookup"><span data-stu-id="7a54e-131">The following code shows the **UpdateFromMouse** method.</span></span>  
  
 <span data-ttu-id="7a54e-132">[!code-csharp[ManipulationXNA#_GamePiece_UpdateFromMouse](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_updatefrommouse)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-132">[!code-csharp[ManipulationXNA#_GamePiece_UpdateFromMouse](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_updatefrommouse)]</span></span>  
  
## <a name="processing-manipulations"></a><span data-ttu-id="7a54e-133">操作の処理</span><span class="sxs-lookup"><span data-stu-id="7a54e-133">Processing Manipulations</span></span>  
 <span data-ttu-id="7a54e-134">操作の開始時に、<xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-134">When manipulation begins, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> event is raised.</span></span> <span data-ttu-id="7a54e-135">このイベントのハンドラーは、慣性の処理が発生している場合は停止し、*processInertia* フラグを `false` に設定します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-135">The handler for this event stops inertia processing if it is occurring, and sets the *processInertia* flag to `false`.</span></span>  
  
 <span data-ttu-id="7a54e-136">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationStarted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationstarted)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-136">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationStarted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationstarted)]</span></span>  
  
 <span data-ttu-id="7a54e-137">操作に関連している値が変化するため、<xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-137">As the values associated with the manipulation change, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="7a54e-138">このイベントのハンドラーは、ゲーム ピースの位置と回転の値を変更するイベント引数に渡されるデルタ値を使用します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-138">The handler for this event uses the delta values passed in the event arguments to make changes to the position and rotation values of the game piece.</span></span>  
  
 <span data-ttu-id="7a54e-139">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationdelta)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-139">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationdelta)]</span></span>  
  
 <span data-ttu-id="7a54e-140">操作に関連するすべてのマニピュレーター (この場合は 1 つのマニピュレーター) が削除されると、操作プロセッサは <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> イベントを生成します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-140">When all of the manipulators (in this case, a single manipulator) that are associated with a manipulation are removed, the manipulation processor raises the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> event.</span></span> <span data-ttu-id="7a54e-141">このイベントのハンドラーは、慣性プロセッサの初期速度をイベント引数によって報告された初期速度に設定して慣性の処理を開始するとともに、*processInertia* フラグを `true` に設定します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-141">The handler for this event begins inertia processing by setting the initial velocities of the inertia processor to those reported by the event arguments, and sets the *processInertia* flag to `true`.</span></span>  
  
 <span data-ttu-id="7a54e-142">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationcompleted)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-142">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationcompleted)]</span></span>  
  
## <a name="processing-inertia"></a><span data-ttu-id="7a54e-143">慣性の処理</span><span class="sxs-lookup"><span data-stu-id="7a54e-143">Processing Inertia</span></span>  
 <span data-ttu-id="7a54e-144">慣性の処理では、角速度と直線速度、位置 (変換) 座標、および回転の新しい値を推定します。<xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-144">As inertia processing extrapolates new values for angular and linear velocities, position (translation) coordinates, and rotation, the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="7a54e-145">このイベントのハンドラーは、ゲーム ピースの位置と回転を変更するイベント引数に渡されるデルタ値を使用します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-145">The handler for this event uses the delta values passed in the event arguments to modify the position and rotation of the game piece.</span></span>  
  
 <span data-ttu-id="7a54e-146">新しい座標によって、ゲーム ピースがビュー ポートの境界を越えてしまった場合、慣性の処理の速度が元に戻ります。</span><span class="sxs-lookup"><span data-stu-id="7a54e-146">If the new coordinates result in the game piece moving beyond the view port boundaries, the velocity of the inertia processing is reversed.</span></span> <span data-ttu-id="7a54e-147">これにより、ゲーム ピースが接したビュー ポートの境界から跳ね返ります。</span><span class="sxs-lookup"><span data-stu-id="7a54e-147">This causes the game piece to bounce off the view port boundary that it has encountered.</span></span>  
  
 <span data-ttu-id="7a54e-148">推定が実行している間は、<xref:System.Windows.Input.Manipulations.InertiaProcessor2D> オブジェクトのプロパティを変更できません。</span><span class="sxs-lookup"><span data-stu-id="7a54e-148">You cannot change the properties of an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object while it is running extrapolation.</span></span> <span data-ttu-id="7a54e-149">そのため、X または Y の速度を元に戻す場合、イベント ハンドラーは、最初に <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Complete%2A> メソッドを呼び出して慣性を停止します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-149">Therefore, when reversing the X or Y velocity, the event handler first stops inertia by calling the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Complete%2A> method.</span></span> <span data-ttu-id="7a54e-150">続いて、新しい初期速度値を、(スポンジ動作向けに調整された) 現在の速度値に割り当てます。また、*processInertia* フラグを `true` に設定します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-150">It then assigns the new initial velocity values to be the current velocity values (adjusted for sponge behavior), and sets the *processInertia* flag to `true`.</span></span>  
  
 <span data-ttu-id="7a54e-151">次のコードは、<xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> イベントのイベント ハンドラーを示しています。</span><span class="sxs-lookup"><span data-stu-id="7a54e-151">The following code shows the event handler for the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event.</span></span>  
  
 <span data-ttu-id="7a54e-152">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiadelta)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-152">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiadelta)]</span></span>  
  
 <span data-ttu-id="7a54e-153">慣性の処理が完了すると、慣性プロセッサは <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Completed> イベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-153">When inertia processing is complete, the inertia processor raises the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Completed> event.</span></span> <span data-ttu-id="7a54e-154">このイベントのハンドラーは、*processInertia* フラグを `false` に設定します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-154">The handler for this event sets the *processInertia* flag to `false`.</span></span>  
  
 <span data-ttu-id="7a54e-155">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiacompleted)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-155">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiacompleted)]</span></span>  
  
 <span data-ttu-id="7a54e-156">これまでに提示したロジックで、実際に慣性の推定が発生するものはありません。</span><span class="sxs-lookup"><span data-stu-id="7a54e-156">None of the logic presented so far actually causes inertia extrapolation to occur.</span></span> <span data-ttu-id="7a54e-157">これは、**ProcessInertia** メソッドで実現されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-157">This is accomplished in the **ProcessInertia** method.</span></span> <span data-ttu-id="7a54e-158">このメソッドは、ゲームの更新ループ ([Game.Update](http://msdn.microsoft.com/library/microsoft.xna.framework.game.update.aspx) メソッド) から繰り返し呼び出され、*processInertia* フラグが `true` に設定されていることを確認します。設定されている場合は <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Process%2A> メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-158">This method, which is called repeatedly from the game update loop (the [Game.Update](http://msdn.microsoft.com/library/microsoft.xna.framework.game.update.aspx) method) checks to see if the *processInertia* flag is set to `true`, and if so, calls the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Process%2A> method.</span></span> <span data-ttu-id="7a54e-159">このメソッドを呼び出すと、推定が発生して、<xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> イベントが発生します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-159">Calling this method causes extrapolation to occur, and raises the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event.</span></span>  
  
 <span data-ttu-id="7a54e-160">[!code-csharp[ManipulationXNA#_GamePiece_ProcessInertia](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_processinertia)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-160">[!code-csharp[ManipulationXNA#_GamePiece_ProcessInertia](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_processinertia)]</span></span>  
  
 <span data-ttu-id="7a54e-161">いずれかの描画メソッドのオーバーロードが呼び出されるまで、ゲーム ピースは実際に表示されません。</span><span class="sxs-lookup"><span data-stu-id="7a54e-161">The game piece is not actually rendered until one of the Draw method overloads is called.</span></span> <span data-ttu-id="7a54e-162">このメソッドの最初のオーバー ロードは、ゲームの描画ループから繰り返し呼び出されます ([Game.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.game.draw.aspx) メソッド)。</span><span class="sxs-lookup"><span data-stu-id="7a54e-162">The first overload of this method is called repeatedly from the game draw loop (the [Game.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.game.draw.aspx) method).</span></span> <span data-ttu-id="7a54e-163">これにより、現在の位置、回転、およびスケール ファクターでゲーム ピースが表示されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-163">This renders the game piece with the current position, rotation, and scale factors.</span></span>  
  
 <span data-ttu-id="7a54e-164">[!code-csharp[ManipulationXNA#_GamePiece_Draw](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_draw)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-164">[!code-csharp[ManipulationXNA#_GamePiece_Draw](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_draw)]</span></span>  
  
## <a name="additional-properties"></a><span data-ttu-id="7a54e-165">その他のプロパティ</span><span class="sxs-lookup"><span data-stu-id="7a54e-165">Additional Properties</span></span>  
 <span data-ttu-id="7a54e-166">**GamePiece** クラスによって 3 つのプライベート プロパティが使用されます。</span><span class="sxs-lookup"><span data-stu-id="7a54e-166">Three private properties are used by the **GamePiece** class.</span></span>  
  
1.  <span data-ttu-id="7a54e-167">**Timestamp** – 操作と慣性プロセッサが使用するタイムスタンプ値を取得します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-167">**Timestamp** – Gets a timestamp value to be used by the manipulation and inertia processors.</span></span>  
  
2.  <span data-ttu-id="7a54e-168">**X** – ゲーム ピースの X 座標を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-168">**X** – Gets or sets the X coordinate of the game piece.</span></span> <span data-ttu-id="7a54e-169">設定すると、ヒット テストや、操作プロセッサのピボット位置に使用する境界を調整します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-169">When setting, adjusts the bounds used for hit testing and the pivot location of the manipulation processor.</span></span>  
  
3.  <span data-ttu-id="7a54e-170">**Y** – ゲーム ピースの Y 座標を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-170">**Y** – Gets or sets the Y coordinate of the game piece.</span></span> <span data-ttu-id="7a54e-171">設定すると、ヒット テストや、操作プロセッサのピボット位置に使用する境界を調整します。</span><span class="sxs-lookup"><span data-stu-id="7a54e-171">When setting, adjusts the bounds used for hit testing and the pivot location of the manipulation processor.</span></span>  
  
 <span data-ttu-id="7a54e-172">[!code-csharp[ManipulationXNA#_GamePiece_PrivateProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privateproperties)]</span><span class="sxs-lookup"><span data-stu-id="7a54e-172">[!code-csharp[ManipulationXNA#_GamePiece_PrivateProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privateproperties)]</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7a54e-173">関連項目</span><span class="sxs-lookup"><span data-stu-id="7a54e-173">See Also</span></span>  
 <span data-ttu-id="7a54e-174">[操作と慣性](../../../docs/framework/common-client-technologies/manipulations-and-inertia.md) </span><span class="sxs-lookup"><span data-stu-id="7a54e-174">[Manipulations and Inertia](../../../docs/framework/common-client-technologies/manipulations-and-inertia.md) </span></span>  
 <span data-ttu-id="7a54e-175">[XNA アプリケーションでの操作と慣性の使用](../../../docs/framework/common-client-technologies/use-manipulations-and-inertia-in-an-xna-application.md) </span><span class="sxs-lookup"><span data-stu-id="7a54e-175">[Using Manipulations and Inertia in an XNA Application](../../../docs/framework/common-client-technologies/use-manipulations-and-inertia-in-an-xna-application.md) </span></span>  
 <span data-ttu-id="7a54e-176">[GamePieceCollection クラスの作成](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) </span><span class="sxs-lookup"><span data-stu-id="7a54e-176">[Creating the GamePieceCollection Class](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) </span></span>  
 [<span data-ttu-id="7a54e-177">Game1 クラスの作成</span><span class="sxs-lookup"><span data-stu-id="7a54e-177">Creating the Game1 Class</span></span>](../../../docs/framework/common-client-technologies/creating-the-game1-class.md)

