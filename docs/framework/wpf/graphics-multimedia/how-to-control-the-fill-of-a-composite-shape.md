---
title: '方法 : 複合図形の塗りつぶしを制御する'
ms.date: 03/30/2017
helpviewer_keywords:
- shapes [WPF], composite [WPF], controlling fill
- composite shapes [WPF], controlling fill
- graphics [WPF], composite shapes
- fill [WPF], controlling
ms.assetid: c1c94575-9eca-48a5-a49a-2ec65259f229
ms.openlocfilehash: a9a17434f11f432f6446e09bd853ed0d2f23fbe8
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2018
ms.locfileid: "33563044"
---
# <a name="how-to-control-the-fill-of-a-composite-shape"></a><span data-ttu-id="b5d2b-102">方法 : 複合図形の塗りつぶしを制御する</span><span class="sxs-lookup"><span data-stu-id="b5d2b-102">How to: Control the Fill of a Composite Shape</span></span>
<span data-ttu-id="b5d2b-103"><xref:System.Windows.Media.GeometryGroup.FillRule%2A>のプロパティ、<xref:System.Windows.Media.GeometryGroup>または<xref:System.Windows.Media.PathGeometry>、複合図形を使用して特定の時点のジオメトリの一部であるかどうかを決定する「ルール」を指定します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-103">The <xref:System.Windows.Media.GeometryGroup.FillRule%2A> property of a <xref:System.Windows.Media.GeometryGroup> or a <xref:System.Windows.Media.PathGeometry>, specifies a "rule" which the composite shape uses to determine whether a given point is part of the geometry.</span></span> <span data-ttu-id="b5d2b-104">2 つの値がある<xref:System.Windows.Media.FillRule>:<xref:System.Windows.Media.FillRule.EvenOdd>と<xref:System.Windows.Media.FillRule.Nonzero>です。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-104">There are two possible values for <xref:System.Windows.Media.FillRule>: <xref:System.Windows.Media.FillRule.EvenOdd> and <xref:System.Windows.Media.FillRule.Nonzero>.</span></span> <span data-ttu-id="b5d2b-105">以下のセクションでは、これら 2 つの規則の使用方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-105">The following sections will describe how to use these two rules.</span></span>  
  
 <span data-ttu-id="b5d2b-106">**EvenOdd:** この規則では、ある点から任意の方向に無限に伸びる射線を描画し、その射線が横断する指定した図形のパス セグメントの数をカウントすることにより、その点が塗りつぶし領域の内側にあるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-106">**EvenOdd:** This rule determines whether a point is in the fill region by drawing a ray from that point to infinity in any direction and counting the number of path segments within the given shape that the ray crosses.</span></span> <span data-ttu-id="b5d2b-107">この数値が偶数の場合は、ポイントは内側にあります。偶数の場合は、ポイントは外側にあります。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-107">If this number is odd, the point is inside; if even, the point is outside.</span></span>  
  
 <span data-ttu-id="b5d2b-108">次の XAML が同心円リング (ターゲット) の一連の構成複合図形を作成するなど、 <xref:System.Windows.Media.GeometryGroup.FillRule%2A> 'éý'<xref:System.Windows.Media.FillRule.EvenOdd>です。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-108">For example, the XAML below creates a composite shape made up of a series of concentric rings (target) with a <xref:System.Windows.Media.GeometryGroup.FillRule%2A> set to <xref:System.Windows.Media.FillRule.EvenOdd>.</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#FillRuleEvenOddValue](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/FillRuleExample.xaml#fillruleevenoddvalue)]  
  
 <span data-ttu-id="b5d2b-109">前の例で作成した図を次に示します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-109">The following illustration shows the shape created in the previous example.</span></span>  
  
 <span data-ttu-id="b5d2b-110">![スクリーンショット: EvenOdd の FillRule プロパティ](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenoddfirstone.png "FillRuleEvenOddFirstOne")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-110">![Screenshot: FillRule Property of EvenOdd](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenoddfirstone.png "FillRuleEvenOddFirstOne")</span></span>  
  
 <span data-ttu-id="b5d2b-111">上の図で、中央と 3 番目のリングは塗りつぶされていないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-111">In the illustration above, notice that the center and 3rd ring are not filled.</span></span> <span data-ttu-id="b5d2b-112">これは、これら 2 つのリングの任意の点から描画された射線が、偶数個のセグメントを通過するためです。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-112">This is because a ray drawn from any point within either of those two rings passes through an even number of segments.</span></span> <span data-ttu-id="b5d2b-113">次の図を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-113">See illustration below:</span></span>  
  
 <span data-ttu-id="b5d2b-114">![ダイアグラム: EvenOdd の FillRule プロパティ値](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenodd2.png "FillRuleEvenOdd2")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-114">![Diagram: FillRule property value of EvenOdd](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenodd2.png "FillRuleEvenOdd2")</span></span>  
  
 <span data-ttu-id="b5d2b-115">**NonZero:** この規則では、ある点から任意の方向に無限に伸びる射線を描画し、図形のセグメントがこの射線と交わる場所を調べることにより、その点がパスの塗りつぶし領域の内側にあるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-115">**NonZero:** This rule determines whether a point is in the fill region of the path by drawing a ray from that point to infinity in any direction and then examining the places where a segment of the shape crosses the ray.</span></span> <span data-ttu-id="b5d2b-116">0 からカウントを開始し、パス セグメントが左から右に射線と交わるたびに 1 を加算し、パス セグメントが右から左に射線と交わるたびに 1 を減算します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-116">Starting with a count of zero, add one each time a Segment crosses the ray from left to right and subtract one each time a path segment crosses the ray from right to left.</span></span> <span data-ttu-id="b5d2b-117">交差のカウント後、結果が 0 の場合は、ポイントは、パスの外側にあります。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-117">After counting the crossings, if the result is zero then the point is outside the path.</span></span> <span data-ttu-id="b5d2b-118">それ以外の場合は、内側にあります。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-118">Otherwise, it is inside.</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#FillRuleNonZeroValueEllipseGeometry](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/FillRuleExample.xaml#fillrulenonzerovalueellipsegeometry)]  
  
 <span data-ttu-id="b5d2b-119">上記の値の例を使用して<xref:System.Windows.Media.FillRule.Nonzero>の<xref:System.Windows.Media.GeometryGroup.FillRule%2A>次の図は、その結果。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-119">Using the example above, a value of <xref:System.Windows.Media.FillRule.Nonzero> for <xref:System.Windows.Media.GeometryGroup.FillRule%2A> gives the following illustration as a result:</span></span>  
  
 <span data-ttu-id="b5d2b-120">![スクリーンショット: 0 以外の FillRule 値](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero1.png "FillRuleNonZero1")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-120">![Screenshot: FillRule value of NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero1.png "FillRuleNonZero1")</span></span>  
  
 <span data-ttu-id="b5d2b-121">上の図からわかるように、すべてのリングが塗りつぶされます。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-121">As you can see, all the rings are filled.</span></span> <span data-ttu-id="b5d2b-122">これは、すべてのセグメントが同じ方向で、任意の点から描画された射線は 1 つ以上のセグメントと交わり、交差の合計が 0 にならないためです。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-122">This is because all the segments are running in the same direction and so a ray drawn from any point will cross one or more segments and the sum of the crossings will not equal zero.</span></span> <span data-ttu-id="b5d2b-123">たとえば、次の図で、赤い矢印はセグメントが描画されている方向を表し、白い矢印は最も内側のリング内にある点から伸びる任意の射線を表しています。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-123">For example, in the illustration below, the red arrows represent the direction the segments are drawn and the white arrow represents an arbitrary ray running from a point in the innermost ring.</span></span> <span data-ttu-id="b5d2b-124">値 0 から開始し、セグメントは左から右に射線と交わるため、射線が交わるセグメントごとに値 1 が加算されます。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-124">Starting with a value of zero, for each segment that the ray crosses, a value of one is added because the segment crosses the ray from left to right.</span></span>  
  
 <span data-ttu-id="b5d2b-125">![ダイアグラム: 0 以外と等しい FillRule プロパティ値](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero2.png "FillRuleNonZero2")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-125">![Diagram: FillRule property value equal to NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero2.png "FillRuleNonZero2")</span></span>  
  
 <span data-ttu-id="b5d2b-126">動作を詳しく説明するために<xref:System.Windows.Media.FillRule.Nonzero>規則異なる方向で実行されているセグメントを含む複雑な図形が必要です。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-126">To better demonstrate the behavior of <xref:System.Windows.Media.FillRule.Nonzero> rule a more complex shape with segments running in different directions is required.</span></span> <span data-ttu-id="b5d2b-127">次の XAML コードで作成する点を除いて前の例と類似した図形を作成、<xref:System.Windows.Media.PathGeometry>ではなく、<xref:System.Windows.Media.EllipseGeometry>同心円を完全にクローズ 4 つの同心円円弧を作成するではなく、します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-127">The XAML code below creates a similar shape as the previous example except that it is created with a <xref:System.Windows.Media.PathGeometry> rather then a <xref:System.Windows.Media.EllipseGeometry> which creates four concentric arcs rather then fully closed concentric circles.</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#FillRuleNonZeroValuePathGeometry](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/FillRuleExample.xaml#fillrulenonzerovaluepathgeometry)]  
  
 <span data-ttu-id="b5d2b-128">前の例で作成した図を次に示します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-128">The following illustration shows the shape created in the previous example.</span></span>  
  
 <span data-ttu-id="b5d2b-129">![スクリーンショット: 0 以外の FillRule プロパティ値](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero3.png "FillRuleNonZero3")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-129">![Screenshot: FillRule property value of NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero3.png "FillRuleNonZero3")</span></span>  
  
 <span data-ttu-id="b5d2b-130">中央から 3 番目の円弧が塗りつぶされていないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-130">Notice that the third arc from the center is not filled.</span></span> <span data-ttu-id="b5d2b-131">その理由を次の図に示します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-131">The illustration below shows why this is.</span></span> <span data-ttu-id="b5d2b-132">この図で、赤い矢印はセグメントが描画されている方向を表しています。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-132">In the illustration, the red arrows represent the direction the segments are drawn.</span></span> <span data-ttu-id="b5d2b-133">2 つの白い矢印は、"塗りつぶされていない" 領域内の点から外に向かって伸びる、2 本の任意の射線を表しています。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-133">The two white arrows represent two arbitrary rays that move out from a point in the "non-filled" region.</span></span> <span data-ttu-id="b5d2b-134">この図からわかるように、指定された射線がパス内でセグメントと交わることによる値の合計は 0 です。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-134">As can be seen from the illustration, the sum of the values from a given ray crossing the segments in its path is zero.</span></span> <span data-ttu-id="b5d2b-135">前に定義したように、合計が 0 となるのは、その点がジオメトリの一部でない (塗りつぶしに含まれない) ことを意味し、合計が 0 で*ない*場合 (負の値を含む) は、その点がジオメトリの一部であることを意味しています。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-135">As defined above, a sum of zero means that the point is not part of the geometry (not part of the fill) while a sum that is *not* zero, including a negative value, is part of the geometry.</span></span>  
  
 <span data-ttu-id="b5d2b-136">![ダイアグラム: 0 以外の FillRule プロパティ値](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero4.png "FillRuleNonZero4")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-136">![Diagram: FillRule property value of NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero4.png "FillRuleNonZero4")</span></span>  
  
 <span data-ttu-id="b5d2b-137">**注:** の目的で<xref:System.Windows.Media.FillRule>、すべての図形が終了と見なされます。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-137">**Note:** For the purposes of <xref:System.Windows.Media.FillRule>, all shapes are considered closed.</span></span> <span data-ttu-id="b5d2b-138">セグメントにすき間がある場合は、架空の線を描画して、そのすき間を閉じます。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-138">If there is a gap in a segment, draw an imaginary line to close it.</span></span> <span data-ttu-id="b5d2b-139">上の例では、リングに小さなすき間があります。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-139">In the example above, there are small gaps in the rings.</span></span> <span data-ttu-id="b5d2b-140">この場合、このすき間を通る射線は、別の方向に伸びる射線とは異なる結果を生じると思えるかもしれません。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-140">Given this, one might expect a ray that runs through the gap to give a different result then a ray running in another direction.</span></span> <span data-ttu-id="b5d2b-141">このようなギャップと「虚数セグメント」のいずれかの拡大の図を次に示します (セグメントを適用する目的で描画される、 <xref:System.Windows.Media.FillRule>) を終了します。</span><span class="sxs-lookup"><span data-stu-id="b5d2b-141">Below is an enlarged illustration of one of these gaps and the "imaginary segment" (segment that is drawn for purposes of applying the <xref:System.Windows.Media.FillRule>) that closes it.</span></span>  
  
 <span data-ttu-id="b5d2b-142">![ダイアグラム: FillRule の場合、セグメントは常に閉じられる](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleclosedshapes.png "FillRuleClosedShapes")</span><span class="sxs-lookup"><span data-stu-id="b5d2b-142">![Diagram: For FillRule, segments are always closed](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleclosedshapes.png "FillRuleClosedShapes")</span></span>  
  
## <a name="example"></a><span data-ttu-id="b5d2b-143">例</span><span class="sxs-lookup"><span data-stu-id="b5d2b-143">Example</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b5d2b-144">関連項目</span><span class="sxs-lookup"><span data-stu-id="b5d2b-144">See Also</span></span>  
 [<span data-ttu-id="b5d2b-145">複合図形を作成する</span><span class="sxs-lookup"><span data-stu-id="b5d2b-145">Create a Composite Shape</span></span>](../../../../docs/framework/wpf/graphics-multimedia/how-to-create-a-composite-shape.md)  
 [<span data-ttu-id="b5d2b-146">ジオメトリの概要</span><span class="sxs-lookup"><span data-stu-id="b5d2b-146">Geometry Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/geometry-overview.md)
