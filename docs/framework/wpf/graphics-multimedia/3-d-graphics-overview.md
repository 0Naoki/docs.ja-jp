---
title: 3-D グラフィックスの概要
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- 3-D graphics [WPF]
- graphics [WPF], 3-D
ms.assetid: 67f31ed4-e36b-4b02-9889-dcce245d7afc
ms.openlocfilehash: 48f14ff145ad35dae3ba960191d34360cbec6173
ms.sourcegitcommit: d6e27023aeaffc4b5a3cb4b88685018d6284ada4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/09/2019
ms.locfileid: "67664102"
---
# <a name="3-d-graphics-overview"></a><span data-ttu-id="49388-102">3-D グラフィックスの概要</span><span class="sxs-lookup"><span data-stu-id="49388-102">3-D Graphics Overview</span></span>
<a name="introduction"></a> <span data-ttu-id="49388-103">3-D 機能[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]描画、変換、およびマークアップと手続き型の両方のコードでの 3-D グラフィックスをアニメーション化することができます。</span><span class="sxs-lookup"><span data-stu-id="49388-103">The 3-D functionality in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] enables developers to draw, transform, and animate 3-D graphics in both markup and procedural code.</span></span> <span data-ttu-id="49388-104">開発者は、豊富なコントロールを作成、データの複雑なイラストを指定するか、アプリケーションのインターフェイスのユーザー エクスペリエンスを向上するには 2-d および 3-D グラフィックスを組み合わせることができます。</span><span class="sxs-lookup"><span data-stu-id="49388-104">Developers can combine 2-D and 3-D graphics to create rich controls, provide complex illustrations of data, or enhance the user experience of an application's interface.</span></span> <span data-ttu-id="49388-105">3-D のサポート[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]フル装備のゲーム開発プラットフォームを提供するものではありません。</span><span class="sxs-lookup"><span data-stu-id="49388-105">3-D support in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is not designed to provide a full-featured game-development platform.</span></span> <span data-ttu-id="49388-106">このトピックでは 3-D 機能の概要、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]グラフィックス システム。</span><span class="sxs-lookup"><span data-stu-id="49388-106">This topic provides an overview of 3-D functionality in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics system.</span></span>  

<a name="threed_in_2d"></a>   
## <a name="3-d-in-a-2-d-container"></a><span data-ttu-id="49388-107">2-D コンテナー内の 3-D</span><span class="sxs-lookup"><span data-stu-id="49388-107">3-D in a 2-D Container</span></span>  
 <span data-ttu-id="49388-108">3-D グラフィックス コンテンツ[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]は、要素にカプセル化<xref:System.Windows.Controls.Viewport3D>、2 次元要素の構造に含めることができます。</span><span class="sxs-lookup"><span data-stu-id="49388-108">3-D graphics content in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is encapsulated in an element, <xref:System.Windows.Controls.Viewport3D>, that can participate in the two-dimensional element structure.</span></span> <span data-ttu-id="49388-109">グラフィックス システムは<xref:System.Windows.Controls.Viewport3D>などの他の多くの 2 次元のビジュアル要素として[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="49388-109">The graphics system treats <xref:System.Windows.Controls.Viewport3D> as a two-dimensional visual element like many others in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="49388-110"><xref:System.Windows.Controls.Viewport3D> ウィンドウとして機能 — ビューポート — 3 次元シーンです。</span><span class="sxs-lookup"><span data-stu-id="49388-110"><xref:System.Windows.Controls.Viewport3D> functions as a window—a viewport—into a three-dimensional scene.</span></span> <span data-ttu-id="49388-111">より正確には、3-D シーンが投影されるサーフェイスです。</span><span class="sxs-lookup"><span data-stu-id="49388-111">More accurately, it is a surface on which a 3-D scene is projected.</span></span>  
  
 <span data-ttu-id="49388-112">従来の 2-d アプリケーションで使用して<xref:System.Windows.Controls.Viewport3D>グリッドまたはキャンバスなどの別のコンテナー要素と同様です。</span><span class="sxs-lookup"><span data-stu-id="49388-112">In a conventional 2-D application, use <xref:System.Windows.Controls.Viewport3D> as you would another container element like Grid or Canvas.</span></span>  <span data-ttu-id="49388-113">使用できますが、<xref:System.Windows.Controls.Viewport3D>同じシーン グラフ内の 2-d 描画オブジェクトすることはできません相互に貫通させる内の 2-d および 3-D オブジェクト、<xref:System.Windows.Controls.Viewport3D>します。</span><span class="sxs-lookup"><span data-stu-id="49388-113">Although you can use <xref:System.Windows.Controls.Viewport3D> with other 2-D drawing objects in the same scene graph, you cannot interpenetrate 2-D and 3-D objects within a <xref:System.Windows.Controls.Viewport3D>.</span></span>  <span data-ttu-id="49388-114">このトピックでは、内での 3-D グラフィックスを描画する方法について重点的は、<xref:System.Windows.Controls.Viewport3D>します。</span><span class="sxs-lookup"><span data-stu-id="49388-114">This topic will focus on how to draw 3-D graphics inside the <xref:System.Windows.Controls.Viewport3D>.</span></span>  
  
<a name="coord_space"></a>   
## <a name="3-d-coordinate-space"></a><span data-ttu-id="49388-115">3-D 座標空間</span><span class="sxs-lookup"><span data-stu-id="49388-115">3-D Coordinate Space</span></span>  
 <span data-ttu-id="49388-116">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 2-d グラフィックス用の座標系は、レンダリング領域 (通常は画面) の左上の送信元を検出します。</span><span class="sxs-lookup"><span data-stu-id="49388-116">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] coordinate system for 2-D graphics locates the origin in the upper left of the rendering area (typically the screen).</span></span> <span data-ttu-id="49388-117">2-D システムでは、x 軸の正の値は右に向かって大きくなり、y 軸の正の値は下に向かって大きくなります。</span><span class="sxs-lookup"><span data-stu-id="49388-117">In the 2-D system, positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>  <span data-ttu-id="49388-118">3-D 座標系でただし、原点にあるレンダリング領域の中央右に向かって x 軸の正の値は上に向かって、y 軸の正の値と、原点から手前に向かって z 軸の正の値をビューアーに向く。</span><span class="sxs-lookup"><span data-stu-id="49388-118">In the 3-D coordinate system, however, the origin is located in the center of the rendering area, with positive x-axis values proceeding to the right but positive y-axis values proceeding upward instead, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span>  
  
 <span data-ttu-id="49388-119">![座標系](./media/coordsystem-1.png "CoordSystem 1")</span><span class="sxs-lookup"><span data-stu-id="49388-119">![Coordinate systems](./media/coordsystem-1.png "CoordSystem-1")</span></span>  
<span data-ttu-id="49388-120">従来の 2-D および 3-D 座標系の表現</span><span class="sxs-lookup"><span data-stu-id="49388-120">Conventional 2-D and 3-D coordinate system representations</span></span>  
  
 <span data-ttu-id="49388-121">これらの軸によって定義される空間は、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 内の 3-D オブジェクトのための静止した基準枠です。</span><span class="sxs-lookup"><span data-stu-id="49388-121">The space defined by these axes is the stationary frame of reference for 3-D objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="49388-122">この空間内にモデルを構築し、それらを表示するためのライトとカメラを作成するときは、この静止した基準枠 ("ワールド空間") と、モデルに変換を適用するときにモデルごとに作成するローカルな基準枠を区別することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="49388-122">As you build models in this space and create lights and cameras to view them, it's helpful to distinguish this stationary frame of reference, or "world space," from the local frame of reference you create for each model when you apply transformations to it.</span></span> <span data-ttu-id="49388-123">また、ワールド空間内のオブジェクトは、ライトとカメラの設定により、まったく違って見えたり、またはまったく見えなくなることがありますが、カメラの位置によってワールド空間内のオブジェクトの場所が変化することはないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="49388-123">Remember also that objects in world space might look entirely different, or not be visible at all, depending on light and camera settings, but the position of the camera does not change the location of objects in world space.</span></span>  
  
<a name="cameras"></a>   
## <a name="cameras-and-projections"></a><span data-ttu-id="49388-124">カメラと投影</span><span class="sxs-lookup"><span data-stu-id="49388-124">Cameras and Projections</span></span>  
 <span data-ttu-id="49388-125">2 次元で作業する開発者は、2 次元の画面に描画プリミティブを配置に慣れています。</span><span class="sxs-lookup"><span data-stu-id="49388-125">Developers who work in 2-D are accustomed to positioning drawing primitives on a two-dimensional screen.</span></span> <span data-ttu-id="49388-126">3-D シーンを作成するときに、3-D オブジェクトの 2 D 表現を実際に作成することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="49388-126">When you create a 3-D scene, it's important to remember that you are really creating a 2-D representation of 3-D objects.</span></span> <span data-ttu-id="49388-127">3-D シーンは観察者の視点によって異なる、ためには、そのポイントのビューを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="49388-127">Because a 3-D scene looks different depending on the onlooker's point of view, you must specify that point of view.</span></span> <span data-ttu-id="49388-128"><xref:System.Windows.Media.Media3D.Camera>クラスでは、3-D シーンのこのポイントの表示を指定できます。</span><span class="sxs-lookup"><span data-stu-id="49388-128">The <xref:System.Windows.Media.Media3D.Camera> class allows you to specify this point of view for a 3-D scene.</span></span>  
  
 <span data-ttu-id="49388-129">2-d 画面で、3-D シーンを表現する方法を理解する別の方法は、表示サーフェイスへの投影としてシーンを記述することです。</span><span class="sxs-lookup"><span data-stu-id="49388-129">Another way to understand how a 3-D scene is represented on a 2-D surface is by describing the scene as a projection onto the viewing surface.</span></span> <span data-ttu-id="49388-130"><xref:System.Windows.Media.Media3D.ProjectionCamera>異なる投影と観察者が 3-D モデルを表示する方法を変更するには、そのプロパティを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="49388-130">The <xref:System.Windows.Media.Media3D.ProjectionCamera> allows you to specify different projections and their properties to change how the onlooker sees 3-D models.</span></span> <span data-ttu-id="49388-131">A<xref:System.Windows.Media.Media3D.PerspectiveCamera>シーンを短縮遠近法で描画する投影を指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-131">A <xref:System.Windows.Media.Media3D.PerspectiveCamera> specifies a projection that foreshortens the scene.</span></span>  <span data-ttu-id="49388-132">つまり、<xref:System.Windows.Media.Media3D.PerspectiveCamera>勾配消失点透視投影を提供します。</span><span class="sxs-lookup"><span data-stu-id="49388-132">In other words, the <xref:System.Windows.Media.Media3D.PerspectiveCamera> provides vanishing-point perspective.</span></span>  <span data-ttu-id="49388-133">シーンの座標空間内でのカメラの位置、カメラの方向と視野、およびシーン内での "上" の方向を定義するベクトルを指定できます。</span><span class="sxs-lookup"><span data-stu-id="49388-133">You can specify the position of the camera in the coordinate space of the scene, the direction and field of view for the camera, and a vector that defines the direction of "up" in the scene.</span></span> <span data-ttu-id="49388-134">次の図は、<xref:System.Windows.Media.Media3D.PerspectiveCamera>のプロジェクション。</span><span class="sxs-lookup"><span data-stu-id="49388-134">The following diagram illustrates the <xref:System.Windows.Media.Media3D.PerspectiveCamera>'s projection.</span></span>  
  
 <span data-ttu-id="49388-135"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A>と<xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A>プロパティの<xref:System.Windows.Media.Media3D.ProjectionCamera>カメラの投影の範囲を制限します。</span><span class="sxs-lookup"><span data-stu-id="49388-135">The <xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> and <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> properties of <xref:System.Windows.Media.Media3D.ProjectionCamera> limit the range of the camera's projection.</span></span> <span data-ttu-id="49388-136">カメラはシーン内の任意の場所に配置できるため、カメラをモデルの内部またはモデルの非常に近くに実際に配置することができ、オブジェクトを正しく識別するのが困難になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="49388-136">Because cameras can be located anywhere in the scene, it's possible for the camera to be actually positioned inside a model or very near a model, making it hard to distinguish objects properly.</span></span>  <span data-ttu-id="49388-137"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> これを超えるオブジェクトが描画しないカメラからの最小距離を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="49388-137"><xref:System.Windows.Media.Media3D.ProjectionCamera.NearPlaneDistance%2A> allows you to specify a minimum distance from the camera beyond which objects will not be drawn.</span></span>  <span data-ttu-id="49388-138">逆に、<xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A>遠すぎるを認識できるオブジェクトをシーンに含まれませんが、これを超えるオブジェクトを描画しないが、カメラからの距離を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="49388-138">Conversely, <xref:System.Windows.Media.Media3D.ProjectionCamera.FarPlaneDistance%2A> lets you specify a distance from the camera beyond which objects will not be drawn, which ensures that objects too far away to be recognizable won't be included in the scene.</span></span>  
  
 <span data-ttu-id="49388-139">![カメラのセットアップ](./media/coordsystem-6.png "CoordSystem 6")</span><span class="sxs-lookup"><span data-stu-id="49388-139">![Camera setup](./media/coordsystem-6.png "CoordSystem-6")</span></span>  
<span data-ttu-id="49388-140">カメラの位置</span><span class="sxs-lookup"><span data-stu-id="49388-140">Camera position</span></span>  
  
 <span data-ttu-id="49388-141"><xref:System.Windows.Media.Media3D.OrthographicCamera> 2-d ビジュアル サーフェイスへの 3-D モデルの正投影を指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-141"><xref:System.Windows.Media.Media3D.OrthographicCamera> specifies an orthogonal projection of a 3-D model to a 2-D visual surface.</span></span> <span data-ttu-id="49388-142">他のカメラと同じように、位置、視線方向、および "上" の向きを指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-142">Like other cameras, it specifies a position, viewing direction, and "upward" direction.</span></span> <span data-ttu-id="49388-143">異なり<xref:System.Windows.Media.Media3D.PerspectiveCamera>、ただし、<xref:System.Windows.Media.Media3D.OrthographicCamera>遠近法を含まない射影について説明します。</span><span class="sxs-lookup"><span data-stu-id="49388-143">Unlike <xref:System.Windows.Media.Media3D.PerspectiveCamera>, however, <xref:System.Windows.Media.Media3D.OrthographicCamera> describes a projection that does not include perspective foreshortening.</span></span> <span data-ttu-id="49388-144">つまり、<xref:System.Windows.Media.Media3D.OrthographicCamera>辺がカメラの位置で辺を満たす 1 つではなく、並列の表示ボックスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="49388-144">In other words, <xref:System.Windows.Media.Media3D.OrthographicCamera> describes a viewing box whose sides are parallel, instead of one whose sides meet in a point at the camera.</span></span> <span data-ttu-id="49388-145">使用して表示すると、次の図は、同じモデル<xref:System.Windows.Media.Media3D.PerspectiveCamera>と<xref:System.Windows.Media.Media3D.OrthographicCamera>します。</span><span class="sxs-lookup"><span data-stu-id="49388-145">The following image shows the same model as viewed using <xref:System.Windows.Media.Media3D.PerspectiveCamera> and <xref:System.Windows.Media.Media3D.OrthographicCamera>.</span></span>  
  
 <span data-ttu-id="49388-146">![正投影と透視投影](./media/camera-projections4.png "Camera_projections4")</span><span class="sxs-lookup"><span data-stu-id="49388-146">![Orthographic and perspective projection](./media/camera-projections4.png "Camera_projections4")</span></span>  
<span data-ttu-id="49388-147">透視投影と正投影</span><span class="sxs-lookup"><span data-stu-id="49388-147">Perspective and Orthographic Projections</span></span>  
  
 <span data-ttu-id="49388-148">次のコードでは、カメラの一般的な設定を示します。</span><span class="sxs-lookup"><span data-stu-id="49388-148">The following code shows some typical camera settings.</span></span>  
  
 [!code-csharp[3dgallery_procedural_snip#Basic3DShapeCodeExampleInline1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DGallery_procedural_snip/CSharp/Basic3DShapeExample.cs#basic3dshapecodeexampleinline1)]
 [!code-vb[3dgallery_procedural_snip#Basic3DShapeCodeExampleInline1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DGallery_procedural_snip/visualbasic/basic3dshapeexample.vb#basic3dshapecodeexampleinline1)]  
  
<a name="models_meshes"></a>   
## <a name="model-and-mesh-primitives"></a><span data-ttu-id="49388-149">モデルとメッシュ プリミティブ</span><span class="sxs-lookup"><span data-stu-id="49388-149">Model and Mesh Primitives</span></span>  
  
 <span data-ttu-id="49388-150"><xref:System.Windows.Media.Media3D.Model3D> ジェネリック 3-D オブジェクトを表す抽象基本クラス。</span><span class="sxs-lookup"><span data-stu-id="49388-150"><xref:System.Windows.Media.Media3D.Model3D> is the abstract base class that represents a generic 3-D object.</span></span> <span data-ttu-id="49388-151">3-D シーンを構築する一部のオブジェクトを表示する必要があると、シーン グラフを構成するオブジェクトから派生<xref:System.Windows.Media.Media3D.Model3D>します。</span><span class="sxs-lookup"><span data-stu-id="49388-151">To build a 3-D scene, you need some objects to view, and the objects that make up the scene graph derive from <xref:System.Windows.Media.Media3D.Model3D>.</span></span> <span data-ttu-id="49388-152">現時点では、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]でモデリング ジオメトリをサポートする<xref:System.Windows.Media.Media3D.GeometryModel3D>します。</span><span class="sxs-lookup"><span data-stu-id="49388-152">Currently, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supports modeling geometries with <xref:System.Windows.Media.Media3D.GeometryModel3D>.</span></span> <span data-ttu-id="49388-153"><xref:System.Windows.Media.Media3D.GeometryModel3D.Geometry%2A>このモデルのプロパティには、メッシュがプリミティブ。</span><span class="sxs-lookup"><span data-stu-id="49388-153">The <xref:System.Windows.Media.Media3D.GeometryModel3D.Geometry%2A> property of this model takes a mesh primitive.</span></span>  
  
 <span data-ttu-id="49388-154">モデルを構築するには、最初にプリミティブ (メッシュ) を作成します。</span><span class="sxs-lookup"><span data-stu-id="49388-154">To build a model, begin by building a primitive, or mesh.</span></span> <span data-ttu-id="49388-155">3-D プリミティブは、1 つの 3-D エンティティを形成する頂点の集合です。</span><span class="sxs-lookup"><span data-stu-id="49388-155">A 3-D primitive is a collection of vertices that form a single 3-D entity.</span></span> <span data-ttu-id="49388-156">ほとんどの 3-D システムが最も簡単な閉じた図形をモデル化されたプリミティブを提供します。 3 つの頂点で定義された三角形。</span><span class="sxs-lookup"><span data-stu-id="49388-156">Most 3-D systems provide primitives modeled on the simplest closed figure: a triangle defined by three vertices.</span></span>  <span data-ttu-id="49388-157">三角形の 3 つの頂点は同一平面上にあるため、三角形の追加を続けて、メッシュと呼ばれる複雑な図形をモデル化できます。</span><span class="sxs-lookup"><span data-stu-id="49388-157">Because the three points of a triangle are coplanar, you can continue adding triangles in order to model more complex shapes, called meshes.</span></span>  
  
 <span data-ttu-id="49388-158">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3-D システムは、現在、<xref:System.Windows.Media.Media3D.MeshGeometry3D>クラスは、ジオメトリを指定できます。 球体や立方フォームなどのサポートの定義済みの 3-D プリミティブでは現在はできません。</span><span class="sxs-lookup"><span data-stu-id="49388-158">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3-D system currently provides the <xref:System.Windows.Media.Media3D.MeshGeometry3D> class, which allows you to specify any geometry; it does not currently support predefined 3-D primitives like spheres and cubic forms.</span></span> <span data-ttu-id="49388-159">作成を開始、<xref:System.Windows.Media.Media3D.MeshGeometry3D>として三角形の頂点のリストを指定することでその<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-159">Begin creating a <xref:System.Windows.Media.Media3D.MeshGeometry3D> by specifying a list of triangle vertices as its <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> property.</span></span> <span data-ttu-id="49388-160">各頂点として指定された、<xref:System.Windows.Media.Media3D.Point3D>します。</span><span class="sxs-lookup"><span data-stu-id="49388-160">Each vertex is specified as a <xref:System.Windows.Media.Media3D.Point3D>.</span></span>  <span data-ttu-id="49388-161">([!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] では、各頂点の座標を表す 3 組の数値のリストとして、このプロパティを指定します)。ジオメトリによっては、メッシュが多くの三角形で構成され、その一部が同じ角 (頂点) を共有する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="49388-161">(In [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)], specify this property as a list of numbers grouped in threes that represent the coordinates of each vertex.) Depending on its geometry, your mesh might be composed of many triangles, some of which share the same corners (vertices).</span></span> <span data-ttu-id="49388-162">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] でメッシュを正しく描画するには、どの頂点がどの三角形によって共有されているのかということに関する情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="49388-162">To draw the mesh correctly, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] needs information about which vertices are shared by which triangles.</span></span> <span data-ttu-id="49388-163">使用した三角形のインデックスの一覧を指定することでこの情報を提供する、<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-163">You provide this information by specifying a list of triangle indices with the <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> property.</span></span> <span data-ttu-id="49388-164">この一覧で、ポイントが指定された順序を指定します、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>リストが三角形を決定します。</span><span class="sxs-lookup"><span data-stu-id="49388-164">This list specifies the order in which the points specified in the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list will determine a triangle.</span></span>  
  
 [!code-xaml[basic3d#Basic3DXAML3DN3](~/samples/snippets/xaml/VS_Snippets_Wpf/Basic3D/XAML/Window1.xaml#basic3dxaml3dn3)]  
  
 <span data-ttu-id="49388-165">上記の例では、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>リストは、キューブの形のメッシュを定義する 8 個の頂点を指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-165">In the preceding example, the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list specifies eight vertices to define a cube-shaped mesh.</span></span> <span data-ttu-id="49388-166"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>プロパティが 3 つのインデックスの 12 個のグループの一覧を指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-166">The <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> property specifies a list of twelve groups of three indices.</span></span>  <span data-ttu-id="49388-167">リストの各番号へのオフセットを指す、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>一覧。</span><span class="sxs-lookup"><span data-stu-id="49388-167">Each number in the list refers to an offset into the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list.</span></span>  <span data-ttu-id="49388-168">指定された最初の 3 つの頂点など、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>リストは (1,1,0) (0,1,0) と (0,0,0)。</span><span class="sxs-lookup"><span data-stu-id="49388-168">For example, the first three vertices specified by the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list are (1,1,0), (0,1,0), and (0,0,0).</span></span> <span data-ttu-id="49388-169">指定された最初の 3 つのインデックス、<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>リストは 0、2、および 1、第 3 に、最初に対応し、2 番目の点、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>一覧。</span><span class="sxs-lookup"><span data-stu-id="49388-169">The first three indices specified by the <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A> list are 0, 2, and 1, which correspond to the first, third, and second points in the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A> list.</span></span> <span data-ttu-id="49388-170">つまり、この立方体モデルを構成する最初の三角形は、(1,1,0)、(0,1,0)、(0,0,0) から作成されます。残りの 11 個の三角形も同じようにして決定されます。</span><span class="sxs-lookup"><span data-stu-id="49388-170">As a result, the first triangle that makes up the cube model will be composed from (1,1,0) to (0,1,0) to  (0,0,0), and the remaining eleven triangles will be determined similarly.</span></span>  
  
 <span data-ttu-id="49388-171">値を指定して、モデルの定義を続行することができます、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A>と<xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-171">You can continue defining the model by specifying values for the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> and <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> properties.</span></span>  <span data-ttu-id="49388-172">グラフィックス システムがモデルのサーフェイスをレンダリングするには、特定の三角形において面が向いている方向に関する情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="49388-172">To render the surface of the model, the graphics system needs information about which direction the surface is facing at any given triangle.</span></span> <span data-ttu-id="49388-173">この情報を使って、モデルの照明の計算が行われます。光源に正対しているサーフェイスは、光源に対して角度のあるサーフェスより明るくなります。</span><span class="sxs-lookup"><span data-stu-id="49388-173">It uses this information to make lighting calculations for the model: surfaces that face directly towards a light source appear brighter than those angled away from the light.</span></span> <span data-ttu-id="49388-174">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]は位置座標を使って既定の法線ベクトルを決定できますが、曲面の外観を近似する別の法線ベクトルを指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="49388-174">Though the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can determine default normal vectors by using the position coordinates, you can also specify different normal vectors to approximate the appearance of curved surfaces.</span></span>  
  
 <span data-ttu-id="49388-175"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>プロパティのコレクションを指定する<xref:System.Windows.Point>メッシュの頂点に対するテクスチャの描画方法を決定する座標をマップする方法をグラフィックス システムに指示します。</span><span class="sxs-lookup"><span data-stu-id="49388-175">The <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> property specifies a collection of <xref:System.Windows.Point>s that tell the graphics system how to map the coordinates that determine how a texture is drawn to the vertices of the mesh.</span></span> <span data-ttu-id="49388-176"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> 0 ~ ~ 1 の値として指定されます。</span><span class="sxs-lookup"><span data-stu-id="49388-176"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A> are specified as a value between zero and 1, inclusive.</span></span>  <span data-ttu-id="49388-177">同様、<xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A>プロパティ、グラフィックス システムは、テクスチャ座標の既定ですが、繰り返しのパターンの一部を含むテクスチャのマッピングを制御するさまざまなテクスチャ座標を設定することもできますを計算できます。</span><span class="sxs-lookup"><span data-stu-id="49388-177">As with the <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A> property, the graphics system can calculate default texture coordinates, but you might choose to set different texture coordinates to control the mapping of a texture that includes part of a repeating pattern, for example.</span></span> <span data-ttu-id="49388-178">テクスチャ座標について詳しくは、マネージド Direct3D SDK の後続のトピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="49388-178">More information about texture coordinates can be found in subsequent topics or in the Managed Direct3D SDK.</span></span>  
  
 <span data-ttu-id="49388-179">次の例では、手続き型コードで立方体モデルの 1 つの面を作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="49388-179">The following example shows how to create one face of the cube model in procedural code.</span></span> <span data-ttu-id="49388-180">立方体全体を単一の GeometryModel3D として描画できることに注意してください。この例では、後で各面に異なるテクスチャを適用するため、個別のモデルとして立方体の面を描画します。</span><span class="sxs-lookup"><span data-stu-id="49388-180">Note that you can draw the entire cube as a single GeometryModel3D; this example draws the cube's face as a distinct model in order to apply separate textures to each face later.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN6](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn6)]
 [!code-vb[3doverview#3DOverview3DN6](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn6)]  
  
 [!code-csharp[3doverview#3DOverview3DN7](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn7)]
 [!code-vb[3doverview#3DOverview3DN7](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn7)]  
  
<a name="materials"></a>   
## <a name="applying-materials-to-the-model"></a><span data-ttu-id="49388-181">モデルへのマテリアルの適用</span><span class="sxs-lookup"><span data-stu-id="49388-181">Applying Materials to the Model</span></span>  
  
 <span data-ttu-id="49388-182">メッシュが 3 次元のオブジェクトのように見えるには、頂点と三角形によって定義されたサーフェイスをカバーするようにテクスチャを適用し、カメラで照明および投影できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="49388-182">For a mesh to look like a three-dimensional object, it must have an applied texture to cover the surface defined by its vertices and triangles so it can be lit and projected by the camera.</span></span> <span data-ttu-id="49388-183">2-d でを使用して、<xref:System.Windows.Media.Brush>色、パターン、グラデーション、またはその他のビジュアル コンテンツを画面の領域に適用するクラス。</span><span class="sxs-lookup"><span data-stu-id="49388-183">In 2-D, you use the <xref:System.Windows.Media.Brush> class to apply colors, patterns, gradients, or other visual content to areas of the screen.</span></span>  <span data-ttu-id="49388-184">ただし、3-D オブジェクトの外観は、それらに適用されたパターンまたは色のだけでなく、照明モデルの関数です。</span><span class="sxs-lookup"><span data-stu-id="49388-184">The appearance of 3-D objects, however, is a function of the lighting model, not just of the color or pattern applied to them.</span></span> <span data-ttu-id="49388-185">現実世界のオブジェクトは、サーフェイスの質によって光の反射が異なります。光沢のあるサーフェイスの見た目は荒くて艶のないサーフェイスとは異なり、光を吸収するオブジェクトや反射するオブジェクトがあります。</span><span class="sxs-lookup"><span data-stu-id="49388-185">Real-world objects reflect light differently depending on the quality of their surfaces: glossy and shiny surfaces don't look the same as rough or matte surfaces, and some objects seem to absorb light while others glow.</span></span> <span data-ttu-id="49388-186">適用できますすべて同じブラシ 3-D オブジェクトに、2 D のオブジェクトに適用できるが直接適用することはできません。</span><span class="sxs-lookup"><span data-stu-id="49388-186">You can apply all the same brushes to 3-D objects that you can apply to 2-D objects, but you can't apply them directly.</span></span>  
  
 <span data-ttu-id="49388-187">モデルのサーフェイスの特性を定義する[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]を使用して、<xref:System.Windows.Media.Media3D.Material>抽象クラス。</span><span class="sxs-lookup"><span data-stu-id="49388-187">To define the characteristics of a model's surface, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses the <xref:System.Windows.Media.Media3D.Material> abstract class.</span></span> <span data-ttu-id="49388-188">Material の具象サブクラスでは、モデルのサーフェイスの一部の外観特性が決まり、SolidColorBrush、TileBrush、または VisualBrush を渡すことができる Brush プロパティも提供されます。</span><span class="sxs-lookup"><span data-stu-id="49388-188">The concrete subclasses of Material determine some of the appearance characteristics of the model's surface, and each also provides a Brush property to which you can pass a SolidColorBrush, TileBrush, or VisualBrush.</span></span>  
  
- <span data-ttu-id="49388-189"><xref:System.Windows.Media.Media3D.DiffuseMaterial> そのモデルがディフューズ点灯している場合と同様に、ブラシ、モデルに適用されることを指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-189"><xref:System.Windows.Media.Media3D.DiffuseMaterial> specifies that the brush will be applied to the model as though that model were lit diffusely.</span></span> <span data-ttu-id="49388-190">DiffuseMaterial を最もを使用して、ブラシを使用して、2 D モデル上で直接に似ていますモデルのサーフェスは、光沢のように光を反射しません。</span><span class="sxs-lookup"><span data-stu-id="49388-190">Using DiffuseMaterial most resembles using brushes directly on 2-D models; model surfaces do not reflect light as though shiny.</span></span>  
  
- <span data-ttu-id="49388-191"><xref:System.Windows.Media.Media3D.SpecularMaterial> モデルのサーフェイスのハードまたは光沢のある、ハイライトように、ブラシ、モデルに適用されることを指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-191"><xref:System.Windows.Media.Media3D.SpecularMaterial> specifies that the brush will be applied to the model as though the model's surface were hard or shiny, capable of reflecting highlights.</span></span> <span data-ttu-id="49388-192">テクスチャがするこの反射品質、または「光沢」提案されます度を設定するにはの値を指定することによって、<xref:System.Windows.Media.Media3D.SpecularMaterial.SpecularPower%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-192">You can set the degree to which the texture will suggest this reflective quality, or "shine," by specifying a value for the <xref:System.Windows.Media.Media3D.SpecularMaterial.SpecularPower%2A> property.</span></span>  
  
- <span data-ttu-id="49388-193"><xref:System.Windows.Media.Media3D.EmissiveMaterial> モデルがブラシの色が薄いと等しいに出力された場合と同様に、テクスチャを適用することを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="49388-193"><xref:System.Windows.Media.Media3D.EmissiveMaterial> allows you to specify that the texture will be applied as though the model were emitting light equal to the color of the brush.</span></span> <span data-ttu-id="49388-194">これによってモデルが明るくなることはありませんが、DiffuseMaterial または SpecularMaterial のテクスチャとは異なるシャドウになります。</span><span class="sxs-lookup"><span data-stu-id="49388-194">This does not make the model a light; however, it will participate differently in shadowing than it would if textured with DiffuseMaterial or SpecularMaterial.</span></span>  
  
 <span data-ttu-id="49388-195">背面のパフォーマンスを高めるため、 <xref:System.Windows.Media.Media3D.GeometryModel3D> (カメラからのモデルの反対側にあるので、非表示をこれらの面) が、シーンから除去できます。</span><span class="sxs-lookup"><span data-stu-id="49388-195">For better performance, the backfaces of a <xref:System.Windows.Media.Media3D.GeometryModel3D> (those faces that are out of view because they are on the opposite side of the model from the camera) are culled from the scene.</span></span>  <span data-ttu-id="49388-196">指定する、<xref:System.Windows.Media.Media3D.Material>平面のようなモデルの背面に適用する設定、モデルの<xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-196">To specify a <xref:System.Windows.Media.Media3D.Material> to apply to the backface of a model like a plane, set the model's <xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A> property.</span></span>  
  
 <span data-ttu-id="49388-197">光彩効果や反射効果など、ある種のサーフェイス品質を実現するには、複数の異なるブラシを連続してモデルに適用することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="49388-197">To achieve some surface qualities, like glowing or reflective effects, you might want to apply several different brushes to a model in succession.</span></span> <span data-ttu-id="49388-198">適用しを使用して複数のマテリアルを再利用、<xref:System.Windows.Media.Media3D.MaterialGroup>クラス。</span><span class="sxs-lookup"><span data-stu-id="49388-198">You can apply and reuse multiple Materials by using the <xref:System.Windows.Media.Media3D.MaterialGroup> class.</span></span> <span data-ttu-id="49388-199">MaterialGroup の子は、複数のレンダリング パスの最初から最後まで適用されます。</span><span class="sxs-lookup"><span data-stu-id="49388-199">The children of the MaterialGroup are applied first to last in multiple rendering passes.</span></span>  
  
 <span data-ttu-id="49388-200">次のコード例では、3-D モデルに純色および描画ブラシとして適用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="49388-200">The following code examples show how to apply a solid color and a drawing as brushes to 3-D models.</span></span>  
  
 [!code-xaml[basic3d#Basic3DXAML3DN5](~/samples/snippets/xaml/VS_Snippets_Wpf/Basic3D/XAML/Window1.xaml#basic3dxaml3dn5)]  
  
 [!code-xaml[3doverview#3DOverview3DN9](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/app.xaml#3doverview3dn9)]  
  
 [!code-csharp[3doverview#3DOverview3DN8](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn8)]
 [!code-vb[3doverview#3DOverview3DN8](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn8)]  
  
<a name="lights"></a>   
## <a name="illuminating-the-scene"></a><span data-ttu-id="49388-201">シーンの照明</span><span class="sxs-lookup"><span data-stu-id="49388-201">Illuminating the Scene</span></span>  
 <span data-ttu-id="49388-202">3-D グラフィックスのライトのライトが現実の世界では操作を行います: 画面を表示されるようにします。</span><span class="sxs-lookup"><span data-stu-id="49388-202">Lights in 3-D graphics do what lights do in the real world: they make surfaces visible.</span></span> <span data-ttu-id="49388-203">さらに重要なことは、ライトによって投影に含まれるシーンの部分が決まります。</span><span class="sxs-lookup"><span data-stu-id="49388-203">More to the point, lights determine what part of a scene will be included in the projection.</span></span> <span data-ttu-id="49388-204">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の Light オブジェクトは、さまざまなライト効果とシャドウ効果を作成し、現実世界のさまざまな照明の動作に従ってモデル化されます。</span><span class="sxs-lookup"><span data-stu-id="49388-204">Light objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] create a variety of light and shadow effects and are modeled after the behavior of various real-world lights.</span></span> <span data-ttu-id="49388-205">シーンには少なくとも 1 つのライトを含める必要があり、含めないとモデルは見えません。</span><span class="sxs-lookup"><span data-stu-id="49388-205">You must include at least one light in your scene, or no models will be visible.</span></span>  
  
 <span data-ttu-id="49388-206">次のライトが基本クラスから派生<xref:System.Windows.Media.Media3D.Light>:</span><span class="sxs-lookup"><span data-stu-id="49388-206">The following lights derive from the base class <xref:System.Windows.Media.Media3D.Light>:</span></span>  
  
- <span data-ttu-id="49388-207"><xref:System.Windows.Media.Media3D.AmbientLight>:位置や方向に均等に関係なくすべてのオブジェクトを照らす環境光を提供します。</span><span class="sxs-lookup"><span data-stu-id="49388-207"><xref:System.Windows.Media.Media3D.AmbientLight>: Provides ambient lighting that illuminates all objects uniformly regardless of their location or orientation.</span></span>  
  
- <span data-ttu-id="49388-208"><xref:System.Windows.Media.Media3D.DirectionalLight>:光源のように照らします。</span><span class="sxs-lookup"><span data-stu-id="49388-208"><xref:System.Windows.Media.Media3D.DirectionalLight>: Illuminates like a distant light source.</span></span>  <span data-ttu-id="49388-209">ディレクショナル ライトが、<xref:System.Windows.Media.Media3D.DirectionalLight.Direction%2A>ロケーションを指定しないで、Vector3D として指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-209">Directional lights have a <xref:System.Windows.Media.Media3D.DirectionalLight.Direction%2A> specified as a Vector3D, but no specified location.</span></span>  
  
- <span data-ttu-id="49388-210"><xref:System.Windows.Media.Media3D.PointLight>:光源が近くにあるように照らします。</span><span class="sxs-lookup"><span data-stu-id="49388-210"><xref:System.Windows.Media.Media3D.PointLight>: Illuminates like a nearby light source.</span></span> <span data-ttu-id="49388-211">PointLight には位置があり、その位置から光を投射します。</span><span class="sxs-lookup"><span data-stu-id="49388-211">PointLights have a position and cast light from that position.</span></span> <span data-ttu-id="49388-212">シーン内のオブジェクトは、その位置および光源からの距離に応じて照らされます。</span><span class="sxs-lookup"><span data-stu-id="49388-212">Objects in the scene are illuminated depending on their position and distance with respect to the light.</span></span> <span data-ttu-id="49388-213"><xref:System.Windows.Media.Media3D.PointLightBase> 公開、<xref:System.Windows.Media.Media3D.PointLightBase.Range%2A>プロパティで、これを超えるモデルはありませんがライトによって照らさ距離を指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-213"><xref:System.Windows.Media.Media3D.PointLightBase> exposes a <xref:System.Windows.Media.Media3D.PointLightBase.Range%2A> property, which determines a distance beyond which models will not be illuminated by the light.</span></span> <span data-ttu-id="49388-214">また、PointLight には減衰プロパティもあり、距離によって光の強度がどの程度低下するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-214">PointLight also exposes attenuation properties which determine how the light's intensity diminishes over distance.</span></span> <span data-ttu-id="49388-215">光の減衰には、一定、線形、または 2 次補間を指定できます。</span><span class="sxs-lookup"><span data-stu-id="49388-215">You can specify constant, linear, or quadratic interpolations for the light's attenuation.</span></span>  
  
- <span data-ttu-id="49388-216"><xref:System.Windows.Media.Media3D.SpotLight>:<xref:System.Windows.Media.Media3D.PointLight>から継承します。</span><span class="sxs-lookup"><span data-stu-id="49388-216"><xref:System.Windows.Media.Media3D.SpotLight>: Inherits from <xref:System.Windows.Media.Media3D.PointLight>.</span></span> <span data-ttu-id="49388-217">SpotLight は PointLight と同じように照らし、位置と方向の両方を持ちます。</span><span class="sxs-lookup"><span data-stu-id="49388-217">Spotlights illuminate like PointLight and have both position and direction.</span></span> <span data-ttu-id="49388-218">設定円錐形の領域に、光<xref:System.Windows.Media.Media3D.SpotLight.InnerConeAngle%2A>と<xref:System.Windows.Media.Media3D.SpotLight.OuterConeAngle%2A>度で指定されたプロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-218">They project light in a cone-shaped area set by <xref:System.Windows.Media.Media3D.SpotLight.InnerConeAngle%2A> and <xref:System.Windows.Media.Media3D.SpotLight.OuterConeAngle%2A> properties, specified in degrees.</span></span>  
  
 <span data-ttu-id="49388-219">ライトが<xref:System.Windows.Media.Media3D.Model3D>オブジェクトを変換し、位置、色、方向、および範囲を含む、ライトのプロパティをアニメーション化できるようにします。</span><span class="sxs-lookup"><span data-stu-id="49388-219">Lights are <xref:System.Windows.Media.Media3D.Model3D> objects, so you can transform and animate light properties, including position, color, direction, and range.</span></span>  
  
 [!code-xaml[hittest3d#HitTest3D3DN6](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTest3D/CSharp/Window1.xaml#hittest3d3dn6)]  
  
 [!code-csharp[basic3d#Basic3D3DN11](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn11)]
 [!code-vb[basic3d#Basic3D3DN11](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn11)]  
  
 [!code-csharp[basic3d#Basic3D3DN12](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn12)]
 [!code-vb[basic3d#Basic3D3DN12](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn12)]  
  
 [!code-csharp[basic3d#Basic3D3DN13](~/samples/snippets/csharp/VS_Snippets_Wpf/Basic3D/CSharp/Window1.xaml.cs#basic3d3dn13)]
 [!code-vb[basic3d#Basic3D3DN13](~/samples/snippets/visualbasic/VS_Snippets_Wpf/Basic3D/visualbasic/window1.xaml.vb#basic3d3dn13)]  
  
<a name="transforms"></a>   
## <a name="transforming-models"></a><span data-ttu-id="49388-220">モデルの変換</span><span class="sxs-lookup"><span data-stu-id="49388-220">Transforming Models</span></span>  
 <span data-ttu-id="49388-221">モデルを作成するとき、モデルにはシーン内で特定の位置があります。</span><span class="sxs-lookup"><span data-stu-id="49388-221">When you create models, they have a particular location in the scene.</span></span> <span data-ttu-id="49388-222">モデルをシーン内で移動したり、回転したり、そのサイズを変更したりするのに、モデル自体を定義する頂点を変更するのは実用的ではありません。</span><span class="sxs-lookup"><span data-stu-id="49388-222">To move those models around in the scene, to rotate them, or to change their size, it's not practical to change the vertices that define the models themselves.</span></span>  <span data-ttu-id="49388-223">そのような場合は、2-D と同じように、モデルに変換を適用します。</span><span class="sxs-lookup"><span data-stu-id="49388-223">Instead, just as in 2-D, you apply transformations to models.</span></span>  
  
 <span data-ttu-id="49388-224">各モデル オブジェクトには、<xref:System.Windows.Media.Media3D.Model3D.Transform%2A>プロパティが、移動、向きを変更したり、モデルのサイズを変更します。</span><span class="sxs-lookup"><span data-stu-id="49388-224">Each model object has a <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> property with which you can move, re-orient, or resize the model.</span></span>  <span data-ttu-id="49388-225">変換を適用するときは、ベクトルにより、または変換で指定する値により、モデルのすべてのポイントをオフセットします。</span><span class="sxs-lookup"><span data-stu-id="49388-225">When you apply a transform, you effectively offset all the points of the model by whatever vector or value specified by the transform.</span></span> <span data-ttu-id="49388-226">つまり、モデルが定義されている座標空間 ("モデル空間") を変換するのであって、シーン全体の座標系 ("ワールド空間") 内でモデルのジオメトリを構成する値を変更するのではありません。</span><span class="sxs-lookup"><span data-stu-id="49388-226">In other words, you've transformed the coordinate space in which the model is defined ("model space"), but you haven't changed the values that make up the model's geometry in the coordinate system of the entire scene ("world space").</span></span>  
  
 <span data-ttu-id="49388-227">モデルの変換について詳しくは、「[3-D 変換の概要](3-d-transformations-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="49388-227">For more information about transforming models, see [3-D Transformations Overview](3-d-transformations-overview.md).</span></span>  
  
<a name="animations"></a>   
## <a name="animating-models"></a><span data-ttu-id="49388-228">モデルのアニメーション化</span><span class="sxs-lookup"><span data-stu-id="49388-228">Animating Models</span></span>  
 <span data-ttu-id="49388-229">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] の 3-D の実装は、2-D グラフィックスと同じタイミングおよびアニメーション システムに参加しています。</span><span class="sxs-lookup"><span data-stu-id="49388-229">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 3-D implementation participates in the same timing and animation system as 2-D graphics.</span></span> <span data-ttu-id="49388-230">つまり、3-D シーンをアニメーション化するには、そのモデルのプロパティをアニメーション化します。</span><span class="sxs-lookup"><span data-stu-id="49388-230">In other words, to animate a 3-D scene, animate the properties of its models.</span></span> <span data-ttu-id="49388-231">プリミティブのプロパティを直接アニメーション化することもできますが、通常は、モデルの位置や外観を変更する変換をアニメーション化する方が簡単です。</span><span class="sxs-lookup"><span data-stu-id="49388-231">It's possible to animate properties of primitives directly, but it's typically easier to animate transformations that change the position or appearance of models.</span></span> <span data-ttu-id="49388-232">変換に適用できるため、<xref:System.Windows.Media.Media3D.Model3DGroup>オブジェクト個々 のモデル、およびアニメーションの 1 つのセットを Model3DGroup の子と別の子オブジェクトのグループにアニメーション セットを適用することができます。</span><span class="sxs-lookup"><span data-stu-id="49388-232">Because transformations can be applied to <xref:System.Windows.Media.Media3D.Model3DGroup> objects as well as individual models, it's possible to apply one set of animations to a child of a Model3DGroup and another set of animations to a group of child objects.</span></span> <span data-ttu-id="49388-233">また、シーンの照明のプロパティをアニメーション化することにより、さまざまな視覚効果を実現できます。</span><span class="sxs-lookup"><span data-stu-id="49388-233">You can also achieve a variety of visual effects by animating the properties of your scene's lighting.</span></span> <span data-ttu-id="49388-234">最後に、カメラの位置または視野をアニメーション化することで、投影自体をアニメーション化することもできます。</span><span class="sxs-lookup"><span data-stu-id="49388-234">Finally, you might choose to animate the projection itself by animating the camera position or field of view.</span></span> <span data-ttu-id="49388-235">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のタイミングおよびアニメーション システムの背景情報については、「[アニメーションの概要](animation-overview.md)」、「[ストーリーボードの概要](storyboards-overview.md)」、および「[Freezable オブジェクトの概要](../advanced/freezable-objects-overview.md)」の各トピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="49388-235">For background information on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] timing and animation system, see the [Animation Overview](animation-overview.md), [Storyboards Overview](storyboards-overview.md), and [Freezable Objects Overview](../advanced/freezable-objects-overview.md) topics.</span></span>  
  
 <span data-ttu-id="49388-236">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] のオブジェクトをアニメーション化するには、タイムラインを作成し、アニメーションを定義して (時間経過と共に一部のプロパティの値を実際に変更します)、アニメーションを適用するプロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="49388-236">To animate an object in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you create a timeline, define an animation (which is really a change in some property value over time), and specify the property to which to apply the animation.</span></span> <span data-ttu-id="49388-237">3-D シーン内のすべてのオブジェクトの子であるため、<xref:System.Windows.Controls.Viewport3D>シーンに適用するアニメーションの対象となるプロパティは、Viewport3D のプロパティのプロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-237">Because all the objects in a 3-D scene are children of <xref:System.Windows.Controls.Viewport3D>, the properties targeted by any animation you want to apply to the scene are properties of properties of Viewport3D.</span></span>  
  
 <span data-ttu-id="49388-238">その場で揺れるように見えるモデルを作成したいものとします。</span><span class="sxs-lookup"><span data-stu-id="49388-238">Suppose you want to make a model appear to wobble in place.</span></span> <span data-ttu-id="49388-239">適用することができます、<xref:System.Windows.Media.Media3D.RotateTransform3D>モデルに 1 つのベクトル間のの回転の軸をアニメーション化するとします。</span><span class="sxs-lookup"><span data-stu-id="49388-239">You might choose to apply a <xref:System.Windows.Media.Media3D.RotateTransform3D> to the model, and animate the axis of its rotation from one vector to another.</span></span> <span data-ttu-id="49388-240">次のコード例では、RotateTransform3D が TransformGroup でモデルに適用される複数の変換の 1 つであるものとして、変換の Rotation3D の Axis プロパティに Vector3DAnimation を適用する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="49388-240">The following code example demonstrates applying a Vector3DAnimation to the Axis property of the transformation's Rotation3D, assuming the RotateTransform3D to be one of several transforms applied to the model with a TransformGroup.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN1](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn1)]
 [!code-vb[3doverview#3DOverview3DN1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn1)]  
  
 [!code-csharp[3doverview#3DOverview3DN3](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn3)]
 [!code-vb[3doverview#3DOverview3DN3](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn3)]  
  
 [!code-csharp[3doverview#3DOverview3DN4](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn4)]
 [!code-vb[3doverview#3DOverview3DN4](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn4)]  
  
 [!code-csharp[3doverview#3DOverview3DN5](~/samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn5)]
 [!code-vb[3doverview#3DOverview3DN5](~/samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn5)]  
  
<a name="animations1"></a>   
## <a name="add-3-d-content-to-the-window"></a><span data-ttu-id="49388-241">ウィンドウへの 3-D コンテンツの追加</span><span class="sxs-lookup"><span data-stu-id="49388-241">Add 3-D Content to the Window</span></span>  
 <span data-ttu-id="49388-242">シーンをレンダリングするには、モデルとするライトを追加、<xref:System.Windows.Media.Media3D.Model3DGroup>を設定し、<xref:System.Windows.Media.Media3D.Model3DGroup>として、<xref:System.Windows.Media.Media3D.ModelVisual3D.Content%2A>の<xref:System.Windows.Media.Media3D.ModelVisual3D>。</span><span class="sxs-lookup"><span data-stu-id="49388-242">To render the scene, add models and lights to a <xref:System.Windows.Media.Media3D.Model3DGroup>, then set the <xref:System.Windows.Media.Media3D.Model3DGroup> as the <xref:System.Windows.Media.Media3D.ModelVisual3D.Content%2A> of a <xref:System.Windows.Media.Media3D.ModelVisual3D>.</span></span> <span data-ttu-id="49388-243">追加、<xref:System.Windows.Media.Media3D.ModelVisual3D>を<xref:System.Windows.Controls.Viewport3D.Children%2A>のコレクション、<xref:System.Windows.Controls.Viewport3D>します。</span><span class="sxs-lookup"><span data-stu-id="49388-243">Add the <xref:System.Windows.Media.Media3D.ModelVisual3D> to the <xref:System.Windows.Controls.Viewport3D.Children%2A> collection of the <xref:System.Windows.Controls.Viewport3D>.</span></span> <span data-ttu-id="49388-244">カメラの追加、<xref:System.Windows.Controls.Viewport3D>を設定してその<xref:System.Windows.Controls.Viewport3D.Camera%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="49388-244">Add cameras to the <xref:System.Windows.Controls.Viewport3D> by setting its <xref:System.Windows.Controls.Viewport3D.Camera%2A> property.</span></span>  
  
 <span data-ttu-id="49388-245">最後に、追加、<xref:System.Windows.Controls.Viewport3D>ウィンドウにします。</span><span class="sxs-lookup"><span data-stu-id="49388-245">Finally, add the <xref:System.Windows.Controls.Viewport3D> to the window.</span></span> <span data-ttu-id="49388-246">ときに、<xref:System.Windows.Controls.Viewport3D>キャンバスのようなレイアウト要素の内容を設定して、Viewport3D のサイズの指定が含まれるその<xref:System.Windows.FrameworkElement.Height%2A>と<xref:System.Windows.FrameworkElement.Width%2A>プロパティ (から継承された<xref:System.Windows.FrameworkElement>)。</span><span class="sxs-lookup"><span data-stu-id="49388-246">When the <xref:System.Windows.Controls.Viewport3D> is included as the content of a layout element like Canvas, specify the size of the Viewport3D by setting its <xref:System.Windows.FrameworkElement.Height%2A> and <xref:System.Windows.FrameworkElement.Width%2A> properties (inherited from <xref:System.Windows.FrameworkElement>).</span></span>  
  
 [!code-xaml[hostingwpfusercontrolinwf#1](~/samples/snippets/csharp/VS_Snippets_Wpf/HostingWpfUserControlInWf/CSharp/HostingWpfUserControlInWf/ConeControl.xaml#1)]  
  
## <a name="see-also"></a><span data-ttu-id="49388-247">関連項目</span><span class="sxs-lookup"><span data-stu-id="49388-247">See also</span></span>

- <xref:System.Windows.Controls.Viewport3D>
- <xref:System.Windows.Media.Media3D.PerspectiveCamera>
- <xref:System.Windows.Media.Media3D.DirectionalLight>
- <xref:System.Windows.Media.Media3D.Material>
- [<span data-ttu-id="49388-248">3-D 変換の概要</span><span class="sxs-lookup"><span data-stu-id="49388-248">3-D Transformations Overview</span></span>](3-d-transformations-overview.md)
- [<span data-ttu-id="49388-249">WPF の 3D パフォーマンスの最大化</span><span class="sxs-lookup"><span data-stu-id="49388-249">Maximize WPF 3D Performance</span></span>](maximize-wpf-3d-performance.md)
- [<span data-ttu-id="49388-250">方法トピック</span><span class="sxs-lookup"><span data-stu-id="49388-250">How-to Topics</span></span>](3-d-graphics-how-to-topics.md)
- [<span data-ttu-id="49388-251">WPF での図形と基本描画の概要</span><span class="sxs-lookup"><span data-stu-id="49388-251">Shapes and Basic Drawing in WPF Overview</span></span>](shapes-and-basic-drawing-in-wpf-overview.md)
- [<span data-ttu-id="49388-252">イメージ、描画、およびビジュアルによる塗りつぶし</span><span class="sxs-lookup"><span data-stu-id="49388-252">Painting with Images, Drawings, and Visuals</span></span>](painting-with-images-drawings-and-visuals.md)
