---
title: イメージングの概要
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- metadata [WPF], images
- displaying images [WPF]
- Imaging API [WPF]
- image metadata [WPF]
- converting images [WPF]
- encoding image formats [WPF]
- format decoding for images [WPF]
- painting with images [WPF]
- stretching images [WPF]
- images [WPF], about imaging
- format encoding for images [WPF]
- cropping images [WPF]
- decoding image formats [WPF]
- rotating images [WPF]
ms.assetid: 72aad87a-e6f3-4937-94cd-a18b7766e990
ms.openlocfilehash: 10cdf5b8cf475c95e086b447b36a569da2173fa9
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/04/2018
ms.locfileid: "43671636"
---
# <a name="imaging-overview"></a><span data-ttu-id="9dcb3-102">イメージングの概要</span><span class="sxs-lookup"><span data-stu-id="9dcb3-102">Imaging Overview</span></span>
<span data-ttu-id="9dcb3-103">このトピックでは、[!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)] の概要を説明します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-103">This topic provides an introduction to the [!INCLUDE[TLA#tla_wic](../../../../includes/tlasharptla-wic-md.md)].</span></span> <span data-ttu-id="9dcb3-104">開発者は、[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] を使用して、イメージの表示、変換、および形式設定を実行できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-104">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] enables developers to display, transform, and format images.</span></span>  
  
  
<a name="_wpfImaging"></a>   
## <a name="wpf-imaging-component"></a><span data-ttu-id="9dcb3-105">WPF Imaging Component</span><span class="sxs-lookup"><span data-stu-id="9dcb3-105">WPF Imaging Component</span></span>  
 [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9dcb3-106"> は、[!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)] 内のイメージング機能を大幅に強化します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-106"> provides significant enhancements in imaging capabilities within [!INCLUDE[TLA#tla_win](../../../../includes/tlasharptla-win-md.md)].</span></span> <span data-ttu-id="9dcb3-107">ビットマップの表示や一般的なコントロールでのイメージの使用などのイメージング機能は、これまでは [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] または [!INCLUDE[TLA#tla_gdiplus](../../../../includes/tlasharptla-gdiplus-md.md)] ライブラリに頼っていました。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-107">Imaging capabilities, such as displaying a bitmap or using an image on a common control were previously reliant upon the [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] or [!INCLUDE[TLA#tla_gdiplus](../../../../includes/tlasharptla-gdiplus-md.md)] libraries.</span></span> <span data-ttu-id="9dcb3-108">これらの [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] は、基本的なイメージング機能を提供しますが、コーデックの拡張機能や高品質なイメージのサポートなどの機能が不足しています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-108">These [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] provide baseline imaging functionality, but lack features such as support for codec extensibility and high fidelity image support.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9dcb3-109"> は、[!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)] と [!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)] の弱点を克服するように設計されており、アプリケーション内でイメージの表示と使用を行うための新しい [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] セットを提供します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-109"> is designed to overcome the shortcomings of [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)] and [!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)] and provide a new set of [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] to display and use images within your applications.</span></span>  
  
 <span data-ttu-id="9dcb3-110">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)][!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] にアクセスする方法は 2 つあります (マネージド コンポーネントとアンマネージド コンポーネント)。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-110">There are two ways to access the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], a managed component and an unmanaged component.</span></span> <span data-ttu-id="9dcb3-111">アンマネージ コンポーネントは、次の機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-111">The unmanaged component provides the following features.</span></span>  
  
-   <span data-ttu-id="9dcb3-112">新規または独自のイメージ形式の機能拡張モデル。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-112">Extensibility model for new or proprietary image formats.</span></span>  
  
-   <span data-ttu-id="9dcb3-113">[!INCLUDE[TLA#tla_bmp](../../../../includes/tlasharptla-bmp-md.md)]、[!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)]、[!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)]、[!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)]、[!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)]、[!INCLUDE[TLA#tla_gif](../../../../includes/tlasharptla-gif-md.md)]、アイコン (.ico) を含むネイティブ イメージ形式のパフォーマンスとセキュリティの向上。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-113">Improved performance and security on native image formats including [!INCLUDE[TLA#tla_bmp](../../../../includes/tlasharptla-bmp-md.md)], [!INCLUDE[TLA#tla_jpegorg](../../../../includes/tlasharptla-jpegorg-md.md)], [!INCLUDE[TLA#tla_png](../../../../includes/tlasharptla-png-md.md)], [!INCLUDE[TLA#tla_tiff](../../../../includes/tlasharptla-tiff-md.md)], [!INCLUDE[TLA#tla_wdp](../../../../includes/tlasharptla-wdp-md.md)], [!INCLUDE[TLA#tla_gif](../../../../includes/tlasharptla-gif-md.md)], and icon (.ico).</span></span>  
  
-   <span data-ttu-id="9dcb3-114">チャネルあたり最大 8 ビットのビット深度の高いイメージ データの保存 (ピクセルあたり 32 ビット)。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-114">Preservation of high bit-depth image data up to 8 bits per channel (32 bits per pixel).</span></span>  
  
-   <span data-ttu-id="9dcb3-115">非破壊的なイメージのスケーリング、クロップ、および回転。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-115">Nondestructive image scaling, cropping, and rotations.</span></span>  
  
-   <span data-ttu-id="9dcb3-116">単純化されたカラー管理。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-116">Simplified color management.</span></span>  
  
-   <span data-ttu-id="9dcb3-117">ファイル内での専用メタデータのサポート。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-117">Support for in-file, proprietary metadata.</span></span>  
  
-   <span data-ttu-id="9dcb3-118">マネージド コンポーネントは、アンマネージド インフラストラクチャを利用して、[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]、アニメーション、グラフィックスなどの他の [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] 機能とイメージをシームレスに統合します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-118">The managed component utilizes the unmanaged infrastructure to provide seamless integration of images with other [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] features such as [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], animation, and graphics.</span></span> <span data-ttu-id="9dcb3-119">マネージ コンポーネントの利点も活用、Windows Presentation Foundation (WPF) イメージング コーデック機能拡張モデルにより、新しいイメージ形式の自動認識[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]アプリケーション。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-119">The managed component also benefits from the Windows Presentation Foundation (WPF) imaging codec extensibility model which enables automatic recognition of new image formats in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span>  
  
 <span data-ttu-id="9dcb3-120">ほとんどのマネージ[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)][!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)]内に存在、<xref:System.Windows.Media.Imaging?displayProperty=nameWithType>名前空間など、いくつかの重要な型が<xref:System.Windows.Media.ImageBrush>と<xref:System.Windows.Media.ImageDrawing>内に存在、<xref:System.Windows.Media?displayProperty=nameWithType>名前空間と<xref:System.Windows.Controls.Image>に存在します。<xref:System.Windows.Controls?displayProperty=nameWithType>名前空間。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-120">The majority of the managed [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] reside in the <xref:System.Windows.Media.Imaging?displayProperty=nameWithType> namespace, though several important types, such as <xref:System.Windows.Media.ImageBrush> and <xref:System.Windows.Media.ImageDrawing> reside in the <xref:System.Windows.Media?displayProperty=nameWithType> namespace and <xref:System.Windows.Controls.Image> resides in the <xref:System.Windows.Controls?displayProperty=nameWithType> namespace.</span></span>  
  
 <span data-ttu-id="9dcb3-121">このトピックでは、マネージド コンポーネントに関する追加情報について説明します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-121">This topic provides additional information about the managed component.</span></span> <span data-ttu-id="9dcb3-122">アンマネージ [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] の詳細については、[アンマネージ WPF Imaging Component](/windows/desktop/wic/-wic-lh) に関するドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-122">For more information on the unmanaged [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] see the [Unmanaged WPF Imaging Component](/windows/desktop/wic/-wic-lh) documentation.</span></span>  
  
<a name="_imageformats"></a>   
## <a name="wpf-image-formats"></a><span data-ttu-id="9dcb3-123">WPF イメージ形式</span><span class="sxs-lookup"><span data-stu-id="9dcb3-123">WPF Image Formats</span></span>  
 <span data-ttu-id="9dcb3-124">コーデックは、特定のメディア形式をデコードまたはエンコードするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-124">A codec is used to decode or encode a specific media format.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9dcb3-125">には、[!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)]、[!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)]、[!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)]、[!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)]、[!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)]、[!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)]、および ICON イメージ形式用のコーデックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-125"> includes a codec  for [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)], [!INCLUDE[TLA2#tla_jpeg](../../../../includes/tla2sharptla-jpeg-md.md)], [!INCLUDE[TLA2#tla_png](../../../../includes/tla2sharptla-png-md.md)], [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)], [!INCLUDE[TLA2#tla_wdp](../../../../includes/tla2sharptla-wdp-md.md)], [!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)], and ICON image formats.</span></span> <span data-ttu-id="9dcb3-126">アプリケーションは、これらのコーデックを使用して、対応するイメージ形式をデコードでき、ICON を除くイメージ形式をエンコードできます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-126">Each of these codecs enable applications to decode and, with the exception of ICON, encode their respective image formats.</span></span>  
  
 <span data-ttu-id="9dcb3-127"><xref:System.Windows.Media.Imaging.BitmapSource> 重要なクラスは、デコードおよびイメージのエンコードに使用されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-127"><xref:System.Windows.Media.Imaging.BitmapSource> is an important class used in the decoding and encoding of images.</span></span> <span data-ttu-id="9dcb3-128">それは、[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] パイプラインの基本ビルディング ブロックであり、ピクセルの単一の定数セットを特定のサイズと解像度で表現します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-128">It is the basic building block of the [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] pipeline and represents a single, constant set of pixels at a certain size and resolution.</span></span> <span data-ttu-id="9dcb3-129">A<xref:System.Windows.Media.Imaging.BitmapSource>複数フレーム イメージの個々 のフレームまたはに対して実行された変換の結果であることができます、<xref:System.Windows.Media.Imaging.BitmapSource>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-129">A <xref:System.Windows.Media.Imaging.BitmapSource> can be an individual frame of a multiple frame image, or it can be the result of a transform performed on a <xref:System.Windows.Media.Imaging.BitmapSource>.</span></span> <span data-ttu-id="9dcb3-130">使用される主要クラスの多くの親である[!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]などイメージング<xref:System.Windows.Media.Imaging.BitmapFrame>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-130">It is the parent of many of the primary classes used in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] imaging such as <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span>  
  
 <span data-ttu-id="9dcb3-131">A<xref:System.Windows.Media.Imaging.BitmapFrame>イメージ形式の実際のビットマップ データを格納するために使用します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-131">A <xref:System.Windows.Media.Imaging.BitmapFrame> is used to store the actual bitmap data of an image format.</span></span> <span data-ttu-id="9dcb3-132">多くのイメージ形式は、1 つのみサポート<xref:System.Windows.Media.Imaging.BitmapFrame>ですなどの書式[!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)]と[!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)]イメージごとの複数のフレームをサポートします。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-132">Many image formats only support a single <xref:System.Windows.Media.Imaging.BitmapFrame>, although formats such as [!INCLUDE[TLA2#tla_gif](../../../../includes/tla2sharptla-gif-md.md)] and [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] support multiple frames per image.</span></span> <span data-ttu-id="9dcb3-133">フレームは、デコーダーによって入力データとして使用され、イメージ ファイルを作成するためにエンコーダーに渡されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-133">Frames are used by decoders as input data and are passed to encoders to create image files.</span></span>  
  
 <span data-ttu-id="9dcb3-134">例を次に示す方法、<xref:System.Windows.Media.Imaging.BitmapFrame>から作成された、<xref:System.Windows.Media.Imaging.BitmapSource>に追加し、[!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)]イメージ。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-134">The following example demonstrates how a <xref:System.Windows.Media.Imaging.BitmapFrame> is created from a <xref:System.Windows.Media.Imaging.BitmapSource> and then added to a [!INCLUDE[TLA2#tla_tiff](../../../../includes/tla2sharptla-tiff-md.md)] image.</span></span>  
  
 [!code-csharp[BitmapFrameExample#10](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitmapFrameExample/CSharp/BitmapFrame.cs#10)]
 [!code-vb[BitmapFrameExample#10](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitmapFrameExample/VB/BitmapFrame.vb#10)]  
  
### <a name="image-format-decoding"></a><span data-ttu-id="9dcb3-135">イメージ形式のデコード</span><span class="sxs-lookup"><span data-stu-id="9dcb3-135">Image Format Decoding</span></span>  
 <span data-ttu-id="9dcb3-136">イメージのデコードは、イメージ形式をシステムで使用できるイメージ データに変換する操作です。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-136">Image decoding is the translation of an image format to image data that can be used by the system.</span></span> <span data-ttu-id="9dcb3-137">変換したイメージ データを使用して、表示、処理、または別の形式へのエンコードを実行できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-137">The image data can then be used to display, process, or encode to a different format.</span></span> <span data-ttu-id="9dcb3-138">デコーダーの選択は、イメージ形式に基づきます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-138">Decoder selection is based on the image format.</span></span> <span data-ttu-id="9dcb3-139">コーデックの選択は、特定のデコーダーを指定しない限り、自動的に行われます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-139">Codec selection is automatic unless a specific decoder is specified.</span></span> <span data-ttu-id="9dcb3-140">自動デコード操作については、「[WPF でのイメージの表示](#_displayingimages)」セクションの例を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-140">The examples in the [Displaying Images in WPF](#_displayingimages) section demonstrate automatic decoding.</span></span> <span data-ttu-id="9dcb3-141">アンマネージ [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] インターフェイスを使用して開発し、システムに登録したカスタム形式デコーダーは、デコーダーの選択に自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-141">Custom format decoders developed using the unmanaged [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] interfaces and registered with the system automatically participate in decoder selection.</span></span> <span data-ttu-id="9dcb3-142">これにより、カスタム形式を [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] アプリケーションに自動的に表示することができます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-142">This allows custom formats to be displayed automatically in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span>  
  
 <span data-ttu-id="9dcb3-143">次の例では、ビットマップ デコーダーを使用した [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)] 形式のイメージのデコード操作を示します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-143">The following example demonstrates the use of a bitmap decoder to decode a [!INCLUDE[TLA2#tla_bmp](../../../../includes/tla2sharptla-bmp-md.md)] format image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#5)]
 [!code-csharp[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#5)]
 [!code-vb[BmpBitmapDecoderEncoder#5](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#5)]  
  
### <a name="image-format-encoding"></a><span data-ttu-id="9dcb3-144">イメージ形式のエンコード</span><span class="sxs-lookup"><span data-stu-id="9dcb3-144">Image Format Encoding</span></span>  
 <span data-ttu-id="9dcb3-145">イメージのエンコードは、イメージ データを特定のイメージ形式に変換する操作です。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-145">Image encoding is the translation of image data to a specific image format.</span></span> <span data-ttu-id="9dcb3-146">エンコードされたイメージ データを使用して、新しいイメージ ファイルを作成できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-146">The encoded image data can then be used to create new image files.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9dcb3-147"> には、上記で説明したイメージ形式用のエンコーダーが用意されています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-147"> provides encoders for each of the image formats described above.</span></span>  
  
 <span data-ttu-id="9dcb3-148">次の例は、エンコーダーを使用して新しく作成されたビットマップ イメージを保存する操作を示しています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-148">The following example demonstrates the use of an encoder to save a newly created bitmap image.</span></span>  
  
 [!code-cpp[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CPP/anotherfile.cpp#3)]
 [!code-csharp[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/CSharp/BitmapFrame.cs#3)]
 [!code-vb[BmpBitmapDecoderEncoder#3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BmpBitmapDecoderEncoder/VB/BitmapFrame.vb#3)]  
  
<a name="_displayingimages"></a>   
## <a name="displaying-images-in-wpf"></a><span data-ttu-id="9dcb3-149">WPF でのイメージの表示</span><span class="sxs-lookup"><span data-stu-id="9dcb3-149">Displaying Images in WPF</span></span>  
 <span data-ttu-id="9dcb3-150">Windows Presentation Foundation (WPF) アプリケーションでイメージを表示するいくつかの方法はあります。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-150">There are several ways to display an image in a Windows Presentation Foundation (WPF) application.</span></span> <span data-ttu-id="9dcb3-151">使用してイメージを表示することができます、 <xref:System.Windows.Controls.Image> visual を使用して描画コントロール、<xref:System.Windows.Media.ImageBrush>を使用して描画または、<xref:System.Windows.Media.ImageDrawing>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-151">Images can be displayed using an <xref:System.Windows.Controls.Image> control, painted on a visual using an <xref:System.Windows.Media.ImageBrush>, or drawn using an <xref:System.Windows.Media.ImageDrawing>.</span></span>  
  
### <a name="using-the-image-control"></a><span data-ttu-id="9dcb3-152">イメージ コントロールの使用</span><span class="sxs-lookup"><span data-stu-id="9dcb3-152">Using the Image Control</span></span>  
 <span data-ttu-id="9dcb3-153"><xref:System.Windows.Controls.Image> フレームワーク要素とアプリケーションでイメージを表示する主な方法です。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-153"><xref:System.Windows.Controls.Image> is a framework element and the primary way to display images in applications.</span></span> <span data-ttu-id="9dcb3-154">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]、 <xref:System.Windows.Controls.Image> ; 属性構文またはプロパティの構文の 2 つの方法で使用できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-154">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], <xref:System.Windows.Controls.Image> can be used in two ways; attribute syntax or property syntax.</span></span> <span data-ttu-id="9dcb3-155">次の例は、属性構文とプロパティ タグ構文の両方を使用して、幅 200 ピクセルのイメージをレンダリングする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-155">The following example shows how to render an image 200 pixels wide using both attribute syntax and property tag syntax.</span></span> <span data-ttu-id="9dcb3-156">属性構文とプロパティ構文の詳細については、「[依存関係プロパティの概要](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-156">For more information on attribute syntax and property syntax, see [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageSimpleExampleInlineMarkup](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml#imagesimpleexampleinlinemarkup)]  
  
 <span data-ttu-id="9dcb3-157">多くの例を使用して、<xref:System.Windows.Media.Imaging.BitmapImage>イメージ ファイルを参照するオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-157">Many of the examples use a <xref:System.Windows.Media.Imaging.BitmapImage> object to reference an image file.</span></span> <span data-ttu-id="9dcb3-158"><xref:System.Windows.Media.Imaging.BitmapImage> 特殊な<xref:System.Windows.Media.Imaging.BitmapSource>用に最適化された[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]としてイメージを表示する簡単な方法であり、読み込み、<xref:System.Windows.Controls.Image.Source%2A>の<xref:System.Windows.Controls.Image>コントロール。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-158"><xref:System.Windows.Media.Imaging.BitmapImage> is a specialized <xref:System.Windows.Media.Imaging.BitmapSource> that is optimized for [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] loading and is an easy way to display images as the <xref:System.Windows.Controls.Image.Source%2A> of an <xref:System.Windows.Controls.Image> control.</span></span>  
  
 <span data-ttu-id="9dcb3-159">次の例は、コードを使用して幅 200 ピクセルのイメージをレンダリングする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-159">The following example shows how to render an image 200 pixels wide using code.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9dcb3-160"><xref:System.Windows.Media.Imaging.BitmapImage> 実装して、<xref:System.ComponentModel.ISupportInitialize>インターフェイスに複数のプロパティの初期化を最適化します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-160"><xref:System.Windows.Media.Imaging.BitmapImage> implements the <xref:System.ComponentModel.ISupportInitialize> interface to optimize initialization on multiple properties.</span></span> <span data-ttu-id="9dcb3-161">プロパティの変更は、オブジェクトの初期化中にのみ実行できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-161">Property changes can only occur during object initialization.</span></span> <span data-ttu-id="9dcb3-162">呼び出す<xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A>をその初期化が開始された通知と<xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A>初期化が完了を通知します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-162">Call <xref:System.Windows.Media.Imaging.BitmapImage.BeginInit%2A> to signal that initialization has begun and <xref:System.Windows.Media.Imaging.BitmapImage.EndInit%2A> to signal that initialization has completed.</span></span> <span data-ttu-id="9dcb3-163">初期化の完了後は、プロパティの変更は無視されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-163">Once initialized, property changes are ignored.</span></span>  
  
 [!code-csharp[ImageElementExample_snip#ImageSimpleExampleInlineCode1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageSimpleExample.xaml.cs#imagesimpleexampleinlinecode1)]
 [!code-vb[ImageElementExample_snip#ImageSimpleExampleInlineCode1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/ImageSimpleExample.xaml.vb#imagesimpleexampleinlinecode1)]  
  
#### <a name="rotating-converting-and-cropping-images"></a><span data-ttu-id="9dcb3-164">イメージの回転、変換、およびクロップ</span><span class="sxs-lookup"><span data-stu-id="9dcb3-164">Rotating, Converting, and Cropping Images</span></span>  
 [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]<span data-ttu-id="9dcb3-165"> プロパティを使用してイメージを変換することができます<xref:System.Windows.Media.Imaging.BitmapImage>または追加を使用して<xref:System.Windows.Media.Imaging.BitmapSource>などのオブジェクト<xref:System.Windows.Media.Imaging.CroppedBitmap>または<xref:System.Windows.Media.Imaging.FormatConvertedBitmap>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-165"> enables users to transform images by using properties of <xref:System.Windows.Media.Imaging.BitmapImage> or by using additional <xref:System.Windows.Media.Imaging.BitmapSource> objects such as <xref:System.Windows.Media.Imaging.CroppedBitmap> or <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="9dcb3-166">これらのイメージの変換では、イメージの拡大縮小、回転、ピクセル形式の変更、またはクロップを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-166">These image transformations can scale or rotate an image, change the pixel format of an image, or crop an image.</span></span>  
  
 <span data-ttu-id="9dcb3-167">使用してイメージの回転を実行、<xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A>プロパティの<xref:System.Windows.Media.Imaging.BitmapImage>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-167">Image rotations are performed using the <xref:System.Windows.Media.Imaging.BitmapImage.Rotation%2A> property of <xref:System.Windows.Media.Imaging.BitmapImage>.</span></span> <span data-ttu-id="9dcb3-168">回転は、90 ° 単位でのみ実行できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-168">Rotations can only be done in 90 degree increments.</span></span> <span data-ttu-id="9dcb3-169">次の例では、イメージが 90 ° 回転します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-169">In the following example, an image is rotated 90 degrees.</span></span>  
  
 [!code-xaml[ImageElementExample#TransformedXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml#transformedxaml2)]  
  
 [!code-csharp[ImageElementExample#TransformedCSharp1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample/CSharp/TransformedImageExample.xaml.cs#transformedcsharp1)]
 [!code-vb[ImageElementExample#TransformedCSharp1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample/VB/TransformedImageExample.xaml.vb#transformedcsharp1)]  
  
 <span data-ttu-id="9dcb3-170">グレースケールの実行など、イメージを別のピクセル形式に変換を使用して<xref:System.Windows.Media.Imaging.FormatConvertedBitmap>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-170">Converting an image to a different pixel format such as grayscale is done using <xref:System.Windows.Media.Imaging.FormatConvertedBitmap>.</span></span> <span data-ttu-id="9dcb3-171">次の例では、イメージに変換されます<xref:System.Windows.Media.PixelFormats.Gray4%2A>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-171">In the following examples, an image is converted to <xref:System.Windows.Media.PixelFormats.Gray4%2A>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ConvertedXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml#convertedxaml2)]  
  
 [!code-csharp[ImageElementExample_snip#ConvertedCSharp1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/FormatConvertedExample.xaml.cs#convertedcsharp1)]
 [!code-vb[ImageElementExample_snip#ConvertedCSharp1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/FormatConvertedExample.xaml.vb#convertedcsharp1)]  
  
 <span data-ttu-id="9dcb3-172">か、イメージをトリミングするには、<xref:System.Windows.UIElement.Clip%2A>プロパティの<xref:System.Windows.Controls.Image>または<xref:System.Windows.Media.Imaging.CroppedBitmap>ことができます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-172">To crop an image, either the <xref:System.Windows.UIElement.Clip%2A> property of <xref:System.Windows.Controls.Image> or <xref:System.Windows.Media.Imaging.CroppedBitmap> can be used.</span></span> <span data-ttu-id="9dcb3-173">通常、必要がある場合、イメージの部分を表示する<xref:System.Windows.UIElement.Clip%2A>使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-173">Typically, if you just want to display a portion of an image, <xref:System.Windows.UIElement.Clip%2A> should be used.</span></span> <span data-ttu-id="9dcb3-174">エンコードして、トリミングされたイメージを保存する必要がある場合、<xref:System.Windows.Media.Imaging.CroppedBitmap>使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-174">If you need to encode and save a cropped image, the <xref:System.Windows.Media.Imaging.CroppedBitmap> should be used.</span></span> <span data-ttu-id="9dcb3-175">次の例では、イメージがクリップのプロパティを使用して、<xref:System.Windows.Media.EllipseGeometry>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-175">In the following example, an image is cropped using the Clip property using an <xref:System.Windows.Media.EllipseGeometry>.</span></span>  
  
 [!code-xaml[ImageElementExample_snip#CroppedXAMLUsingClip1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml#croppedxamlusingclip1)]  
  
 [!code-csharp[ImageElementExample_snip#CroppedCSharpUsingClip1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/CroppedImageExample.xaml.cs#croppedcsharpusingclip1)]
 [!code-vb[ImageElementExample_snip#CroppedCSharpUsingClip1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ImageElementExample_snip/VB/CroppedImageExample.xaml.vb#croppedcsharpusingclip1)]  
  
#### <a name="stretching-images"></a><span data-ttu-id="9dcb3-176">イメージの引き伸ばし</span><span class="sxs-lookup"><span data-stu-id="9dcb3-176">Stretching Images</span></span>  
 <span data-ttu-id="9dcb3-177"><xref:System.Windows.Controls.Image.Stretch%2A>プロパティは、イメージを拡大して、コンテナーを入力する方法を制御します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-177">The <xref:System.Windows.Controls.Image.Stretch%2A> property controls how an image is stretched to fill its container.</span></span> <span data-ttu-id="9dcb3-178"><xref:System.Windows.Controls.Image.Stretch%2A>プロパティによって定義された、次の値では、<xref:System.Windows.Media.Stretch>列挙体。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-178">The <xref:System.Windows.Controls.Image.Stretch%2A> property accepts the following values, defined by the <xref:System.Windows.Media.Stretch> enumeration:</span></span>  
  
-   <span data-ttu-id="9dcb3-179"><xref:System.Windows.Media.Stretch.None>: イメージが出力領域に引き伸ばされません。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-179"><xref:System.Windows.Media.Stretch.None>: The image is not stretched to fill the output area.</span></span> <span data-ttu-id="9dcb3-180">イメージが出力領域よりも大きい場合は、出力領域に収まらない部分がクリップされたイメージが出力領域に描画されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-180">If the image is larger than the output area, the image is drawn to the output area, clipping what does not fit.</span></span>  
  
-   <span data-ttu-id="9dcb3-181"><xref:System.Windows.Media.Stretch.Fill>イメージは、出力領域に合わせて拡大縮小されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-181"><xref:System.Windows.Media.Stretch.Fill>: The image is scaled to fit the output area.</span></span> <span data-ttu-id="9dcb3-182">イメージの高さと幅は個別に拡大縮小されるため、イメージの元の縦横比は保持されないことがあります。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-182">Because the image height and width are scaled independently, the original aspect ratio of the image might not be preserved.</span></span> <span data-ttu-id="9dcb3-183">つまり、イメージは、出力コンテナーを完全に埋めるためにゆがんで表示される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-183">That is, the image might be warped in order to completely fill the output container.</span></span>  
  
-   <span data-ttu-id="9dcb3-184"><xref:System.Windows.Media.Stretch.Uniform>イメージに、出力領域内で完全に収まるように拡大縮小されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-184"><xref:System.Windows.Media.Stretch.Uniform>: The image is scaled so that it fits completely within the output area.</span></span> <span data-ttu-id="9dcb3-185">イメージの縦横比は保持されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-185">The image's aspect ratio is preserved.</span></span>  
  
-   <span data-ttu-id="9dcb3-186"><xref:System.Windows.Media.Stretch.UniformToFill>イメージは、イメージの元の縦横比を維持しながら、出力領域を完全に塗りつぶすされるように拡大縮小されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-186"><xref:System.Windows.Media.Stretch.UniformToFill>: The image is scaled so that it completely fills the output area while preserving the image's original aspect ratio.</span></span>  
  
 <span data-ttu-id="9dcb3-187">次の例では、適用の使用可能な各<xref:System.Windows.Media.Stretch>列挙を<xref:System.Windows.Controls.Image>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-187">The following example applies each of the available <xref:System.Windows.Media.Stretch> enumerations to an <xref:System.Windows.Controls.Image>.</span></span>  
  
 <span data-ttu-id="9dcb3-188">次の図の例からの出力およびさまざまな影響を示します<xref:System.Windows.Controls.Image.Stretch%2A>設定がある場合に、イメージに適用されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-188">The following image shows the output from the example and demonstrates the affect the different <xref:System.Windows.Controls.Image.Stretch%2A> settings have when applied to an image.</span></span>  
  
 <span data-ttu-id="9dcb3-189">![TileBrush のさまざまな Stretch 設定](../../../../docs/framework/wpf/graphics-multimedia/media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span><span class="sxs-lookup"><span data-stu-id="9dcb3-189">![Different TileBrush Stretch settings](../../../../docs/framework/wpf/graphics-multimedia/media/img-mmgraphics-stretchenum.jpg "img_mmgraphics_stretchenum")</span></span>  
<span data-ttu-id="9dcb3-190">異なる Stretch 設定</span><span class="sxs-lookup"><span data-stu-id="9dcb3-190">Different stretch settings</span></span>  
  
 [!code-xaml[ImageElementExample_snip#ImageStretchExampleWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ImageElementExample_snip/CSharp/ImageStretchExample.xaml#imagestretchexamplewholepage)]  
  
### <a name="painting-with-images"></a><span data-ttu-id="9dcb3-191">イメージによる塗りつぶし</span><span class="sxs-lookup"><span data-stu-id="9dcb3-191">Painting with Images</span></span>  
 <span data-ttu-id="9dcb3-192">描画でイメージがアプリケーションで表示することもできます、<xref:System.Windows.Media.Brush>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-192">Images can also be displayed in an application by painting with a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="9dcb3-193">ブラシを使用すると、[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] オブジェクトを単色で塗りつぶすことも、パターンとイメージの複雑な組み合わせで塗りつぶすこともできます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-193">Brushes enable you to paint [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] objects with anything from simple, solid colors to complex sets of patterns and images.</span></span> <span data-ttu-id="9dcb3-194">イメージの描画に使用して、<xref:System.Windows.Media.ImageBrush>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-194">To paint with images, use an <xref:System.Windows.Media.ImageBrush>.</span></span> <span data-ttu-id="9dcb3-195"><xref:System.Windows.Media.ImageBrush>の種類は、<xref:System.Windows.Media.TileBrush>ビットマップ イメージとしてその内容を定義します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-195">An <xref:System.Windows.Media.ImageBrush> is a type of <xref:System.Windows.Media.TileBrush> that defines its content as a bitmap image.</span></span> <span data-ttu-id="9dcb3-196"><xref:System.Windows.Media.ImageBrush>で指定された 1 つのイメージを表示します。 その<xref:System.Windows.Media.ImageBrush.ImageSource%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-196">An <xref:System.Windows.Media.ImageBrush> displays a single image, which is specified by its <xref:System.Windows.Media.ImageBrush.ImageSource%2A> property.</span></span> <span data-ttu-id="9dcb3-197">イメージがゆがまないようしたり、パターンやその他の効果を作成したりするために、イメージの伸縮、配置、およびタイル表示方法を制御できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-197">You can control how the image is stretched, aligned, and tiled, enabling you to prevent distortion and produce patterns and other effects.</span></span> <span data-ttu-id="9dcb3-198">次の図に、いくつかの効果を達成できる、<xref:System.Windows.Media.ImageBrush>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-198">The following illustration shows some effects that can be achieved with an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 <span data-ttu-id="9dcb3-199">![ImageBrush の出力例](../../../../docs/framework/wpf/graphics-multimedia/media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span><span class="sxs-lookup"><span data-stu-id="9dcb3-199">![ImageBrush output examples](../../../../docs/framework/wpf/graphics-multimedia/media/wcpsdk-mmgraphics-imagebrushexamples.gif "wcpsdk_mmgraphics_imagebrushexamples")</span></span>  
<span data-ttu-id="9dcb3-200">イメージ ブラシは、図形、コントロール、テキストなどを塗りつぶすことができる</span><span class="sxs-lookup"><span data-stu-id="9dcb3-200">Image brushes can fill shapes, controls, text, and more</span></span>  
  
 <span data-ttu-id="9dcb3-201">次の例を使用して、イメージ付きのボタンの背景を描画する方法、<xref:System.Windows.Media.ImageBrush>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-201">The following example demonstrates how to paint the background of a button with an image using an <xref:System.Windows.Media.ImageBrush>.</span></span>  
  
 [!code-xaml[UsingImageBrush#4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/UsingImageBrush/CS/PaintingWithImages.xaml#4)]  
  
 <span data-ttu-id="9dcb3-202">詳細については<xref:System.Windows.Media.ImageBrush>イメージの描画を参照してくださいと[イメージ、描画、およびビジュアル](../../../../docs/framework/wpf/graphics-multimedia/painting-with-images-drawings-and-visuals.md)します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-202">For additional information about <xref:System.Windows.Media.ImageBrush> and painting images see [Painting with Images, Drawings, and Visuals](../../../../docs/framework/wpf/graphics-multimedia/painting-with-images-drawings-and-visuals.md).</span></span>  
  
<a name="_metadata"></a>   
## <a name="image-metadata"></a><span data-ttu-id="9dcb3-203">イメージのメタデータ</span><span class="sxs-lookup"><span data-stu-id="9dcb3-203">Image Metadata</span></span>  
 <span data-ttu-id="9dcb3-204">一部のイメージ ファイルには、ファイルの内容または特性を記述するメタデータが含まれています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-204">Some image files contain metadata that describes the content or the characteristics of the file.</span></span> <span data-ttu-id="9dcb3-205">たとえば、ほとんどのデジタル カメラは、イメージをキャプチャするために使用されるカメラの型番に関するメタデータを含むイメージを作成します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-205">For example, most digital cameras create images that contain metadata about the make and model of the camera used to capture the image.</span></span> <span data-ttu-id="9dcb3-206">各イメージ形式は、メタデータを異なる方法で処理しますが、[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] では、サポートしているイメージ形式のメタデータの格納と取得を一律に実行します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-206">Each image format handles metadata differently but [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] provides a uniform way of storing and retrieving metadata for each supported image format.</span></span>  
  
 <span data-ttu-id="9dcb3-207">メタデータへのアクセスがを通じて提供される、<xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A>のプロパティを<xref:System.Windows.Media.Imaging.BitmapSource>オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-207">Access to metadata is provided through the <xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> property of a <xref:System.Windows.Media.Imaging.BitmapSource> object.</span></span> <span data-ttu-id="9dcb3-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> 返します、<xref:System.Windows.Media.Imaging.BitmapMetadata>イメージに含まれるすべてのメタデータを含むオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-208"><xref:System.Windows.Media.Imaging.BitmapSource.Metadata%2A> returns a <xref:System.Windows.Media.Imaging.BitmapMetadata> object that includes all the metadata contained by the image.</span></span> <span data-ttu-id="9dcb3-209">このデータは、1 つのメタデータ スキーマでも、異なるスキーマの組み合わせでもかまいません。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-209">This data may be in one metadata schema or a combination of different schemes.</span></span> [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)]<span data-ttu-id="9dcb3-210"> では、次のメタデータをサポートします。[!INCLUDE[TLA#tla_exif](../../../../includes/tlasharptla-exif-md.md)]EXt (PNG テキスト データ)、[!INCLUDE[TLA#tla_ifd](../../../../includes/tlasharptla-ifd-md.md)][!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)]および [!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-210"> supports the following image metadata schemas: [!INCLUDE[TLA#tla_exif](../../../../includes/tlasharptla-exif-md.md)], tEXt (PNG Textual Data), [!INCLUDE[TLA#tla_ifd](../../../../includes/tlasharptla-ifd-md.md)], [!INCLUDE[TLA#tla_iptc](../../../../includes/tlasharptla-iptc-md.md)], and [!INCLUDE[TLA#tla_xmp](../../../../includes/tlasharptla-xmp-md.md)].</span></span>  
  
 <span data-ttu-id="9dcb3-211">メタデータの読み取りのプロセスを簡略化するため<xref:System.Windows.Media.Imaging.BitmapMetadata>など簡単にアクセスできるいくつかの名前付きプロパティを提供します<xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>、 <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>、および<xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-211">In order to simplify the process of reading metadata, <xref:System.Windows.Media.Imaging.BitmapMetadata> provides several named properties that can be easily accessed such as <xref:System.Windows.Media.Imaging.BitmapMetadata.Author%2A>, <xref:System.Windows.Media.Imaging.BitmapMetadata.Title%2A>, and <xref:System.Windows.Media.Imaging.BitmapMetadata.CameraModel%2A>.</span></span> <span data-ttu-id="9dcb3-212">これらの名前付きプロパティの多くは、メタデータを書き込むためにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-212">Many of these named properties can also be used to write metadata.</span></span> <span data-ttu-id="9dcb3-213">メタデータを読み取るための追加サポートは、メタデータ クエリ リーダーによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-213">Additional support for reading metadata is provided by the metadata query reader.</span></span> <span data-ttu-id="9dcb3-214"><xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A>など文字列クエリを指定して、メタデータ クエリ リーダーを取得するメソッドが使用される *"/app1/app1/exif/"* します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-214">The <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> method is used to retrieve a metadata query reader by providing a string query such as *"/app1/exif/"*.</span></span> <span data-ttu-id="9dcb3-215">次の例では、<xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A>に格納されているテキストを取得するために使用、 *「テキスト/説明」* 場所。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-215">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.GetQuery%2A> is used to obtain the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#GetQuery](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#getquery)]
 [!code-csharp[BitmapMetadata#GetQuery](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#getquery)]
 [!code-vb[BitmapMetadata#GetQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#getquery)]  
  
 <span data-ttu-id="9dcb3-216">メタデータを書き込むには、メタデータ クエリ ライターが使用されます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-216">To write metadata, a metadata query writer is used.</span></span> <span data-ttu-id="9dcb3-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> クエリの記述を取得し、目的の値を設定します。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-217"><xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> obtains the query writer and sets the desired value.</span></span> <span data-ttu-id="9dcb3-218">次の例では、<xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A>に格納されているテキストを書き込むために使用、 *「テキスト/説明」* 場所。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-218">In the following example, <xref:System.Windows.Media.Imaging.BitmapMetadata.SetQuery%2A> is used to write the text stored in the *"/Text/Description"* location.</span></span>  
  
 [!code-cpp[BitmapMetadata#SetQuery](../../../../samples/snippets/cpp/VS_Snippets_Wpf/BitMapMetadata/CPP/BitmapMetadata.cpp#setquery)]
 [!code-csharp[BitmapMetadata#SetQuery](../../../../samples/snippets/csharp/VS_Snippets_Wpf/BitMapMetadata/CSharp/BitmapMetadata.cs#setquery)]
 [!code-vb[BitmapMetadata#SetQuery](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/BitMapMetadata/VB/BitmapMetadata.vb#setquery)]  
  
<a name="_extensibility"></a>   
## <a name="codec-extensibility"></a><span data-ttu-id="9dcb3-219">コーデックの機能拡張</span><span class="sxs-lookup"><span data-stu-id="9dcb3-219">Codec Extensibility</span></span>  
 <span data-ttu-id="9dcb3-220">[!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] の核心的な機能は、新しいイメージ コーデック用の機能拡張モデルです。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-220">A core feature of [!INCLUDE[TLA2#tla_wic](../../../../includes/tla2sharptla-wic-md.md)] is the extensibility model for new image codecs.</span></span> <span data-ttu-id="9dcb3-221">これらのアンマネージ インターフェイスによって、コーデック開発者は、コーデックを [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] と統合して、新しいイメージ形式を [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] アプリケーションで自動的に使用できるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-221">These unmanaged interfaces enable codec developers to integrate codecs with [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] so new image formats can automatically be used by [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span>  
  
 <span data-ttu-id="9dcb3-222">機能拡張 [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] のサンプルについては、[Win32 サンプル コーデック](https://go.microsoft.com/fwlink/?LinkID=160052)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-222">For a sample of the extensibility [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], see the [Win32 Sample Codec](https://go.microsoft.com/fwlink/?LinkID=160052).</span></span> <span data-ttu-id="9dcb3-223">このサンプルは、カスタム イメージ形式用のデコーダーとエンコーダーの作成方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-223">This sample demonstrates how to create a decoder and encoder for a custom image format.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9dcb3-224">システムで認識するは、コーデックをデジタル署名する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dcb3-224">The codec must be digitally signed for the system to recognize it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9dcb3-225">関連項目</span><span class="sxs-lookup"><span data-stu-id="9dcb3-225">See Also</span></span>  
 <xref:System.Windows.Media.Imaging.BitmapSource>  
 <xref:System.Windows.Media.Imaging.BitmapImage>  
 <xref:System.Windows.Controls.Image>  
 <xref:System.Windows.Media.Imaging.BitmapMetadata>  
 [<span data-ttu-id="9dcb3-226">2D グラフィックスとイメージング</span><span class="sxs-lookup"><span data-stu-id="9dcb3-226">2D Graphics and Imaging</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)  
 [<span data-ttu-id="9dcb3-227">Win32 サンプル コーデック</span><span class="sxs-lookup"><span data-stu-id="9dcb3-227">Win32 Sample Codec</span></span>](https://go.microsoft.com/fwlink/?LinkID=160052)
