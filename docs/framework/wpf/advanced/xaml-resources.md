---
title: XAML リソース
ms.date: 03/30/2017
helpviewer_keywords:
- reusing resources [WPF]
- resources [WPF], reusing
- reusing commonly defined objects [WPF]
- XAML [WPF], reusing resources
ms.assetid: 91580b89-a0a8-4889-aecb-fddf8e63175f
ms.openlocfilehash: 7b917b13909c463cd9d518d79bf8ce2683591dda
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/04/2018
---
# <a name="xaml-resources"></a><span data-ttu-id="d4b36-102">XAML リソース</span><span class="sxs-lookup"><span data-stu-id="d4b36-102">XAML Resources</span></span>
<span data-ttu-id="d4b36-103">リソースは、アプリケーションで別の場所で再利用可能なオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-103">A resource is an object that can be reused in different places in your application.</span></span> <span data-ttu-id="d4b36-104">リソースの例には、ブラシとスタイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-104">Examples of resources include brushes and styles.</span></span> <span data-ttu-id="d4b36-105">この概要は、リソースを使用する方法を説明[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-105">This overview describes how to use resources in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="d4b36-106">作成してコードを使用して、またはコードの間で同じ意味でリソースにアクセスし、[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-106">You can also create and access resources by using code, or interchangeably between code and [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="d4b36-107">詳細については、次を参照してください。[リソースやコード](../../../../docs/framework/wpf/advanced/resources-and-code.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-107">For more information, see [Resources and Code](../../../../docs/framework/wpf/advanced/resources-and-code.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="d4b36-108">このトピックで説明されているリソース ファイルは、リソース ファイルの記載と異なる[WPF アプリケーションのリソース、コンテンツ、およびデータ ファイル](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md)しで説明されている埋め込みまたはリンクされたリソースとは異なる[アプリケーションのリソース (.NET) の管理](http://msdn.microsoft.com/library/f2582734-8ada-4baa-8a7c-e2ef943ddf7e)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-108">The resource files described in this topic are different than the resource files described in [WPF Application Resource, Content, and Data Files](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md) and different than the embedded or linked resources described in [Managing Application Resources (.NET)](http://msdn.microsoft.com/library/f2582734-8ada-4baa-8a7c-e2ef943ddf7e).</span></span>  
  
  
<a name="usingresources"></a>   
## <a name="using-resources-in-xaml"></a><span data-ttu-id="d4b36-109">XAML でリソースの使用</span><span class="sxs-lookup"><span data-stu-id="d4b36-109">Using Resources in XAML</span></span>  
 <span data-ttu-id="d4b36-110">次の例では定義、<xref:System.Windows.Media.SolidColorBrush>ページのルート要素は、上のリソースとして。</span><span class="sxs-lookup"><span data-stu-id="d4b36-110">The following example defines a <xref:System.Windows.Media.SolidColorBrush> as a resource on the root element of a page.</span></span> <span data-ttu-id="d4b36-111">例では、リソースを参照しなどいくつかの子要素のプロパティを設定するため、 <xref:System.Windows.Shapes.Ellipse>、 <xref:System.Windows.Controls.TextBlock>、および<xref:System.Windows.Controls.Button>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-111">The example then references the resource and uses it to set properties of several child elements, including an <xref:System.Windows.Shapes.Ellipse>, a <xref:System.Windows.Controls.TextBlock>, and a <xref:System.Windows.Controls.Button>.</span></span>  
  
 [!code-xaml[FEResourceSH_snip#XAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page1.xaml#xaml)]  
  
 <span data-ttu-id="d4b36-112">フレームワーク レベルのすべての要素 (<xref:System.Windows.FrameworkElement>または<xref:System.Windows.FrameworkContentElement>) が、<xref:System.Windows.FrameworkElement.Resources%2A>リソースを含むプロパティのプロパティ (として、 <xref:System.Windows.ResourceDictionary>) リソースを定義します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-112">Every framework-level element (<xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>) has a <xref:System.Windows.FrameworkElement.Resources%2A> property, which is the property that contains the resources (as a <xref:System.Windows.ResourceDictionary>) that a resource defines.</span></span> <span data-ttu-id="d4b36-113">任意の要素では、リソースを定義できます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-113">You can define resources on any element.</span></span> <span data-ttu-id="d4b36-114">ただし、リソースがであるルート要素で定義された最もよく<xref:System.Windows.Controls.Page>の例です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-114">However, resources are most often defined on the root element, which is <xref:System.Windows.Controls.Page> in the example.</span></span>  
  
 <span data-ttu-id="d4b36-115">リソース ディクショナリ内の各リソースは、一意キーを持つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-115">Each resource in a resource dictionary must have a unique key.</span></span> <span data-ttu-id="d4b36-116">を通じて一意のキーを割り当てるマークアップでリソースを定義するときに、 [X:key ディレクティブ](../../../../docs/framework/xaml-services/x-key-directive.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-116">When you define resources in markup, you assign the unique key through the [x:Key Directive](../../../../docs/framework/xaml-services/x-key-directive.md).</span></span> <span data-ttu-id="d4b36-117">通常、キーは、文字列です。ただし、設定することできますも他のオブジェクトの種類に適切なマークアップ拡張機能を使用して、します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-117">Typically, the key is a string; however, you can also set it to other object types by using the appropriate markup extensions.</span></span> <span data-ttu-id="d4b36-118">リソースの文字列以外のキーがで特定の機能領域で使用される[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]スタイル、コンポーネントのリソース、およびデータのスタイル処理のです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-118">Nonstring keys for resources are used by certain feature areas in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], notably for styles, component resources, and data styling.</span></span>  
  
 <span data-ttu-id="d4b36-119">リソースを定義した後は、たとえば、キー名を指定するリソースのマークアップ拡張構文を使用してプロパティ値を使用するリソースを参照できます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-119">After you define a resource, you can reference the resource to be used for a property value by using a resource markup extension syntax that specifies the key name, for example:</span></span>  
  
 [!code-xaml[FEResourceSH_snip#KeyNameUsage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#keynameusage)]  
  
 <span data-ttu-id="d4b36-120">前の例では、ときに、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]ローダーが、値を処理`{StaticResource MyBrush}`の<xref:System.Windows.Controls.Control.Background%2A>プロパティを<xref:System.Windows.Controls.Button>、リソースの検索ロジックをリソース ディクショナリでチェック最初、<xref:System.Windows.Controls.Button>要素。</span><span class="sxs-lookup"><span data-stu-id="d4b36-120">In the preceding example, when the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader processes the value `{StaticResource MyBrush}` for the <xref:System.Windows.Controls.Control.Background%2A> property on <xref:System.Windows.Controls.Button>, the resource lookup logic first checks the resource dictionary for the <xref:System.Windows.Controls.Button> element.</span></span> <span data-ttu-id="d4b36-121">場合<xref:System.Windows.Controls.Button>リソース キーの定義がない`MyBrush`(そうでない以外の場合は、リソース コレクションが空)、参照は、次の親要素をチェック<xref:System.Windows.Controls.Button>、これは<xref:System.Windows.Controls.Page>します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-121">If <xref:System.Windows.Controls.Button> does not have a definition of the resource key `MyBrush` (it does not; its resource collection is empty), the lookup next checks the parent element of <xref:System.Windows.Controls.Button>, which is <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="d4b36-122">したがってでリソースを定義するときに、 <xref:System.Windows.Controls.Page> 、ルート要素の論理ツリー内のすべての要素、<xref:System.Windows.Controls.Page>アクセスでき、および任意のプロパティの値の設定を受け入れるため、同じリソースを再利用することができます、<xref:System.Type>をリソース表します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-122">Thus, when you define a resource on the <xref:System.Windows.Controls.Page> root element, all the elements in the logical tree of the <xref:System.Windows.Controls.Page> can access it, and you can reuse the same resource for setting the value of any property that accepts the <xref:System.Type> that the resource represents.</span></span> <span data-ttu-id="d4b36-123">前の例で、同じ`MyBrush`リソースは、2 つの異なるプロパティを設定:<xref:System.Windows.Controls.Control.Background%2A>の<xref:System.Windows.Controls.Button>、および<xref:System.Windows.Shapes.Shape.Fill%2A>の<xref:System.Windows.Shapes.Rectangle>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-123">In the previous example, the same `MyBrush` resource sets two different properties: the <xref:System.Windows.Controls.Control.Background%2A> of a <xref:System.Windows.Controls.Button>, and the <xref:System.Windows.Shapes.Shape.Fill%2A> of a <xref:System.Windows.Shapes.Rectangle>.</span></span>  
  
<a name="staticdynamic"></a>   
## <a name="static-and-dynamic-resources"></a><span data-ttu-id="d4b36-124">静的および動的なリソース</span><span class="sxs-lookup"><span data-stu-id="d4b36-124">Static and Dynamic Resources</span></span>  
 <span data-ttu-id="d4b36-125">リソースは、静的リソースまたは動的なリソースのいずれかとして参照することができます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-125">A resource can be referenced as either a static resource or a dynamic resource.</span></span> <span data-ttu-id="d4b36-126">これは、いずれかを使用することで、 [StaticResource マークアップ拡張機能](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md)または[DynamicResource マークアップ拡張機能](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-126">This is done by using either the [StaticResource Markup Extension](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md) or the [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="d4b36-127">マークアップ拡張機能の機能は、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]属性の文字列を処理し、対象のオブジェクトを返すマークアップ拡張機能のことでオブジェクト参照を指定するという、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]ローダー。</span><span class="sxs-lookup"><span data-stu-id="d4b36-127">A markup extension is a feature of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] whereby you can specify an object reference by having the markup extension process the attribute string and return the object to a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader.</span></span> <span data-ttu-id="d4b36-128">マークアップ拡張機能の動作の詳細については、次を参照してください。[マークアップ拡張機能と WPF XAML](../../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-128">For more information about markup extension behavior, see [Markup Extensions and WPF XAML](../../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md).</span></span>  
  
 <span data-ttu-id="d4b36-129">マークアップ拡張機能を使用する場合は、その特定のマークアップ拡張機能で処理される文字列形式の 1 つまたは複数のパラメーターではなく、設定されるプロパティのコンテキストで評価される通常提供します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-129">When you use a markup extension, you typically provide one or more parameters in string form that are processed by that particular markup extension, rather than being evaluated in the context of the property being set.</span></span> <span data-ttu-id="d4b36-130">[StaticResource マークアップ拡張機能](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md)すべての利用可能なリソース ディクショナリ内でそのキーの値の検索キーを処理します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-130">The [StaticResource Markup Extension](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md) processes a key by looking up the value for that key in all available resource dictionaries.</span></span> <span data-ttu-id="d4b36-131">これは、読み込みプロセスを静的リソース参照を受け取るプロパティの値を割り当てる必要がある場合に、ポイントの読み込み中に発生します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-131">This happens during loading, which is the point in time when the loading process needs to assign the property value that takes the static resource reference.</span></span> <span data-ttu-id="d4b36-132">[DynamicResource マークアップ拡張機能](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)代わりにプロセス式、およびその式を作成して、キーが評価されていないアプリケーションが実際に実行されるまで、どの時に式が評価され、値を提供します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-132">The [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md) instead processes a key by creating an expression, and that expression remains unevaluated until the application is actually run, at which time the expression is evaluated and provides a value.</span></span>  
  
 <span data-ttu-id="d4b36-133">次の考慮事項のリソースを参照するときに、静的リソース参照または動的リソース参照を使用するかどうかに影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-133">When you reference a resource, the following considerations can influence whether you use a static resource reference or a dynamic resource reference:</span></span>  
  
-   <span data-ttu-id="d4b36-134">アプリケーションのリソースを作成する方法の全体的なデザイン (アプリケーションでは、ページごとに失われた[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]、リソースのみのアセンブリで)。</span><span class="sxs-lookup"><span data-stu-id="d4b36-134">The overall design of how you create the resources for your application (per page, in the application, in loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], in a resource only assembly).</span></span>  
  
-   <span data-ttu-id="d4b36-135">アプリケーションの機能: アプリケーションの要件の一部をリアルタイムでリソースを更新しますか?</span><span class="sxs-lookup"><span data-stu-id="d4b36-135">The application functionality: is updating resources in real time part of your application requirements?</span></span>  
  
-   <span data-ttu-id="d4b36-136">リソース参照の種類のそれぞれの検索動作します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-136">The respective lookup behavior of that resource reference type.</span></span>  
  
-   <span data-ttu-id="d4b36-137">特定のプロパティまたはリソースの種類、およびそれらの型のネイティブの動作です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-137">The particular property or resource type, and the native behavior of those types.</span></span>  
  
### <a name="static-resources"></a><span data-ttu-id="d4b36-138">静的なリソース</span><span class="sxs-lookup"><span data-stu-id="d4b36-138">Static Resources</span></span>  
 <span data-ttu-id="d4b36-139">静的リソースは、次の状況に最適な作業を参照します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-139">Static resource references work best for the following circumstances:</span></span>  
  
-   <span data-ttu-id="d4b36-140">アプリケーションの設計は、辞書で集中そのページにリソースやアプリケーション レベルのリソースのほぼすべてします。</span><span class="sxs-lookup"><span data-stu-id="d4b36-140">Your application design concentrates most of all of its resources into page or application level resource dictionaries.</span></span> <span data-ttu-id="d4b36-141">静的リソース参照は、ページの再読み込みなどの実行時の動作に基づいて再評価されないでき、したがってがありますのでは、リソースごとに必要ない場合は、多数の動的リソース参照を回避するパフォーマンスが向上し、アプリケーションの設計。</span><span class="sxs-lookup"><span data-stu-id="d4b36-141">Static resource references are not reevaluated based on runtime behaviors such as reloading a page, and therefore there can be some performance benefit to avoiding large numbers of dynamic resource references when they are not necessary per your resource and application design.</span></span>  
  
-   <span data-ttu-id="d4b36-142">含まれていないプロパティの値を設定する、<xref:System.Windows.DependencyObject>または<xref:System.Windows.Freezable>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-142">You are setting the value of a property that is not on a <xref:System.Windows.DependencyObject> or a <xref:System.Windows.Freezable>.</span></span>  
  
-   <span data-ttu-id="d4b36-143">DLL にコンパイルし、アプリケーションの一部としてパッケージ化またはアプリケーション間で共有されるリソース ディクショナリを作成します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-143">You are creating a resource dictionary that will be compiled into a DLL, and packaged as part of the application or shared between applications.</span></span>  
  
-   <span data-ttu-id="d4b36-144">カスタム コントロール用のテーマを作成して、テーマ内で使用されているリソースを定義します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-144">You are creating a theme for a custom control, and are defining resources that are used within the themes.</span></span> <span data-ttu-id="d4b36-145">この場合、通常しないようにする動的リソース参照の検索動作を代わりに、静的リソース参照動作検索結果は予測可能で自己完結型のテーマにできるようにします。</span><span class="sxs-lookup"><span data-stu-id="d4b36-145">For this case, you typically do not want the dynamic resource reference lookup behavior, you instead want the static resource reference behavior so that the lookup is predictable and self-contained to the theme.</span></span> <span data-ttu-id="d4b36-146">動的リソース参照、でもはテーマでの参照のままが、実行時まで評価し、テーマが適用されている、いくつかのローカルの要素を参照すると、テーマ、キーを再定義し、ローカルの要素を前に分類されます可能性があります。されたテーマへ自体の参照にします。</span><span class="sxs-lookup"><span data-stu-id="d4b36-146">With a dynamic resource reference, even a reference within a theme is left unevaluated until runtime, and there is a chance that when the theme is applied, some local element will redefine a key that your theme is trying to reference, and the local element will fall prior to the theme itself in the lookup.</span></span> <span data-ttu-id="d4b36-147">その場合は、テーマに期待どおりに動作しません。</span><span class="sxs-lookup"><span data-stu-id="d4b36-147">If that happens, your theme will not behave in an expected manner.</span></span>  
  
-   <span data-ttu-id="d4b36-148">リソースを使用すると、多数の依存関係プロパティを設定しています。</span><span class="sxs-lookup"><span data-stu-id="d4b36-148">You are using resources to set large numbers of dependency properties.</span></span> <span data-ttu-id="d4b36-149">依存関係プロパティでは、有効な値キャッシュをプロパティ システムで有効であるため、依存関係プロパティが reevaluated 式を確認する必要はありませんし、返すことができますの読み込み時に評価される依存関係プロパティの値を指定する場合、最後の有効な値です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-149">Dependency properties have effective value caching as enabled by the property system, so if you provide a value for a dependency property that can be evaluated at load time, the dependency property does not have to check for a reevaluated expression and can return the last effective value.</span></span> <span data-ttu-id="d4b36-150">この方法は、パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-150">This technique can be a performance benefit.</span></span>  
  
-   <span data-ttu-id="d4b36-151">すべてのコンシューマーの基になるリソースを変更するかを使用して、各コンシューマーの書き込み可能な個別のインスタンスを管理する、 [x: 共有属性](../../../../docs/framework/xaml-services/x-shared-attribute.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-151">You want to change the underlying resource for all consumers, or you want to maintain separate writable instances for each consumer by using the [x:Shared Attribute](../../../../docs/framework/xaml-services/x-shared-attribute.md).</span></span>  
  
#### <a name="static-resource-lookup-behavior"></a><span data-ttu-id="d4b36-152">静的リソースの検索の動作</span><span class="sxs-lookup"><span data-stu-id="d4b36-152">Static resource lookup behavior</span></span>  
  
1.  <span data-ttu-id="d4b36-153">照合プロセスでは、プロパティを設定する要素で定義されているリソース ディクショナリ内で要求されたキーを確認します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-153">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>  
  
2.  <span data-ttu-id="d4b36-154">照合プロセスは、親要素とそのリソース ディクショナリにし、論理ツリーを上方向を走査します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-154">The lookup process then traverses the logical tree upward, to the parent element and its resource dictionary.</span></span> <span data-ttu-id="d4b36-155">これは、ルート要素に到達するまでは続行されます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-155">This continues until the root element is reached.</span></span>  
  
3.  <span data-ttu-id="d4b36-156">次に、アプリケーションのリソースがチェックされます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-156">Next, application resources are checked.</span></span> <span data-ttu-id="d4b36-157">アプリケーション リソースによって定義されているリソース ディクショナリ内では、<xref:System.Windows.Application>オブジェクトに対して、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]アプリケーションです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-157">Application resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span>  
  
 <span data-ttu-id="d4b36-158">リソース ディクショナリ内から静的リソース参照では、既に定義されている構文的にリソース参照の前にリソースを参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-158">Static resource references from within a resource dictionary must reference a resource that has already been defined lexically before the resource reference.</span></span> <span data-ttu-id="d4b36-159">静的リソース参照では、前方参照を解決できません。</span><span class="sxs-lookup"><span data-stu-id="d4b36-159">Forward references cannot be resolved by a static resource reference.</span></span> <span data-ttu-id="d4b36-160">このため、静的リソース参照を使用する場合は、する必要があります構造を設計する、リソース ディクショナリ各リソース ディクショナリの先頭に近いリソースによって使用される予定のリソースを定義するようです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-160">For this reason, if you use static resource references, you must design your resource dictionary structure such that resources intended for by-resource use are defined at or near the beginning of each respective resource dictionary.</span></span>  
  
 <span data-ttu-id="d4b36-161">静的リソース参照は、テーマ、またはシステム リソースを拡張できますが、ためにのみ、これはサポート、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]ローダーによって要求が遅延します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-161">Static resource lookup can extend into themes, or into system resources, but this is supported only because the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader defers the request.</span></span> <span data-ttu-id="d4b36-162">ページの読み込み時に実行時のテーマは、アプリケーションに正しく適用できるように、遅延する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-162">The deferral is necessary so that the runtime theme at the time the page loads applies properly to the application.</span></span> <span data-ttu-id="d4b36-163">ただし、静的リソースにのみ存在テーマまたはリソースが推奨されないシステムとして認識されているキーへの参照します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-163">However, static resource references to keys that are known to only exist in themes or as system resources are not recommended.</span></span> <span data-ttu-id="d4b36-164">これは、テーマがリアルタイムでユーザーが変更された場合、このような参照が再評価されないためです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-164">This is because such references are not reevaluated if the theme is changed by the user in realtime.</span></span> <span data-ttu-id="d4b36-165">テーマまたはシステム リソースを要求するときに、動的なリソースの参照はより信頼性の高いです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-165">A dynamic resource reference is more reliable when you request theme or system resources.</span></span> <span data-ttu-id="d4b36-166">テーマ要素自体は、別のリソースを要求するときは例外です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-166">The exception is when a theme element itself requests another resource.</span></span> <span data-ttu-id="d4b36-167">これらの参照は、前述の理由で静的リソース参照をする必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-167">These references should be static resource references, for the reasons mentioned earlier.</span></span>  
  
 <span data-ttu-id="d4b36-168">静的リソース参照が見つからない場合は、例外動作によって異なります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-168">The exception behavior if a static resource reference is not found varies.</span></span> <span data-ttu-id="d4b36-169">リソースが延期された場合は、実行時に例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-169">If the resource was deferred, then the exception occurs at runtime.</span></span> <span data-ttu-id="d4b36-170">リソースが遅延されなかった場合は、読み込み時に例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-170">If the resource was not deferred, the exception occurs at load time.</span></span>  
  
### <a name="dynamic-resources"></a><span data-ttu-id="d4b36-171">動的リソース</span><span class="sxs-lookup"><span data-stu-id="d4b36-171">Dynamic Resources</span></span>  
 <span data-ttu-id="d4b36-172">次の状況に最適な動的なリソース。</span><span class="sxs-lookup"><span data-stu-id="d4b36-172">Dynamic resources work best for the following circumstances:</span></span>  
  
-   <span data-ttu-id="d4b36-173">リソースの値は、実行時まで不明な条件によって異なります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-173">The value of the resource depends on conditions that are not known until runtime.</span></span> <span data-ttu-id="d4b36-174">これには、システム リソース、または他のユーザー設定可能なリソースが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-174">This includes system resources, or resources that are otherwise user settable.</span></span> <span data-ttu-id="d4b36-175">によって公開されていると、システムのプロパティを参照する setter 値を作成するなど、 <xref:System.Windows.SystemColors>、 <xref:System.Windows.SystemFonts>、または<xref:System.Windows.SystemParameters>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-175">For example, you can create setter values that refer to system properties, as exposed by <xref:System.Windows.SystemColors>, <xref:System.Windows.SystemFonts>, or <xref:System.Windows.SystemParameters>.</span></span> <span data-ttu-id="d4b36-176">ユーザーとオペレーティング システムのランタイム環境から最終的にくるために、これらの値は動的です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-176">These values are truly dynamic because they ultimately come from the runtime environment of the user and operating system.</span></span> <span data-ttu-id="d4b36-177">ページ レベル リソースへのアクセス、変更のキャプチャをする必要がありますも、変更可能なアプリケーション レベルのテーマを設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-177">You might also have application-level themes that can change, where page-level resource access must also capture the change.</span></span>  
  
-   <span data-ttu-id="d4b36-178">作成またはカスタム コントロール用のテーマのスタイルを参照しています。</span><span class="sxs-lookup"><span data-stu-id="d4b36-178">You are creating or referencing theme styles for a custom control.</span></span>  
  
-   <span data-ttu-id="d4b36-179">内容を調整する場合、<xref:System.Windows.ResourceDictionary>アプリケーションの有効期間中にします。</span><span class="sxs-lookup"><span data-stu-id="d4b36-179">You intend to adjust the contents of a <xref:System.Windows.ResourceDictionary> during an application lifetime.</span></span>  
  
-   <span data-ttu-id="d4b36-180">前方参照が必要ありますの相互依存性を持つ構造の複雑なリソースがあります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-180">You have a complicated resource structure that has interdependencies, where a forward reference may be required.</span></span> <span data-ttu-id="d4b36-181">静的リソース参照は前方参照をサポートしていませんが、動的リソース参照をサポートしてそれらのリソースが、実行時まで評価する必要がないため、前方参照されないため、関連する概念です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-181">Static resource references do not support forward references, but dynamic resource references do support them because the resource does not need to be evaluated until runtime, and forward references are therefore not a relevant concept.</span></span>  
  
-   <span data-ttu-id="d4b36-182">コンパイルまたはワーキング セットの観点から大規模なであるリソースを参照しているし、ページが読み込まれるときにすぐに、リソースを使用しない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-182">You are referencing a resource that is particularly large from the perspective of a compile or working set, and the resource might not be used immediately when the page loads.</span></span> <span data-ttu-id="d4b36-183">静的リソース参照は常にから読み込む[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]ページが読み込まれた場合です。 ただし、動的なリソースの参照まで読み込まれませんが、実際に使用します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-183">Static resource references always load from [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] when the page loads; however, a dynamic resource reference does not load until it is actually used.</span></span>  
  
-   <span data-ttu-id="d4b36-184">Set アクセス操作子の値が元の場所のテーマや他のユーザー設定の影響を受けるその他の値、スタイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-184">You are creating a style where setter values might come from other values that are influenced by themes or other user settings.</span></span>  
  
-   <span data-ttu-id="d4b36-185">リソースを適用する場合がある親を再指定論理ツリーのアプリケーションの有効期間中に要素。</span><span class="sxs-lookup"><span data-stu-id="d4b36-185">You are applying resources to elements that might be reparented in the logical tree during application lifetime.</span></span> <span data-ttu-id="d4b36-186">可能性がある親を変更すると、リソースの検索スコープを変更、ようにする場合は、リソースが再評価されますこの要素の新しいスコープに基づいて、常に使用して動的リソース参照します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-186">Changing the parent also potentially changes the resource lookup scope, so if you want the resource for a reparented element to be reevaluated based on the new scope, always use a dynamic resource reference.</span></span>  
  
#### <a name="dynamic-resource-lookup-behavior"></a><span data-ttu-id="d4b36-187">動的なリソースの検索の動作</span><span class="sxs-lookup"><span data-stu-id="d4b36-187">Dynamic resource lookup behavior</span></span>  
 <span data-ttu-id="d4b36-188">呼び出す場合は動的なリソースの参照用リソースの検索の動作は、コード内の検索の動作に対応して<xref:System.Windows.FrameworkElement.FindResource%2A>または<xref:System.Windows.FrameworkElement.SetResourceReference%2A>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-188">Resource lookup behavior for a dynamic resource reference parallels the lookup behavior in your code if you call <xref:System.Windows.FrameworkElement.FindResource%2A> or <xref:System.Windows.FrameworkElement.SetResourceReference%2A>.</span></span>  
  
1.  <span data-ttu-id="d4b36-189">照合プロセスでは、プロパティを設定する要素で定義されているリソース ディクショナリ内で要求されたキーを確認します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-189">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>  
  
    -   <span data-ttu-id="d4b36-190">要素が定義されている場合、<xref:System.Windows.FrameworkElement.Style%2A>プロパティ、<xref:System.Windows.Style.Resources%2A>ディクショナリ内で、<xref:System.Windows.Style>がオンになっています。</span><span class="sxs-lookup"><span data-stu-id="d4b36-190">If the element defines a <xref:System.Windows.FrameworkElement.Style%2A> property, the <xref:System.Windows.Style.Resources%2A> dictionary within the <xref:System.Windows.Style> is checked.</span></span>  
  
    -   <span data-ttu-id="d4b36-191">要素が定義されている場合、<xref:System.Windows.Controls.Control.Template%2A>プロパティ、<xref:System.Windows.FrameworkTemplate.Resources%2A>ディクショナリ内で、<xref:System.Windows.FrameworkTemplate>がオンになっています。</span><span class="sxs-lookup"><span data-stu-id="d4b36-191">If the element defines a <xref:System.Windows.Controls.Control.Template%2A> property, the <xref:System.Windows.FrameworkTemplate.Resources%2A> dictionary within the <xref:System.Windows.FrameworkTemplate> is checked.</span></span>  
  
2.  <span data-ttu-id="d4b36-192">照合プロセスは、親要素とそのリソース ディクショナリにし、論理ツリーを上方向を走査します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-192">The lookup process then traverses the logical tree upward, to the parent element and its resource dictionary.</span></span> <span data-ttu-id="d4b36-193">これは、ルート要素に到達するまでは続行されます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-193">This continues until the root element is reached.</span></span>  
  
3.  <span data-ttu-id="d4b36-194">次に、アプリケーションのリソースがチェックされます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-194">Next, application resources are checked.</span></span> <span data-ttu-id="d4b36-195">アプリケーション リソースによって定義されているリソース ディクショナリ内では、<xref:System.Windows.Application>オブジェクトに対して、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]アプリケーションです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-195">Application resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span>  
  
4.  <span data-ttu-id="d4b36-196">現在アクティブなテーマのテーマ リソース ディクショナリがチェックされます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-196">Theme resource dictionary is checked, for the currently active theme.</span></span> <span data-ttu-id="d4b36-197">実行時に、テーマが変更された場合、値が再評価されます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-197">If the theme changes at runtime, the value is reevaluated.</span></span>  
  
5.  <span data-ttu-id="d4b36-198">システム リソースがチェックされます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-198">System resources are checked.</span></span>  
  
 <span data-ttu-id="d4b36-199">(存在する場合)、例外の動作が異なります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-199">Exception behavior (if any) varies:</span></span>  
  
-   <span data-ttu-id="d4b36-200">リソースが要求した場合、<xref:System.Windows.FrameworkElement.FindResource%2A>呼び出す、または見つかりませんでした、例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-200">If a resource was requested by a <xref:System.Windows.FrameworkElement.FindResource%2A> call, and was not found, an exception is raised.</span></span>  
  
-   <span data-ttu-id="d4b36-201">リソースが要求した場合、<xref:System.Windows.FrameworkElement.TryFindResource%2A>呼び出す、または見つかりませんでした、例外は発生しませんが、返される値は`null`します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-201">If a resource was requested by a <xref:System.Windows.FrameworkElement.TryFindResource%2A> call, and was not found, no exception is raised, but the returned value is `null`.</span></span> <span data-ttu-id="d4b36-202">設定されるプロパティを受け付けない場合`null`、詳細な例外が発生することも可能にし、(これは設定されている個々 のプロパティに依存)。</span><span class="sxs-lookup"><span data-stu-id="d4b36-202">If the property being set does not accept `null`, then it is still possible that a deeper exception will be raised (this depends on the individual property being set).</span></span>  
  
-   <span data-ttu-id="d4b36-203">動的なリソースの参照がリソースを要求したかどうかは[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]、およびでしたが見つかりません。 し、動作は、[全般] プロパティ システムによって異なりますが、全般的な動作はようプロパティの設定の操作が発生していないリソースが存在するレベル。</span><span class="sxs-lookup"><span data-stu-id="d4b36-203">If a resource was requested by a dynamic resource reference in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], and was not found, then the behavior depends on the general property system, but the general behavior is as if no property setting operation occurred at the level where the resource exists.</span></span> <span data-ttu-id="d4b36-204">インスタンスに背景を設定しようとする場合を評価できませんでしたリソースを使用して、個々 のボタン要素値の設定はありません、結果が、プロパティのシステムと値の優先順位の他の参加者から有効な値が決まることができます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-204">For instance, if you attempt to set the background on a an individual button element using a resource that could not be evaluated, then no value set results, but the effective value can still come from other participants in the property system and value precedence.</span></span> <span data-ttu-id="d4b36-205">たとえば、バック グラウンド値が、ローカルに定義されたボタンのスタイルとテーマ スタイルから決まる場合があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-205">For instance, the background value might still come from a locally defined button style, or from the theme style.</span></span> <span data-ttu-id="d4b36-206">テーマ スタイルで定義されていないプロパティの場合は、障害が発生したリソースの評価後に有効な値は、プロパティ メタデータの既定値から取得可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-206">For properties that are not defined by theme styles, the effective value after a failed resource evaluation might come from the default value in the property metadata.</span></span>  
  
#### <a name="restrictions"></a><span data-ttu-id="d4b36-207">制約</span><span class="sxs-lookup"><span data-stu-id="d4b36-207">Restrictions</span></span>  
 <span data-ttu-id="d4b36-208">動的リソース参照では、いくつか重要な制限があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-208">Dynamic resource references have some notable restrictions.</span></span> <span data-ttu-id="d4b36-209">次の少なくとも 1 つがあります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-209">At least one of the following must be true:</span></span>  
  
-   <span data-ttu-id="d4b36-210">設定されているプロパティのプロパティである必要があります、<xref:System.Windows.FrameworkElement>または<xref:System.Windows.FrameworkContentElement>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-210">The property being set must be a property on a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="d4b36-211">プロパティをバックアップする必要があります、<xref:System.Windows.DependencyProperty>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-211">That property must be backed by a <xref:System.Windows.DependencyProperty>.</span></span>  
  
-   <span data-ttu-id="d4b36-212">内の値は、参照、 <xref:System.Windows.Style><xref:System.Windows.Setter>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-212">The reference is for a value within a <xref:System.Windows.Style><xref:System.Windows.Setter>.</span></span>  
  
-   <span data-ttu-id="d4b36-213">設定されているプロパティのプロパティである必要があります、<xref:System.Windows.Freezable>は、いずれかの値として提供される、<xref:System.Windows.FrameworkElement>または<xref:System.Windows.FrameworkContentElement>プロパティ、または<xref:System.Windows.Setter>値。</span><span class="sxs-lookup"><span data-stu-id="d4b36-213">The property being set must be a property on a <xref:System.Windows.Freezable> that is provided as a value of either a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> property, or a <xref:System.Windows.Setter> value.</span></span>  
  
 <span data-ttu-id="d4b36-214">プロパティが設定されている必要がありますので、<xref:System.Windows.DependencyProperty>または<xref:System.Windows.Freezable>プロパティ、ほとんどのプロパティの変更に伝達される、UI プロパティ システム プロパティの変更 (動的なリソースが変更された値) が確認されているためです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-214">Because the property being set must be a <xref:System.Windows.DependencyProperty> or <xref:System.Windows.Freezable> property, most property changes can propagate to UI because a property change (the changed dynamic resource value) is acknowledged by the property system.</span></span> <span data-ttu-id="d4b36-215">ほとんどのコントロールを含める場合は、コントロールの別のレイアウトを強制するロジックを<xref:System.Windows.DependencyProperty>変更とプロパティがレイアウトに影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-215">Most controls include logic that will force another layout of a control if a <xref:System.Windows.DependencyProperty> changes and that property might affect layout.</span></span> <span data-ttu-id="d4b36-216">ただし、必ずしもすべてのプロパティがある、 [DynamicResource マークアップ拡張機能](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)それらの値として、UI にリアルタイムで更新するように値を提供する保証はします。</span><span class="sxs-lookup"><span data-stu-id="d4b36-216">However, not all properties that have a [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md) as their value are guaranteed to provide the value in such a way that they update in realtime in the UI.</span></span> <span data-ttu-id="d4b36-217">機能を引き続き異なりますだけでなく、プロパティ、またはアプリケーションの論理構造を所有する型によって、プロパティによって異なります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-217">That functionality still might vary depending on the property, as well as depending on the type that owns the property, or even the logical structure of your application.</span></span>  
  
<a name="stylesimplicitkeys"></a>   
## <a name="styles-datatemplates-and-implicit-keys"></a><span data-ttu-id="d4b36-218">スタイル、Datatemplate、および暗黙的なキー</span><span class="sxs-lookup"><span data-stu-id="d4b36-218">Styles, DataTemplates, and Implicit Keys</span></span>  
 <span data-ttu-id="d4b36-219">以前が示されているすべての項目、<xref:System.Windows.ResourceDictionary>キーを持っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-219">Earlier, it was stated that all items in a <xref:System.Windows.ResourceDictionary> must have a key.</span></span> <span data-ttu-id="d4b36-220">ただし、必ずしもすべてのリソースが必要となる、明示的な`x:Key`します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-220">However, that does not mean that all resources must have an explicit `x:Key`.</span></span> <span data-ttu-id="d4b36-221">いくつかのオブジェクト型では、別のプロパティの値をキーの値が関連付けられている、リソースとして定義されている場合に暗黙のキーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="d4b36-221">Several object types support an implicit key when defined as a resource, where the key value is tied to the value of another property.</span></span> <span data-ttu-id="d4b36-222">これは暗黙のキーと呼びます、`x:Key`属性は明示的なキーです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-222">This is known as an implicit key, whereas an `x:Key` attribute is an explicit key.</span></span> <span data-ttu-id="d4b36-223">明示的なキーを指定することによって、暗黙のキーを上書きできます。</span><span class="sxs-lookup"><span data-stu-id="d4b36-223">You can overwrite any implicit key by specifying an explicit key.</span></span>  
  
 <span data-ttu-id="d4b36-224">リソースの 1 つの非常に重要なシナリオは、定義する場合、<xref:System.Windows.Style>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-224">One very important scenario for resources is when you define a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="d4b36-225">実際には、<xref:System.Windows.Style>スタイル本質的には、再利用するために、リソース ディクショナリのエントリとしてほぼ常に定義されています。</span><span class="sxs-lookup"><span data-stu-id="d4b36-225">In fact, a <xref:System.Windows.Style> is almost always defined as an entry in a resource dictionary, because styles are inherently intended for reuse.</span></span> <span data-ttu-id="d4b36-226">スタイルの詳細については、次を参照してください。[スタイルとテンプレート](../../../../docs/framework/wpf/controls/styling-and-templating.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-226">For more information about styles, see [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span></span>  
  
 <span data-ttu-id="d4b36-227">コントロールのスタイル両方で作成して暗黙のキーで参照します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-227">Styles for controls can be both created with and referenced with an implicit key.</span></span> <span data-ttu-id="d4b36-228">コントロールの既定の外観を定義するテーマ スタイルは、この暗黙のキーに依存します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-228">The theme styles that define the default appearance of a control rely on this implicit key.</span></span> <span data-ttu-id="d4b36-229">要求の観点からは、暗黙のキーは、<xref:System.Type>コントロール自体のです。</span><span class="sxs-lookup"><span data-stu-id="d4b36-229">The implicit key from the standpoint of requesting it is the <xref:System.Type> of the control itself.</span></span> <span data-ttu-id="d4b36-230">リソースの定義の観点からは、暗黙のキーは、<xref:System.Windows.Style.TargetType%2A>のスタイル。</span><span class="sxs-lookup"><span data-stu-id="d4b36-230">The implicit key from the standpoint of defining the resource is the <xref:System.Windows.Style.TargetType%2A> of the style.</span></span> <span data-ttu-id="d4b36-231">そのため場合カスタム コントロールのテーマを作成するには、既存のテーマ スタイルを使用して対話するスタイルを作成するは必要ありませんを指定する、 [X:key ディレクティブ](../../../../docs/framework/xaml-services/x-key-directive.md)を<xref:System.Windows.Style>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-231">Therefore, if you are creating themes for custom controls, creating styles that interact with existing theme styles, you do not need to specify an [x:Key Directive](../../../../docs/framework/xaml-services/x-key-directive.md) for that <xref:System.Windows.Style>.</span></span> <span data-ttu-id="d4b36-232">テーマとスタイルを使用する場合は、スタイルをまったく指定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d4b36-232">And if you want to use the themed styles, you do not need to specify any style at all.</span></span> <span data-ttu-id="d4b36-233">たとえば、次のスタイル定義の動作、いなくても、<xref:System.Windows.Style>キーが存在するリソースは表示されません。</span><span class="sxs-lookup"><span data-stu-id="d4b36-233">For instance, the following style definition works, even though the <xref:System.Windows.Style> resource does not appear to have a key:</span></span>  
  
 [!code-xaml[FEResourceSH_snip#ImplicitStyle](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#implicitstyle)]  
  
 <span data-ttu-id="d4b36-234">あるスタイル実際には、キーが: 暗黙のキー `typeof(` <xref:System.Windows.Controls.Button>`)`です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-234">That style really does have a key: the implicit key `typeof(`<xref:System.Windows.Controls.Button>`)`.</span></span> <span data-ttu-id="d4b36-235">マークアップを指定できます、<xref:System.Windows.Style.TargetType%2A>という名前の型として直接 (必要に応じて使用することができますか[{X:type...}](../../../../docs/framework/xaml-services/x-type-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="d4b36-235">In markup, you can specify a <xref:System.Windows.Style.TargetType%2A> directly as the type name (or you can optionally use [{x:Type...}](../../../../docs/framework/xaml-services/x-type-markup-extension.md)</span></span> <span data-ttu-id="d4b36-236">返す、<xref:System.Type>です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-236">to return a <xref:System.Type>.</span></span>  
  
 <span data-ttu-id="d4b36-237">によって使用される既定のテーマ スタイル メカニズムを通じて[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]のランタイム スタイルとしてスタイルが適用される、 <xref:System.Windows.Controls.Button>  ページで、場合でも、<xref:System.Windows.Controls.Button>自体は行われませんを指定するその<xref:System.Windows.FrameworkElement.Style%2A>プロパティまたは特定のリソーススタイルへの参照します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-237">Through the default theme style mechanisms used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], that style is applied as the runtime style of a <xref:System.Windows.Controls.Button> on the page, even though the <xref:System.Windows.Controls.Button> itself does not attempt to specify its <xref:System.Windows.FrameworkElement.Style%2A> property or a specific resource reference to the style.</span></span> <span data-ttu-id="d4b36-238">ページで定義されたスタイルがある検索シーケンスで先にテーマのテーマ ディクショナリ スタイルには、同じキーを使用してディクショナリ スタイルよりも前です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-238">Your style defined in the page is found earlier in the lookup sequence earlier than the theme dictionary style, using the same key that the theme dictionary style has.</span></span> <span data-ttu-id="d4b36-239">指定することだけ`<Button>Hello</Button>`任意の場所で、ページで定義されたスタイル<xref:System.Windows.Style.TargetType%2A>の`Button`はそのボタンに適用します。</span><span class="sxs-lookup"><span data-stu-id="d4b36-239">You could just specify `<Button>Hello</Button>` anywhere in the page, and the style you defined with <xref:System.Windows.Style.TargetType%2A> of `Button` would apply to that button.</span></span> <span data-ttu-id="d4b36-240">型値と同じスタイルが明示的を入力する場合は、 <xref:System.Windows.Style.TargetType%2A>、わかりやすくするため、マークアップでです省略可能です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-240">If you want, you can still explicitly key the style with the same type value as <xref:System.Windows.Style.TargetType%2A>, for clarity in your markup, but that is optional.</span></span>  
  
 <span data-ttu-id="d4b36-241">場合、スタイルの暗黙的なキーは、コントロールに適用されません<xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A>は`true`(もなお<xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A>コントロール クラスではなく、明示的に、コントロールのインスタンスのネイティブの動作の一部として設定することがあります)。</span><span class="sxs-lookup"><span data-stu-id="d4b36-241">Implicit keys for styles do not apply on a control if <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> is `true` (also note that <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> might be set as part of native behavior for the control class, rather than explicitly on an instance of the control).</span></span> <span data-ttu-id="d4b36-242">また、暗黙的なキーの派生クラスのシナリオをサポートするために、制御する必要がありますオーバーライド<xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>(の一部として提供されるすべての既存のコントロール[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]この)。</span><span class="sxs-lookup"><span data-stu-id="d4b36-242">Also, in order to support implicit keys for derived class scenarios, the control must override <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> (all existing controls provided as part of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] do this).</span></span> <span data-ttu-id="d4b36-243">スタイル、テーマ、およびコントロールのデザインの詳細については、次を参照してください。[のスタイル設定可能なコントロールのデザイン ガイドライン](../../../../docs/framework/wpf/controls/guidelines-for-designing-stylable-controls.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-243">For more information about styles, themes, and control design, see [Guidelines for Designing Stylable Controls](../../../../docs/framework/wpf/controls/guidelines-for-designing-stylable-controls.md).</span></span>  
  
 <span data-ttu-id="d4b36-244"><xref:System.Windows.DataTemplate> 暗黙のキーがあります。</span><span class="sxs-lookup"><span data-stu-id="d4b36-244"><xref:System.Windows.DataTemplate> also has an implicit key.</span></span> <span data-ttu-id="d4b36-245">暗黙のキーを<xref:System.Windows.DataTemplate>は、<xref:System.Windows.DataTemplate.DataType%2A>プロパティの値。</span><span class="sxs-lookup"><span data-stu-id="d4b36-245">The implicit key for a <xref:System.Windows.DataTemplate> is the <xref:System.Windows.DataTemplate.DataType%2A> property value.</span></span> <span data-ttu-id="d4b36-246"><xref:System.Windows.DataTemplate.DataType%2A> 明示的に使用するのではなく、型の名前として指定することも[{X:type…}](../../../../docs/framework/xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="d4b36-246"><xref:System.Windows.DataTemplate.DataType%2A> can also be specified as the name of the type rather than explicitly using [{x:Type...}](../../../../docs/framework/xaml-services/x-type-markup-extension.md).</span></span> <span data-ttu-id="d4b36-247">詳細については、「[データ テンプレートの概要](../../../../docs/framework/wpf/data/data-templating-overview.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4b36-247">For details, see [Data Templating Overview](../../../../docs/framework/wpf/data/data-templating-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4b36-248">関連項目</span><span class="sxs-lookup"><span data-stu-id="d4b36-248">See Also</span></span>  
 <xref:System.Windows.ResourceDictionary>  
 [<span data-ttu-id="d4b36-249">アプリケーション リソース</span><span class="sxs-lookup"><span data-stu-id="d4b36-249">Application Resources</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-application-resources.md)  
 [<span data-ttu-id="d4b36-250">リソースとコード</span><span class="sxs-lookup"><span data-stu-id="d4b36-250">Resources and Code</span></span>](../../../../docs/framework/wpf/advanced/resources-and-code.md)  
 [<span data-ttu-id="d4b36-251">リソースを定義および参照する</span><span class="sxs-lookup"><span data-stu-id="d4b36-251">Define and Reference a Resource</span></span>](../../../../docs/framework/wpf/advanced/how-to-define-and-reference-a-resource.md)  
 [<span data-ttu-id="d4b36-252">アプリケーション管理の概要</span><span class="sxs-lookup"><span data-stu-id="d4b36-252">Application Management Overview</span></span>](../../../../docs/framework/wpf/app-development/application-management-overview.md)  
 [<span data-ttu-id="d4b36-253">x:Type マークアップ拡張機能</span><span class="sxs-lookup"><span data-stu-id="d4b36-253">x:Type Markup Extension</span></span>](../../../../docs/framework/xaml-services/x-type-markup-extension.md)  
 [<span data-ttu-id="d4b36-254">StaticResource のマークアップ拡張機能</span><span class="sxs-lookup"><span data-stu-id="d4b36-254">StaticResource Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md)  
 [<span data-ttu-id="d4b36-255">DynamicResource マークアップ拡張</span><span class="sxs-lookup"><span data-stu-id="d4b36-255">DynamicResource Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)
