---
title: "パフォーマンスの最適化 : 2D グラフィックスとイメージング"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- graphics [WPF], performance
- drawing [WPF], optimizing performance
- imaging [WPF], optimizing performance
- shapes [WPF], optimizing performance
- 2-D graphics [WPF]
- images [WPF], optimizing performance
ms.assetid: e335601e-28c8-4d64-ba27-778fffd55f72
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 30d0248c930f55a4f6d10e8cfa76a1d9b083b39d
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2017
---
# <a name="optimizing-performance-2d-graphics-and-imaging"></a><span data-ttu-id="29b4d-102">パフォーマンスの最適化 : 2D グラフィックスとイメージング</span><span class="sxs-lookup"><span data-stu-id="29b4d-102">Optimizing Performance: 2D Graphics and Imaging</span></span>
[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="29b4d-103"> には、アプリケーションの要件に合わせて最適化できる広範な 2D グラフィックス機能とイメージング機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-103"> provides a wide range of 2D graphics and imaging functionality that can be optimized for your application requirements.</span></span> <span data-ttu-id="29b4d-104">このトピックでは、この領域でのパフォーマンスの最適化に関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-104">This topic provides information about performance optimization in those areas.</span></span>  
  
  
<a name="Drawing_and_Shapes"></a>   
## <a name="drawing-and-shapes"></a><span data-ttu-id="29b4d-105">描画と図形</span><span class="sxs-lookup"><span data-stu-id="29b4d-105">Drawing and Shapes</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="29b4d-106">両方を提供<xref:System.Windows.Media.Drawing>と<xref:System.Windows.Shapes.Shape>グラフィックの描画コンテンツを表すオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="29b4d-106"> provides both <xref:System.Windows.Media.Drawing> and <xref:System.Windows.Shapes.Shape> objects to represent graphical drawing content.</span></span> <span data-ttu-id="29b4d-107">ただし、<xref:System.Windows.Media.Drawing>オブジェクトよりシンプルなコンストラクト<xref:System.Windows.Shapes.Shape>オブジェクトし、パフォーマンス特性を指定します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-107">However, <xref:System.Windows.Media.Drawing> objects are simpler constructs than <xref:System.Windows.Shapes.Shape> objects and provide better performance characteristics.</span></span>  
  
 <span data-ttu-id="29b4d-108">A<xref:System.Windows.Shapes.Shape>グラフィカル図形を画面に描画することができます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-108">A <xref:System.Windows.Shapes.Shape> allows you to draw a graphical shape to the screen.</span></span> <span data-ttu-id="29b4d-109">派生しているため、<xref:System.Windows.FrameworkElement>クラス、<xref:System.Windows.Shapes.Shape>パネルとほとんどのコントロール内のオブジェクトで使用できます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-109">Because they are derived from the <xref:System.Windows.FrameworkElement> class, <xref:System.Windows.Shapes.Shape> objects can be used inside panels and most controls.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="29b4d-110"> には、グラフィックス サービスやレンダリング サービスへのアクセスのレイヤーがいくつか用意されています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-110"> offers several layers of access to graphics and rendering services.</span></span> <span data-ttu-id="29b4d-111">最上位のレイヤーで<xref:System.Windows.Shapes.Shape>オブジェクトが簡単に使用し、レイアウトやイベント処理など、多くの便利な機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-111">At the top layer, <xref:System.Windows.Shapes.Shape> objects are easy to use and provide many useful features, such as layout and event handling.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="29b4d-112"> には、すぐに使用できるさまざまな図形オブジェクトが用意されています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-112"> provides a number of ready-to-use shape objects.</span></span> <span data-ttu-id="29b4d-113">すべての図形オブジェクトの継承、<xref:System.Windows.Shapes.Shape>クラスです。</span><span class="sxs-lookup"><span data-stu-id="29b4d-113">All shape objects inherit from the <xref:System.Windows.Shapes.Shape> class.</span></span> <span data-ttu-id="29b4d-114">使用可能な図形オブジェクトには、 <xref:System.Windows.Shapes.Ellipse>、 <xref:System.Windows.Shapes.Line>、 <xref:System.Windows.Shapes.Path>、 <xref:System.Windows.Shapes.Polygon>、 <xref:System.Windows.Shapes.Polyline>、および<xref:System.Windows.Shapes.Rectangle>です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-114">Available shape objects include <xref:System.Windows.Shapes.Ellipse>, <xref:System.Windows.Shapes.Line>, <xref:System.Windows.Shapes.Path>, <xref:System.Windows.Shapes.Polygon>, <xref:System.Windows.Shapes.Polyline>, and <xref:System.Windows.Shapes.Rectangle>.</span></span>  
  
 <span data-ttu-id="29b4d-115"><xref:System.Windows.Media.Drawing>オブジェクト、その一方からは派生しません、<xref:System.Windows.FrameworkElement>クラスおよび表示の図形、画像、およびテキストの軽量の実装を提供します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-115"><xref:System.Windows.Media.Drawing> objects, on the other hand, do not derive from the <xref:System.Windows.FrameworkElement> class and provide a lighter-weight implementation for rendering shapes, images, and text.</span></span>  
  
 <span data-ttu-id="29b4d-116">次の 4 種類がある<xref:System.Windows.Media.Drawing>オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="29b4d-116">There are four types of <xref:System.Windows.Media.Drawing> objects:</span></span>  
  
-   <span data-ttu-id="29b4d-117"><xref:System.Windows.Media.GeometryDrawing>図形を描画します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-117"><xref:System.Windows.Media.GeometryDrawing> Draws a shape.</span></span>  
  
-   <span data-ttu-id="29b4d-118"><xref:System.Windows.Media.ImageDrawing>イメージを描画します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-118"><xref:System.Windows.Media.ImageDrawing> Draws an image.</span></span>  
  
-   <span data-ttu-id="29b4d-119"><xref:System.Windows.Media.GlyphRunDrawing>テキストを描画します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-119"><xref:System.Windows.Media.GlyphRunDrawing> Draws text.</span></span>  
  
-   <span data-ttu-id="29b4d-120"><xref:System.Windows.Media.DrawingGroup>その他の図を描画します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-120"><xref:System.Windows.Media.DrawingGroup> Draws other drawings.</span></span> <span data-ttu-id="29b4d-121">他の描画を 1 つの複合描画に結合するには、描画グループを使用します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-121">Use a drawing group to combine other drawings into a single composite drawing.</span></span>  
  
 <span data-ttu-id="29b4d-122"><xref:System.Windows.Media.GeometryDrawing> Geometry コンテンツを表示するためにオブジェクトを使用します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-122">The <xref:System.Windows.Media.GeometryDrawing> object is used to render geometry content.</span></span> <span data-ttu-id="29b4d-123"><xref:System.Windows.Media.Geometry>クラスと具象クラスなど、そこから派生する<xref:System.Windows.Media.CombinedGeometry>、 <xref:System.Windows.Media.EllipseGeometry>、および<xref:System.Windows.Media.PathGeometry>2D グラフィックのレンダリングする手段として、ヒット テストとクリッピングのサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-123">The <xref:System.Windows.Media.Geometry> class and the concrete classes which derive from it, such as <xref:System.Windows.Media.CombinedGeometry>, <xref:System.Windows.Media.EllipseGeometry>, and <xref:System.Windows.Media.PathGeometry>, provide a means for rendering 2D graphics, as well as providing hit-testing and clipping support.</span></span> <span data-ttu-id="29b4d-124">ジオメトリ オブジェクトを使用すると、たとえば、コントロールの領域を定義したり、イメージに適用するクリップ領域を定義したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-124">Geometry objects can be used to define the region of a control, for example, or to define the clip region to apply to an image.</span></span> <span data-ttu-id="29b4d-125">ジオメトリ オブジェクトは、四角形や円などの単純な領域にすることも、2 つ以上のジオメトリ オブジェクトから作成された複合的な領域にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-125">Geometry objects can be simple regions, such as rectangles and circles, or composite regions created from two or more geometry objects.</span></span> <span data-ttu-id="29b4d-126">複雑な幾何学的領域を結合して作成できる<xref:System.Windows.Media.PathSegment>-など、オブジェクトの派生<xref:System.Windows.Media.ArcSegment>、 <xref:System.Windows.Media.BezierSegment>、および<xref:System.Windows.Media.QuadraticBezierSegment>です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-126">More complex geometric regions can be created by combining <xref:System.Windows.Media.PathSegment>-derived objects, such as <xref:System.Windows.Media.ArcSegment>, <xref:System.Windows.Media.BezierSegment>, and <xref:System.Windows.Media.QuadraticBezierSegment>.</span></span>  
  
 <span data-ttu-id="29b4d-127">画面で、<xref:System.Windows.Media.Geometry>クラスおよび<xref:System.Windows.Shapes.Shape>クラスは非常に似ています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-127">On the surface, the <xref:System.Windows.Media.Geometry> class and the <xref:System.Windows.Shapes.Shape> class are quite similar.</span></span> <span data-ttu-id="29b4d-128">2 D グラフィックスの表示の使用はどちらもありどちらも同様の具象クラスをたとえば、これらのファイルから派生する<xref:System.Windows.Media.EllipseGeometry>と<xref:System.Windows.Shapes.Ellipse>です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-128">Both are used in the rendering of 2D graphics and both have similar concrete classes which derive from them, for example, <xref:System.Windows.Media.EllipseGeometry> and <xref:System.Windows.Shapes.Ellipse>.</span></span> <span data-ttu-id="29b4d-129">ただし、この 2 つのクラスのセットの間には重要な違いがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="29b4d-129">However, there are important differences between these two sets of classes.</span></span> <span data-ttu-id="29b4d-130">1 つの<xref:System.Windows.Media.Geometry>クラスでは、機能の一部がない、<xref:System.Windows.Shapes.Shape>自身で描画する機能などのクラスです。</span><span class="sxs-lookup"><span data-stu-id="29b4d-130">For one, the <xref:System.Windows.Media.Geometry> class lacks some of the functionality of the <xref:System.Windows.Shapes.Shape> class, such as the ability to draw itself.</span></span> <span data-ttu-id="29b4d-131">ジオメトリ オブジェクトを描画するには、DrawingContext、Drawing、Path (Path が Shape であることは注目に値します) などの別のクラスを使用して描画操作を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29b4d-131">To draw a geometry object, another class such as DrawingContext, Drawing, or a Path (it is worth noting that a Path is a Shape) must be used to perform the drawing operation.</span></span> <span data-ttu-id="29b4d-132">塗りつぶし、ストローク、ストロークの太さなどの描画プロパティは、ジオメトリ オブジェクトを描画するクラスにあります。一方、図形オブジェクトにはこれらのプロパティが含まれています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-132">Rendering properties such as fill, stroke, and the stroke thickness are on the class which draws the geometry object, while a shape object contains these properties.</span></span> <span data-ttu-id="29b4d-133">この違いは、ジオメトリ オブジェクトが円などの領域を定義するのに対し、図形オブジェクトは領域を定義するとともに、その領域の塗りつぶしやアウトラインも定義し、レイアウト システムに参加する、と考えることができます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-133">One way to think of this difference is that a geometry object defines a region, a circle for example, while a shape object defines a region, defines how that region is filled and outlined, and participates in the layout system.</span></span>  
  
 <span data-ttu-id="29b4d-134"><xref:System.Windows.Shapes.Shape>オブジェクトから取得、<xref:System.Windows.FrameworkElement>それらを使用して、クラスは、アプリケーションで非常に多くのメモリ消費量を追加できます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-134">Since <xref:System.Windows.Shapes.Shape> objects derive from the <xref:System.Windows.FrameworkElement> class, using them can add significantly more memory consumption in your application.</span></span> <span data-ttu-id="29b4d-135">本当に必要としない場合、 <xref:System.Windows.FrameworkElement> 、グラフィカルなコンテンツのための機能は、軽量の使用を検討<xref:System.Windows.Media.Drawing>オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="29b4d-135">If you really do not need the <xref:System.Windows.FrameworkElement> features for your graphical content, consider using the lighter-weight <xref:System.Windows.Media.Drawing> objects.</span></span>  
  
 <span data-ttu-id="29b4d-136">詳細については<xref:System.Windows.Media.Drawing>、オブジェクトを参照してください[描画オブジェクトの概要](../../../../docs/framework/wpf/graphics-multimedia/drawing-objects-overview.md)です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-136">For more information on <xref:System.Windows.Media.Drawing> objects, see [Drawing Objects Overview](../../../../docs/framework/wpf/graphics-multimedia/drawing-objects-overview.md).</span></span>  
  
<a name="StreamGeometry_Objects"></a>   
## <a name="streamgeometry-objects"></a><span data-ttu-id="29b4d-137">StreamGeometry オブジェクト</span><span class="sxs-lookup"><span data-stu-id="29b4d-137">StreamGeometry Objects</span></span>  
 <span data-ttu-id="29b4d-138"><xref:System.Windows.Media.StreamGeometry>オブジェクトは、軽量な代替<xref:System.Windows.Media.PathGeometry>幾何学図形を作成するためです。</span><span class="sxs-lookup"><span data-stu-id="29b4d-138">The <xref:System.Windows.Media.StreamGeometry> object is a light-weight alternative to <xref:System.Windows.Media.PathGeometry> for creating geometric shapes.</span></span> <span data-ttu-id="29b4d-139">使用して、<xref:System.Windows.Media.StreamGeometry>複合ジオメトリを記述する必要がある場合。</span><span class="sxs-lookup"><span data-stu-id="29b4d-139">Use a <xref:System.Windows.Media.StreamGeometry> when you need to describe a complex geometry.</span></span> <span data-ttu-id="29b4d-140"><xref:System.Windows.Media.StreamGeometry>多くの処理用に最適化された<xref:System.Windows.Media.PathGeometry>オブジェクトし、多くの個々 の使用と比べてパフォーマンスが向上<xref:System.Windows.Media.PathGeometry>オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="29b4d-140"><xref:System.Windows.Media.StreamGeometry> is optimized for handling many <xref:System.Windows.Media.PathGeometry> objects and performs better when compared to using many individual <xref:System.Windows.Media.PathGeometry> objects.</span></span>  
  
 <span data-ttu-id="29b4d-141">次の例では、属性の構文を使用して、作成、三角形<xref:System.Windows.Media.StreamGeometry>で[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-141">The following example uses attribute syntax to create a triangular <xref:System.Windows.Media.StreamGeometry> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#StreamGeometryTriangleExampleWholePage](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/StreamGeometryExample.xaml#streamgeometrytriangleexamplewholepage)]  
  
 <span data-ttu-id="29b4d-142">詳細については<xref:System.Windows.Media.StreamGeometry>、オブジェクトを参照してください[の作成を使用して、図形、StreamGeometry](../../../../docs/framework/wpf/graphics-multimedia/how-to-create-a-shape-using-a-streamgeometry.md)です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-142">For more information on <xref:System.Windows.Media.StreamGeometry> objects, see [Create a Shape Using a StreamGeometry](../../../../docs/framework/wpf/graphics-multimedia/how-to-create-a-shape-using-a-streamgeometry.md).</span></span>  
  
<a name="DrawingVisual_Objects"></a>   
## <a name="drawingvisual-objects"></a><span data-ttu-id="29b4d-143">DrawingVisual オブジェクト</span><span class="sxs-lookup"><span data-stu-id="29b4d-143">DrawingVisual Objects</span></span>  
 <span data-ttu-id="29b4d-144"><xref:System.Windows.Media.DrawingVisual>オブジェクトは、軽量な図形、画像、またはテキストを表示するために使用されるクラスを描画します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-144">The <xref:System.Windows.Media.DrawingVisual> object is a lightweight drawing class that is used to render shapes, images, or text.</span></span> <span data-ttu-id="29b4d-145">このクラスが軽量と見なされる理由は、レイアウトやイベントの処理を行わないことで、パフォーマンスが向上するからです。</span><span class="sxs-lookup"><span data-stu-id="29b4d-145">This class is considered lightweight because it does not provide layout or event handling, which improves its performance.</span></span> <span data-ttu-id="29b4d-146">そのため、背景やクリップ アートの描画に適しています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-146">For this reason, drawings are ideal for backgrounds and clip art.</span></span> <span data-ttu-id="29b4d-147">詳しくは、「[DrawingVisual オブジェクトの使用](../../../../docs/framework/wpf/graphics-multimedia/using-drawingvisual-objects.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="29b4d-147">For more information, see [Using DrawingVisual Objects](../../../../docs/framework/wpf/graphics-multimedia/using-drawingvisual-objects.md).</span></span>  
  
<a name="Images"></a>   
## <a name="images"></a><span data-ttu-id="29b4d-148">イメージ</span><span class="sxs-lookup"><span data-stu-id="29b4d-148">Images</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="29b4d-149"> のイメージング機能は、以前のバージョンの [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] のイメージング機能から大幅に強化されています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-149"> imaging provides a significant improvement over the imaging capabilities in previous versions of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].</span></span> <span data-ttu-id="29b4d-150">イメージング機能 (ビットマップの表示や一般的なコントロール上でのイメージの使用など) は、以前は主に Microsoft Windows Graphics Device Interface (GDI) または Microsoft Windows GDI+ のアプリケーション プログラミング インターフェイス (API) によって処理されていました。</span><span class="sxs-lookup"><span data-stu-id="29b4d-150">Imaging capabilities, such as displaying a bitmap or using an image on a common control were primarily handled by the Microsoft Windows Graphics Device Interface (GDI) or Microsoft Windows GDI+ application programming interface (API).</span></span> <span data-ttu-id="29b4d-151">これらの API では、基本的なイメージング機能は提供されていましたが、コーデック拡張機能のサポートや高品質なイメージのサポートなどの機能が不足していました。</span><span class="sxs-lookup"><span data-stu-id="29b4d-151">These API provided baseline imaging functionality, but lacked features such as support for codec extensibility and high fidelity image support.</span></span> <span data-ttu-id="29b4d-152">WPF Imaging API は、GDI および GDI+ の欠点を克服し、アプリケーション内でイメージを表示および使用するための新しい API のセットを提供するために再設計されています。</span><span class="sxs-lookup"><span data-stu-id="29b4d-152">WPF Imaging API have been redesigned to overcome the shortcomings of GDI and GDI+ and provide a new set of API to display and use images within your applications.</span></span>  
  
 <span data-ttu-id="29b4d-153">イメージを使用する際には、パフォーマンスを向上させるために以下の推奨事項をご検討ください。</span><span class="sxs-lookup"><span data-stu-id="29b4d-153">When using images, consider the following recommendations for gaining better performance:</span></span>  
  
-   <span data-ttu-id="29b4d-154">アプリケーションでサムネイル イメージを表示する必要がある場合は、縮小版のイメージを作成することをご検討ください。</span><span class="sxs-lookup"><span data-stu-id="29b4d-154">If your application requires you to display thumbnail images, consider creating a reduced-sized version of the image.</span></span> <span data-ttu-id="29b4d-155">既定では、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]は読み込んだイメージを本来のサイズにデコードします。</span><span class="sxs-lookup"><span data-stu-id="29b4d-155">By default, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] loads your image and decodes it to its full size.</span></span> <span data-ttu-id="29b4d-156">サムネイル バージョンのイメージのみが必要な場合は、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] がイメージを本来のサイズにデコードしてからサムネイル サイズに縮小するという無駄が生じます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-156">If you only want a thumbnail version of the image, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] unnecessary decodes the image to its full-size and then scales it down to a thumbnail size.</span></span> <span data-ttu-id="29b4d-157">この不要なオーバーヘッドを回避するには、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] に対してイメージをサムネイル サイズにデコードするように要求するか、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] にサムネイル サイズのイメージを読み込むように要求します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-157">To avoid this unnecessary overhead, you can either request [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to decode the image to a thumbnail size, or request [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to load a thumbnail size image.</span></span>  
  
-   <span data-ttu-id="29b4d-158">イメージは常に、既定のサイズではなく必要なサイズにデコードするようにしてください。</span><span class="sxs-lookup"><span data-stu-id="29b4d-158">Always decode the image to desired size and not to the default size.</span></span> <span data-ttu-id="29b4d-159">前述のように、既定の実際のサイズではなく必要なサイズにイメージをデコードするように [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] に要求します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-159">As mentioned above, request [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to decode your image to a desired size and not the default full size.</span></span> <span data-ttu-id="29b4d-160">これにより、アプリケーションの作業セットを縮小できるだけでなく、実行速度も向上します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-160">You will reduce not only your application's working set, but execution speed as well.</span></span>  
  
-   <span data-ttu-id="29b4d-161">可能であれば、複数のイメージを 1 つに結合します (複数のイメージから成るフィルム ストリップなど)。</span><span class="sxs-lookup"><span data-stu-id="29b4d-161">If possible, combine the images into a single image, such as a film strip composed of multiple images.</span></span>  
  
-   <span data-ttu-id="29b4d-162">詳しくは、「 [イメージングの概要](../../../../docs/framework/wpf/graphics-multimedia/imaging-overview.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="29b4d-162">For more information, see [Imaging Overview](../../../../docs/framework/wpf/graphics-multimedia/imaging-overview.md).</span></span>  
  
### <a name="bitmapscalingmode"></a><span data-ttu-id="29b4d-163">BitmapScalingMode</span><span class="sxs-lookup"><span data-stu-id="29b4d-163">BitmapScalingMode</span></span>  
 <span data-ttu-id="29b4d-164">ビットマップのスケーリングをアニメーション化する場合、既定の高品質イメージの再サンプリング アルゴリズムは、フレーム レートを低下させるほどシステム リソースを消費する場合があり、実際にはアニメーションの動きが滑らかでなくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="29b4d-164">When animating the scale of any bitmap, the default high-quality image re-sampling algorithm can sometimes consume sufficient system resources to cause frame rate degradation, effectively causing animations to stutter.</span></span> <span data-ttu-id="29b4d-165">設定して、<xref:System.Windows.Media.RenderOptions.BitmapScalingMode%2A>のプロパティ、<xref:System.Windows.Media.RenderOptions>オブジェクトを<xref:System.Windows.Media.BitmapScalingMode.LowQuality>ビットマップを拡張するときに滑らかなアニメーションを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-165">By setting the <xref:System.Windows.Media.RenderOptions.BitmapScalingMode%2A> property of the <xref:System.Windows.Media.RenderOptions> object to <xref:System.Windows.Media.BitmapScalingMode.LowQuality> you can create a smoother animation when scaling a bitmap.</span></span> <span data-ttu-id="29b4d-166"><xref:System.Windows.Media.BitmapScalingMode.LowQuality>モードの通知、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]品質用に最適化されたアルゴリズムからに切り替える速度が最適化されたアルゴリズムのイメージを処理するときにレンダリング エンジンです。</span><span class="sxs-lookup"><span data-stu-id="29b4d-166"><xref:System.Windows.Media.BitmapScalingMode.LowQuality> mode tells the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] rendering engine to switch from a quality-optimized algorithm to a speed-optimized algorithm when processing images.</span></span>  
  
 <span data-ttu-id="29b4d-167">次の例は、設定する方法を示します、<xref:System.Windows.Media.BitmapScalingMode>イメージ オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="29b4d-167">The following example shows how to set the <xref:System.Windows.Media.BitmapScalingMode> for an image object.</span></span>  
  
 [!code-csharp[RenderOptions#RenderOptionsSnippet2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/RenderOptions/CSharp/Window1.xaml.cs#renderoptionssnippet2)]
 [!code-vb[RenderOptions#RenderOptionsSnippet2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/RenderOptions/visualbasic/window1.xaml.vb#renderoptionssnippet2)]  
  
### <a name="cachinghint"></a><span data-ttu-id="29b4d-168">CachingHint</span><span class="sxs-lookup"><span data-stu-id="29b4d-168">CachingHint</span></span>  
 <span data-ttu-id="29b4d-169">既定では、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]の表示内容をキャッシュしません<xref:System.Windows.Media.TileBrush>などのオブジェクト<xref:System.Windows.Media.DrawingBrush>と<xref:System.Windows.Media.VisualBrush>です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-169">By default, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] does not cache the rendered contents of <xref:System.Windows.Media.TileBrush> objects, such as <xref:System.Windows.Media.DrawingBrush> and <xref:System.Windows.Media.VisualBrush>.</span></span> <span data-ttu-id="29b4d-170">静的なシナリオで、内容もの使用、<xref:System.Windows.Media.TileBrush>でシーンの変更は、これは、ビデオ メモリを節約するための意味します。</span><span class="sxs-lookup"><span data-stu-id="29b4d-170">In static scenarios where neither the contents nor use of the <xref:System.Windows.Media.TileBrush> in the scene is changing, this makes sense, since it conserves video memory.</span></span> <span data-ttu-id="29b4d-171">言えませんはるか理ときに、<xref:System.Windows.Media.TileBrush>静的なコンテンツで静的でない方法でを使用して — 静的な場合など、<xref:System.Windows.Media.DrawingBrush>または<xref:System.Windows.Media.VisualBrush>回転の 3D オブジェクトの表面にマップされます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-171">It does not make as much sense when a <xref:System.Windows.Media.TileBrush> with static content is used in a non-static way—for example, when a static <xref:System.Windows.Media.DrawingBrush> or <xref:System.Windows.Media.VisualBrush> is mapped to the surface of a rotating 3D object.</span></span> <span data-ttu-id="29b4d-172">既定の動作[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]のコンテンツ全体が再表示するためには、<xref:System.Windows.Media.DrawingBrush>または<xref:System.Windows.Media.VisualBrush>フレームごとにいなくても、コンテンツが変化しません。</span><span class="sxs-lookup"><span data-stu-id="29b4d-172">The default behavior of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is to re-render the entire content of the <xref:System.Windows.Media.DrawingBrush> or <xref:System.Windows.Media.VisualBrush> for every frame, even though the content is unchanging.</span></span>  
  
 <span data-ttu-id="29b4d-173">設定して、<xref:System.Windows.Media.RenderOptions.CachingHint%2A>のプロパティ、<xref:System.Windows.Media.RenderOptions>オブジェクトを<xref:System.Windows.Media.CachingHint.Cache>ブラシを並べて表示されたオブジェクトのキャッシュされたバージョンを使用してパフォーマンスを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="29b4d-173">By setting the <xref:System.Windows.Media.RenderOptions.CachingHint%2A> property of the <xref:System.Windows.Media.RenderOptions> object to <xref:System.Windows.Media.CachingHint.Cache> you can increase performance by using cached versions of the tiled brush objects.</span></span>  
  
 <span data-ttu-id="29b4d-174"><xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMinimum%2A>と<xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMaximum%2A>プロパティの値は、タイミングを決定する相対的なサイズ値、<xref:System.Windows.Media.TileBrush>スケールの変更のためには、オブジェクトを再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29b4d-174">The <xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMinimum%2A> and <xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMaximum%2A> property values are relative size values that determine when the <xref:System.Windows.Media.TileBrush> object should be regenerated due to changes in scale.</span></span> <span data-ttu-id="29b4d-175">設定などにより、 <xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMaximum%2A> 2.0 では、キャッシュするプロパティ、<xref:System.Windows.Media.TileBrush>だけのサイズは、現在のキャッシュのサイズの 2 倍を超えています。 再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="29b4d-175">For example, by setting the <xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMaximum%2A> property to 2.0, the cache for the <xref:System.Windows.Media.TileBrush> only needs to be regenerated when its size exceeds twice the size of the current cache.</span></span>  
  
 <span data-ttu-id="29b4d-176">次の例のキャッシュのヒント オプションを使用する方法を示しています、<xref:System.Windows.Media.DrawingBrush>です。</span><span class="sxs-lookup"><span data-stu-id="29b4d-176">The following example shows how to use the caching hint option for a <xref:System.Windows.Media.DrawingBrush>.</span></span>  
  
 [!code-csharp[RenderOptions#RenderOptionsSnippet3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/RenderOptions/CSharp/Window1.xaml.cs#renderoptionssnippet3)]
 [!code-vb[RenderOptions#RenderOptionsSnippet3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/RenderOptions/visualbasic/window1.xaml.vb#renderoptionssnippet3)]  
  
## <a name="see-also"></a><span data-ttu-id="29b4d-177">関連項目</span><span class="sxs-lookup"><span data-stu-id="29b4d-177">See Also</span></span>  
 [<span data-ttu-id="29b4d-178">WPF アプリケーションのパフォーマンスの最適化</span><span class="sxs-lookup"><span data-stu-id="29b4d-178">Optimizing WPF Application Performance</span></span>](../../../../docs/framework/wpf/advanced/optimizing-wpf-application-performance.md)  
 [<span data-ttu-id="29b4d-179">アプリケーション パフォーマンスの計画</span><span class="sxs-lookup"><span data-stu-id="29b4d-179">Planning for Application Performance</span></span>](../../../../docs/framework/wpf/advanced/planning-for-application-performance.md)  
 [<span data-ttu-id="29b4d-180">ハードウェアの活用</span><span class="sxs-lookup"><span data-stu-id="29b4d-180">Taking Advantage of Hardware</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-taking-advantage-of-hardware.md)  
 [<span data-ttu-id="29b4d-181">レイアウトとデザイン</span><span class="sxs-lookup"><span data-stu-id="29b4d-181">Layout and Design</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-layout-and-design.md)  
 [<span data-ttu-id="29b4d-182">オブジェクトの動作</span><span class="sxs-lookup"><span data-stu-id="29b4d-182">Object Behavior</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-object-behavior.md)  
 [<span data-ttu-id="29b4d-183">アプリケーション リソース</span><span class="sxs-lookup"><span data-stu-id="29b4d-183">Application Resources</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-application-resources.md)  
 [<span data-ttu-id="29b4d-184">テキスト</span><span class="sxs-lookup"><span data-stu-id="29b4d-184">Text</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-text.md)  
 [<span data-ttu-id="29b4d-185">データ バインディング</span><span class="sxs-lookup"><span data-stu-id="29b4d-185">Data Binding</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)  
 [<span data-ttu-id="29b4d-186">パフォーマンスに関するその他の推奨事項</span><span class="sxs-lookup"><span data-stu-id="29b4d-186">Other Performance Recommendations</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-other-recommendations.md)  
 [<span data-ttu-id="29b4d-187">アニメーションのヒントとテクニック</span><span class="sxs-lookup"><span data-stu-id="29b4d-187">Animation Tips and Tricks</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-tips-and-tricks.md)
