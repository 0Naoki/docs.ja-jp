---
title: XamlWriter.Save のシリアル化の制限
ms.date: 03/30/2017
helpviewer_keywords:
- XamlWriter.Save [WPF], serialization limitations of
- limitations of XamlWriter.Save
- serialization limitations of XamlWriter.Save
ms.assetid: f86acc91-2b67-4039-8555-505734491d36
ms.openlocfilehash: 89cb36dba63dccdf7e52b7fcafbe3d9fc2fea1e5
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "62053432"
---
# <a name="serialization-limitations-of-xamlwritersave"></a><span data-ttu-id="a1223-102">XamlWriter.Save のシリアル化の制限</span><span class="sxs-lookup"><span data-stu-id="a1223-102">Serialization Limitations of XamlWriter.Save</span></span>
<span data-ttu-id="a1223-103">[!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] <xref:System.Windows.Markup.XamlWriter.Save%2A>の内容をシリアル化に使用できる、[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]としてアプリケーションを[!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]ファイル。</span><span class="sxs-lookup"><span data-stu-id="a1223-103">The [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] <xref:System.Windows.Markup.XamlWriter.Save%2A> can be used to serialize the contents of a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application as a [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="a1223-104">ただし、シリアル化されるいくつかの注目すべき制限があります。</span><span class="sxs-lookup"><span data-stu-id="a1223-104">However, there are some notable limitations in exactly what is serialized.</span></span> <span data-ttu-id="a1223-105">このトピックでは、これらの制限事項といくつかの一般的な考慮事項が記載されています。</span><span class="sxs-lookup"><span data-stu-id="a1223-105">These limitations and some general considerations are documented in this topic.</span></span>  

<a name="Run_Time__Not_Design_Time_Representation"></a>   
## <a name="run-time-not-design-time-representation"></a><span data-ttu-id="a1223-106">実行時、デザイン時のない表現</span><span class="sxs-lookup"><span data-stu-id="a1223-106">Run-Time, Not Design-Time Representation</span></span>  
 <span data-ttu-id="a1223-107">呼び出しによって何がシリアル化の基本的な考え方<xref:System.Windows.Markup.XamlWriter.Save%2A>結果が実行時に、シリアル化されるオブジェクトの表現になることができます。</span><span class="sxs-lookup"><span data-stu-id="a1223-107">The basic philosophy of what is serialized by a call to <xref:System.Windows.Markup.XamlWriter.Save%2A> is that the result will be a representation of the object being serialized, at run-time.</span></span> <span data-ttu-id="a1223-108">元の多くのデザイン時プロパティ[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]ファイルが既に最適化されたかまたは時間によって失われる可能性を[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]がメモリ内のオブジェクトとして読み込まれを呼び出す場合は保持されません<xref:System.Windows.Markup.XamlWriter.Save%2A>をシリアル化します。</span><span class="sxs-lookup"><span data-stu-id="a1223-108">Many design-time properties of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file may already be optimized or lost by the time that the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is loaded as in-memory objects, and are not preserved when you call <xref:System.Windows.Markup.XamlWriter.Save%2A> to serialize.</span></span> <span data-ttu-id="a1223-109">シリアル化された結果は、アプリケーションの必ずしも元は、構築済みの論理ツリーの有効な表現[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]結果を生成します。</span><span class="sxs-lookup"><span data-stu-id="a1223-109">The serialized result is an effective representation of the constructed logical tree of the application, but not necessarily of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that produced it.</span></span> <span data-ttu-id="a1223-110">これらの問題を行う非常に難しく、<xref:System.Windows.Markup.XamlWriter.Save%2A>拡張の一部としてシリアル化[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]デザイン サーフェイス。</span><span class="sxs-lookup"><span data-stu-id="a1223-110">These issues make it extremely difficult to use the <xref:System.Windows.Markup.XamlWriter.Save%2A> serialization as part of an extensive [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] design surface.</span></span>  
  
<a name="Serialization_is_Self_Contained"></a>   
## <a name="serialization-is-self-contained"></a><span data-ttu-id="a1223-111">シリアル化は、自己完結型</span><span class="sxs-lookup"><span data-stu-id="a1223-111">Serialization is Self-Contained</span></span>  
 <span data-ttu-id="a1223-112">シリアル化された出力<xref:System.Windows.Markup.XamlWriter.Save%2A>は自己完結型; 内に含まれるすべてのシリアル化することは、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]単一ページで、単一のルート要素、および以外の外部参照はありません[!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="a1223-112">The serialized output of <xref:System.Windows.Markup.XamlWriter.Save%2A> is self-contained; everything that is serialized is contained inside a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] single page, with a single root element, and no external references other than [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span></span> <span data-ttu-id="a1223-113">たとえば場合は、ページには、アプリケーション リソースからのリソースが参照されている、シリアル化されるページのコンポーネントがあった場合のように表示されます。</span><span class="sxs-lookup"><span data-stu-id="a1223-113">For instance, if your page referenced resources from application resources, these will appear as if they were a component of the page being serialized.</span></span>  
  
<a name="Extension_References_are_Dereferenced"></a>   
## <a name="extension-references-are-dereferenced"></a><span data-ttu-id="a1223-114">拡張機能の参照が逆参照します。</span><span class="sxs-lookup"><span data-stu-id="a1223-114">Extension References are Dereferenced</span></span>  
 <span data-ttu-id="a1223-115">一般的なオブジェクトへの参照などのマークアップ拡張機能のさまざまな形式で行われた`StaticResource`または`Binding`、シリアル化プロセスの逆参照します。</span><span class="sxs-lookup"><span data-stu-id="a1223-115">Common references to objects made by various markup extension formats, such as `StaticResource` or `Binding`, will be dereferenced by the serialization process.</span></span> <span data-ttu-id="a1223-116">既にこれらがメモリ内オブジェクトには、アプリケーションの実行によって作成された時に逆参照される、<xref:System.Windows.Markup.XamlWriter.Save%2A>ロジックは、元を再検討していない[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]シリアル化された出力には、このような参照を復元します。</span><span class="sxs-lookup"><span data-stu-id="a1223-116">These were already dereferenced at the time that in-memory objects were created by the application runtime, and the <xref:System.Windows.Markup.XamlWriter.Save%2A> logic does not revisit the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to restore such references to the serialized output.</span></span> <span data-ttu-id="a1223-117">これは可能性のある、任意のデータ バインドまたは最後に、実行時で表現したローカル設定の他の値からこのような値を区別するためにのみ制限付きまたは間接の機能を使用する値を指定する値を取得したリソースがフリーズします。</span><span class="sxs-lookup"><span data-stu-id="a1223-117">This potentially freezes any databound or resource obtained value to be the value last used by the run-time representation, with only limited or indirect ability to distinguish such a value from any other value set locally.</span></span> <span data-ttu-id="a1223-118">任意のファイル名が失われる元のソースの参照としてではなく、プロジェクト内に存在するために、イメージはイメージへの参照をオブジェクトとしてシリアル化もまたは[!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)]最初に参照します。</span><span class="sxs-lookup"><span data-stu-id="a1223-118">Images are also serialized as object references to images as they exist in the project, rather than as original source references, losing whatever filename or [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] was originally referenced.</span></span> <span data-ttu-id="a1223-119">同じページ内で宣言されているリソースは、それらが参照されている場所、リソース コレクションのキーとして保持されるのではなく、ポイントにシリアル化されたで認識されています。</span><span class="sxs-lookup"><span data-stu-id="a1223-119">Even resources declared within the same page are seen serialized into the point where they were referenced, rather than being preserved as a key of a resource collection.</span></span>  
  
<a name="Event_Handling_is_Not_Preserved"></a>   
## <a name="event-handling-is-not-preserved"></a><span data-ttu-id="a1223-120">イベント処理が保持されません。</span><span class="sxs-lookup"><span data-stu-id="a1223-120">Event Handling is Not Preserved</span></span>  
 <span data-ttu-id="a1223-121">場合によって追加されたイベント ハンドラー[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]はシリアル化すると、それらは保持されません。</span><span class="sxs-lookup"><span data-stu-id="a1223-121">When event handlers that are added through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are serialized, they are not preserved.</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="a1223-122">分離コードなし (ともに関連する x: コードのメカニズムがなければ)、手続き型のロジックをランタイム シリアル化することはできません。</span><span class="sxs-lookup"><span data-stu-id="a1223-122">without code-behind (and also without the related x:Code mechanism) has no way of serializing runtime procedural logic.</span></span> <span data-ttu-id="a1223-123">シリアル化が自己完結型の論理ツリーに限定的であるために、イベント ハンドラーを格納するための機能はありません。</span><span class="sxs-lookup"><span data-stu-id="a1223-123">Because serialization is self-contained and limited to the logical tree, there is no facility for storing the event handlers.</span></span> <span data-ttu-id="a1223-124">出力からイベント ハンドラーの属性、属性自体と、ハンドラーの名前を示す文字列値の両方を削除するため、[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="a1223-124">As a result, event handler attributes, both the attribute itself and the string value that names the handler, are removed from the output [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
<a name="Realistic_Scenarios_for_Use_of_XAMLWriter_Save"></a>   
## <a name="realistic-scenarios-for-use-of-xamlwritersave"></a><span data-ttu-id="a1223-125">(XAMLWriter.Save の) 使用するための現実的なシナリオ</span><span class="sxs-lookup"><span data-stu-id="a1223-125">Realistic Scenarios for Use of XAMLWriter.Save</span></span>  
 <span data-ttu-id="a1223-126">制限事項が表示されているときにここでは相当を使用するためのいくつかの適切なシナリオはまだあります<xref:System.Windows.Markup.XamlWriter.Save%2A>のシリアル化します。</span><span class="sxs-lookup"><span data-stu-id="a1223-126">While the limitations listed here are fairly substantial, there are still several appropriate scenarios for using <xref:System.Windows.Markup.XamlWriter.Save%2A> for serialization.</span></span>  
  
- <span data-ttu-id="a1223-127">ベクトルまたはグラフィカルな出力:レンダリングされた領域の出力は、同じベクターまたは再読み込み時のグラフィックスを再現するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="a1223-127">Vector or graphical output: The output of the rendered area can be used to reproduce the same vector or graphics when reloaded.</span></span>  
  
- <span data-ttu-id="a1223-128">リッチ テキストおよびフロー ドキュメント:テキストとすべての要素の書式設定と要素コンテインメント内には、出力に保持されます。</span><span class="sxs-lookup"><span data-stu-id="a1223-128">Rich text and flow documents: Text and all element formatting and element containment within it is preserved in the output.</span></span> <span data-ttu-id="a1223-129">おおよそのクリップボード機能のメカニズムの便利なことができます。</span><span class="sxs-lookup"><span data-stu-id="a1223-129">This can be useful for mechanisms that approximate a clipboard functionality.</span></span>  
  
- <span data-ttu-id="a1223-130">ビジネス オブジェクト データの保持。保存しているかどうかのデータをカスタムの要素になど[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]データ、ビジネス オブジェクトは、次の基本的なかぎり[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]など、カスタム コンス トラクターと参照渡しでプロパティ値の変換を提供するルールは、これらのビジネス オブジェクトを指定できますシリアル化を通じて永続的なものです。</span><span class="sxs-lookup"><span data-stu-id="a1223-130">Preserving business object data: If you have stored data in custom elements, such as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, so long as your business objects follow basic [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rules such as providing custom constructors and conversion for by-reference property values, these business objects can be perpetuated through serialization.</span></span>
