---
title: WPF の双方向機能の概要
ms.date: 03/30/2017
helpviewer_keywords:
- Span elements [WPF]
- bidirectional features [WPF]
ms.assetid: fd850e25-7dba-408c-b521-8873e51dc968
ms.openlocfilehash: 16cf232ccbdcca496aaa18fc2cfac280072ca24f
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/28/2019
ms.locfileid: "64655487"
---
# <a name="bidirectional-features-in-wpf-overview"></a><span data-ttu-id="18706-102">WPF の双方向機能の概要</span><span class="sxs-lookup"><span data-stu-id="18706-102">Bidirectional Features in WPF Overview</span></span>
<span data-ttu-id="18706-103">その他の開発プラットフォームとは異なり[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]双方向コンテンツの迅速な開発をサポートする多くの機能、たとえば、データを同じドキュメント内まま混合の左から右、および右にします。</span><span class="sxs-lookup"><span data-stu-id="18706-103">Unlike any other development platform, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] has many features that support rapid development of bidirectional content, for example, mixed left to right and right to left data in the same document.</span></span> <span data-ttu-id="18706-104">同時に、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]双方向機能のアラビア語やヘブライ語を話すユーザーなどを必要とするユーザー用の優れたエクスペリエンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="18706-104">At the same time, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] creates an excellent experience for users who require bidirectional features such as Arabic and Hebrew speaking users.</span></span>  
  
 <span data-ttu-id="18706-105">以降のセクションでは、多数の双方向機能と双方向コンテンツを最適に表示した例について説明します。</span><span class="sxs-lookup"><span data-stu-id="18706-105">The following sections explain many bidirectional features together with examples illustrating how to achieve the best display of bidirectional content.</span></span> <span data-ttu-id="18706-106">ほとんどのサンプルを使用して、[!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]しておくべき概念を簡単に適用できますが、C#または Microsoft Visual Basic コードです。</span><span class="sxs-lookup"><span data-stu-id="18706-106">Most of the samples use [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)], though you can easily apply the concepts to C# or Microsoft Visual Basic code.</span></span>  

<a name="FlowDirection"></a>   
## <a name="flowdirection"></a><span data-ttu-id="18706-107">FlowDirection</span><span class="sxs-lookup"><span data-stu-id="18706-107">FlowDirection</span></span>  
 <span data-ttu-id="18706-108">コンテンツのフローの方向を定義する基本的なプロパティ、[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]アプリケーションが<xref:System.Windows.FrameworkElement.FlowDirection%2A>します。</span><span class="sxs-lookup"><span data-stu-id="18706-108">The basic property that defines the content flow direction in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application is <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span> <span data-ttu-id="18706-109">このプロパティは、2 つの列挙値のいずれかに設定できます<xref:System.Windows.FlowDirection.LeftToRight>または<xref:System.Windows.FlowDirection.RightToLeft>します。</span><span class="sxs-lookup"><span data-stu-id="18706-109">This property can be set to one of two enumeration values, <xref:System.Windows.FlowDirection.LeftToRight> or <xref:System.Windows.FlowDirection.RightToLeft>.</span></span> <span data-ttu-id="18706-110">プロパティがすべて使用できる[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]要素から継承する<xref:System.Windows.FrameworkElement>します。</span><span class="sxs-lookup"><span data-stu-id="18706-110">The property is available to all [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements that inherit from <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="18706-111">次の例のフロー方向を設定する、<xref:System.Windows.Controls.TextBox>要素。</span><span class="sxs-lookup"><span data-stu-id="18706-111">The following examples set the flow direction of a <xref:System.Windows.Controls.TextBox> element.</span></span>  
  
 <span data-ttu-id="18706-112">**左から右へ記述するフロー方向**</span><span class="sxs-lookup"><span data-stu-id="18706-112">**Left-to-right flow direction**</span></span>  
  
 [!code-xaml[LTRRTL#LTR](~/samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#ltr)]  
  
 <span data-ttu-id="18706-113">**右から左へ記述するフロー方向**</span><span class="sxs-lookup"><span data-stu-id="18706-113">**Right-to-left flow direction**</span></span>  
  
 [!code-xaml[LTRRTL#RTL](~/samples/snippets/csharp/VS_Snippets_Wpf/LTRRTL/CS/Pane1.xaml#rtl)]  
  
 <span data-ttu-id="18706-114">次の図は、前のコードがどのように表示されるのかを示します。</span><span class="sxs-lookup"><span data-stu-id="18706-114">The following graphic shows how the previous code renders.</span></span>  
    
 ![さまざまなフロー方向を示す図。](./media/bidirectional-features-in-wpf-overview/left-right-right-left.png)  
  
 <span data-ttu-id="18706-116">内の要素を[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]ツリーは、継承、<xref:System.Windows.FrameworkElement.FlowDirection%2A>コンテナーから。</span><span class="sxs-lookup"><span data-stu-id="18706-116">An element within a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] tree will inherit the <xref:System.Windows.FrameworkElement.FlowDirection%2A> from its container.</span></span> <span data-ttu-id="18706-117">次の例では、<xref:System.Windows.Controls.TextBlock>内では、<xref:System.Windows.Controls.Grid>に存在する、<xref:System.Windows.Window>します。</span><span class="sxs-lookup"><span data-stu-id="18706-117">In the following example, the <xref:System.Windows.Controls.TextBlock> is inside a <xref:System.Windows.Controls.Grid>, which resides in a <xref:System.Windows.Window>.</span></span> <span data-ttu-id="18706-118">設定、<xref:System.Windows.FrameworkElement.FlowDirection%2A>の<xref:System.Windows.Window>設定することの意味、<xref:System.Windows.Controls.Grid>と<xref:System.Windows.Controls.TextBlock>もします。</span><span class="sxs-lookup"><span data-stu-id="18706-118">Setting the <xref:System.Windows.FrameworkElement.FlowDirection%2A> for the <xref:System.Windows.Window> implies setting it for the <xref:System.Windows.Controls.Grid> and <xref:System.Windows.Controls.TextBlock> as well.</span></span>  
  
 <span data-ttu-id="18706-119">次の例では、設定<xref:System.Windows.FrameworkElement.FlowDirection%2A>します。</span><span class="sxs-lookup"><span data-stu-id="18706-119">The following example demonstrates setting <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span>  
  
 [!code-xaml[FlowDirection#FlowDirection](~/samples/snippets/csharp/VS_Snippets_Wpf/FlowDirection/CS/Window1.xaml#flowdirection)]  
  
 <span data-ttu-id="18706-120">最上位レベル<xref:System.Windows.Window>が、 <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection>でそれに含まれるすべての要素と同じ継承もあるため、<xref:System.Windows.FrameworkElement.FlowDirection%2A>します。</span><span class="sxs-lookup"><span data-stu-id="18706-120">The top level <xref:System.Windows.Window> has a <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection>, so all elements contained within it also inherit the same <xref:System.Windows.FrameworkElement.FlowDirection%2A>.</span></span> <span data-ttu-id="18706-121">指定されたをオーバーライドする要素の<xref:System.Windows.FrameworkElement.FlowDirection%2A>など、2 つ目の明示的な方向変更を追加する必要があります<xref:System.Windows.Controls.TextBlock>を変更する前の例で<xref:System.Windows.FlowDirection.LeftToRight>します。</span><span class="sxs-lookup"><span data-stu-id="18706-121">For an element to override a specified <xref:System.Windows.FrameworkElement.FlowDirection%2A> it must add an explicit direction change such as the second <xref:System.Windows.Controls.TextBlock> in the previous example which changes to <xref:System.Windows.FlowDirection.LeftToRight>.</span></span> <span data-ttu-id="18706-122">ない場合<xref:System.Windows.FrameworkElement.FlowDirection%2A>が定義されている既定の<xref:System.Windows.FlowDirection.LeftToRight>適用されます。</span><span class="sxs-lookup"><span data-stu-id="18706-122">When no <xref:System.Windows.FrameworkElement.FlowDirection%2A> is defined, the default <xref:System.Windows.FlowDirection.LeftToRight> applies.</span></span>  
  
 <span data-ttu-id="18706-123">次の図は、前の例の出力を示しています。</span><span class="sxs-lookup"><span data-stu-id="18706-123">The following graphic shows the output of the previous example:</span></span>

 ![明示的なフロー方向の変更を示しています。 グラフィック。](./media/bidirectional-features-in-wpf-overview/explicit-direction-change.png)  

<a name="FlowDocument"></a>   
## <a name="flowdocument"></a><span data-ttu-id="18706-125">FlowDocument</span><span class="sxs-lookup"><span data-stu-id="18706-125">FlowDocument</span></span>  
 <span data-ttu-id="18706-126">などの多くの開発プラットフォーム[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]、[!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)]および Java は、双方向コンテンツ開発の特別なサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="18706-126">Many development platforms such as [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)], [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] and Java provide special support for bidirectional content development.</span></span> <span data-ttu-id="18706-127">などのマークアップ言語[!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)]コンテンツの作成者など、必要な任意の方向にテキストを表示するために必要なマークアップを与える、 [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] 4.0 タグの"dir"を値として"rtl"または"ltr"を受け取る。</span><span class="sxs-lookup"><span data-stu-id="18706-127">Markup languages such as [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] give content writers the necessary markup to display text in any required direction, for example the [!INCLUDE[TLA#tla_html](../../../../includes/tlasharptla-html-md.md)] 4.0 tag, "dir" that takes "rtl" or "ltr" as values.</span></span> <span data-ttu-id="18706-128">このタグはのような<xref:System.Windows.FrameworkElement.FlowDirection%2A>プロパティが、<xref:System.Windows.FrameworkElement.FlowDirection%2A>プロパティはテキスト コンテンツのレイアウトをより高度な方法で動作し、テキスト以外のコンテンツに使用できます。</span><span class="sxs-lookup"><span data-stu-id="18706-128">This tag is similar to the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property, but the <xref:System.Windows.FrameworkElement.FlowDirection%2A> property works in a more advanced way to layout textual content and can be used for content other than text.</span></span>  
  
 <span data-ttu-id="18706-129">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]、 <xref:System.Windows.Documents.FlowDocument> 、柔軟性が[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]テキスト、テーブル、イメージ、およびその他の要素の組み合わせをホストできる要素です。</span><span class="sxs-lookup"><span data-stu-id="18706-129">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a <xref:System.Windows.Documents.FlowDocument> is a versatile [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element that can host a combination of text, tables, images and other elements.</span></span> <span data-ttu-id="18706-130">以下のセクションのサンプルでは、この要素を使用します。</span><span class="sxs-lookup"><span data-stu-id="18706-130">The samples in the following sections use this element.</span></span>  
  
 <span data-ttu-id="18706-131">テキストを追加、<xref:System.Windows.Documents.FlowDocument>複数の方法で実行できます。</span><span class="sxs-lookup"><span data-stu-id="18706-131">Adding text to a <xref:System.Windows.Documents.FlowDocument> can be done in more that one way.</span></span> <span data-ttu-id="18706-132">簡単な方法は、<xref:System.Windows.Documents.Paragraph>テキストなどのグループのコンテンツに使用するブロック レベル要素であります。</span><span class="sxs-lookup"><span data-stu-id="18706-132">A simple way to do so is through a <xref:System.Windows.Documents.Paragraph> which is a block-level element used to group content such as text.</span></span> <span data-ttu-id="18706-133">テキストのサンプルを使用して、インライン レベルの要素を追加する<xref:System.Windows.Documents.Span>と<xref:System.Windows.Documents.Run>します。</span><span class="sxs-lookup"><span data-stu-id="18706-133">To add text to inline-level elements the samples use <xref:System.Windows.Documents.Span> and <xref:System.Windows.Documents.Run>.</span></span> <span data-ttu-id="18706-134"><xref:System.Windows.Documents.Span> その他のインライン要素をグループ化するために使用されるインライン レベル フロー コンテンツ要素は、中、<xref:System.Windows.Documents.Run>インライン レベル フロー コンテンツ要素の書式設定されていないテキストを格納するためのものでは、します。</span><span class="sxs-lookup"><span data-stu-id="18706-134"><xref:System.Windows.Documents.Span> is an inline-level flow content element used for grouping other inline elements, while a <xref:System.Windows.Documents.Run> is an inline-level flow content element intended to contain a run of unformatted text.</span></span> <span data-ttu-id="18706-135">A<xref:System.Windows.Documents.Span>複数含めることができます<xref:System.Windows.Documents.Run>要素。</span><span class="sxs-lookup"><span data-stu-id="18706-135">A <xref:System.Windows.Documents.Span> can contain multiple <xref:System.Windows.Documents.Run> elements.</span></span>  
  
 <span data-ttu-id="18706-136">ドキュメントの最初の例には、共有名です。 ネットワークの数を持つドキュメントが含まれています。たとえば`\\server1\folder\file.ext`します。</span><span class="sxs-lookup"><span data-stu-id="18706-136">The first document example contains a document that has a number of network share names; for example `\\server1\folder\file.ext`.</span></span> <span data-ttu-id="18706-137">このネットワーク リンクがアラビア語または英語のいずれのドキュメントにあっても、常に同じように表示する必要があります。</span><span class="sxs-lookup"><span data-stu-id="18706-137">Whether you have this network link in an Arabic or English document, you always want it to appear in the same way.</span></span> <span data-ttu-id="18706-138">次の図を選択し、Span 要素を使用して、アラビア語で、リンクを示します<xref:System.Windows.FlowDirection.RightToLeft>ドキュメント。</span><span class="sxs-lookup"><span data-stu-id="18706-138">The following graphic illustrates using the Span element and shows the link in an Arabic <xref:System.Windows.FlowDirection.RightToLeft> document:</span></span>

 <span data-ttu-id="18706-139">![Span 要素の使用を示す図。](./media/bidirectional-features-in-wpf-overview/flow-direction-span-element.png "FlowDocument")</span><span class="sxs-lookup"><span data-stu-id="18706-139">![Graphic that illustrates using the Span element.](./media/bidirectional-features-in-wpf-overview/flow-direction-span-element.png "FlowDocument")</span></span>  
  
 <span data-ttu-id="18706-140">テキストなので<xref:System.Windows.FlowDirection.RightToLeft>、すべての特殊ななど、文字、"\\"、右から左へテキストを区切ります。</span><span class="sxs-lookup"><span data-stu-id="18706-140">Because the text is <xref:System.Windows.FlowDirection.RightToLeft>, all special characters, such as the "\\", separate the text in a right to left order.</span></span> <span data-ttu-id="18706-141">そのため、問題を解決するテキストに埋め込む必要がある個別に保持するためには、正しい順序で表示されていないリンクで、結果を<xref:System.Windows.Documents.Run>フロー<xref:System.Windows.FlowDirection.LeftToRight>します。</span><span class="sxs-lookup"><span data-stu-id="18706-141">That results in the link not being shown in the correct order, therefore to solve the problem, the text must be embedded to preserve a separate <xref:System.Windows.Documents.Run> flowing <xref:System.Windows.FlowDirection.LeftToRight>.</span></span> <span data-ttu-id="18706-142">個別のではなく<xref:System.Windows.Documents.Run>問題を解決する方法の向上がより大きいアラビア語に使用頻度の低い英語のテキストを埋め込むためには、各言語の<xref:System.Windows.Documents.Span>します。</span><span class="sxs-lookup"><span data-stu-id="18706-142">Instead of having a separate <xref:System.Windows.Documents.Run> for each language, a better way to solve the problem is to embed the less frequently used English text into a larger Arabic <xref:System.Windows.Documents.Span>.</span></span>  
  
 <span data-ttu-id="18706-143">次の図は、Span 要素に埋め込まれた実行要素を使用して、これを示しています。</span><span class="sxs-lookup"><span data-stu-id="18706-143">The following graphic illustrates this by using the Run element embedded in a Span element:</span></span>

 ![Span 要素には、実行の要素を示しています。 グラフィックが埋め込まれます。](./media/bidirectional-features-in-wpf-overview/embedded-span-element.png)  
  
 <span data-ttu-id="18706-145">次の例を使用して<xref:System.Windows.Documents.Run>と<xref:System.Windows.Documents.Span>ドキュメント内の要素。</span><span class="sxs-lookup"><span data-stu-id="18706-145">The following example demonstrates using <xref:System.Windows.Documents.Run> and <xref:System.Windows.Documents.Span> elements in documents.</span></span>  
  
 [!code-xaml[RunSpan#RunSpan](~/samples/snippets/csharp/VS_Snippets_Wpf/RunSpan/CS/Window1.xaml#runspan)]  
  
<a name="SpanElements"></a>   
## <a name="span-elements"></a><span data-ttu-id="18706-146">Span 要素</span><span class="sxs-lookup"><span data-stu-id="18706-146">Span Elements</span></span>  
 <span data-ttu-id="18706-147"><xref:System.Windows.Documents.Span>要素は、フロー方向が異なるテキスト間の境界区切り記号としては機能します。</span><span class="sxs-lookup"><span data-stu-id="18706-147">The <xref:System.Windows.Documents.Span> element works as a boundary separator between texts with different flow directions.</span></span>  <span data-ttu-id="18706-148">でも<xref:System.Windows.Documents.Span>同じフローの方向を持つ要素をことを意味する別の双方向スコープを持つと見なされます、<xref:System.Windows.Documents.Span>でコンテナーの要素が順序付けられた<xref:System.Windows.FlowDirection>、内のコンテンツのみ、<xref:System.Windows.Documents.Span>要素次の<xref:System.Windows.FlowDirection>の<xref:System.Windows.Documents.Span>します。</span><span class="sxs-lookup"><span data-stu-id="18706-148">Even <xref:System.Windows.Documents.Span> elements with the same flow direction are considered to have different bidirectional scopes which means that the <xref:System.Windows.Documents.Span> elements are ordered in the container’s <xref:System.Windows.FlowDirection>, only the content within the <xref:System.Windows.Documents.Span> element follows the <xref:System.Windows.FlowDirection> of the <xref:System.Windows.Documents.Span>.</span></span>  
  
 <span data-ttu-id="18706-149">次の図は、いくつかのフロー方向を示しています。<xref:System.Windows.Controls.TextBlock>要素。</span><span class="sxs-lookup"><span data-stu-id="18706-149">The following graphic shows the flow direction of several <xref:System.Windows.Controls.TextBlock> elements.</span></span>  
    
 ![フロー方向が異なるテキスト ブロックを示しています。 グラフィック。](./media/bidirectional-features-in-wpf-overview/flow-direction-text-blocks.png)  
  
 <span data-ttu-id="18706-151">次の例は、使用する方法を示します、<xref:System.Windows.Documents.Span>と<xref:System.Windows.Documents.Run>前の図に示すように結果を生成する要素。</span><span class="sxs-lookup"><span data-stu-id="18706-151">The following example shows how to use the <xref:System.Windows.Documents.Span> and <xref:System.Windows.Documents.Run> elements to produce the results shown in the previous graphic.</span></span>  
  
 [!code-xaml[Span#Span](~/samples/snippets/csharp/VS_Snippets_Wpf/Span/CS/Window1.xaml#span)]  
  
 <span data-ttu-id="18706-152"><xref:System.Windows.Controls.TextBlock>サンプルでは、要素、<xref:System.Windows.Documents.Span>要素のレイアウトに従って、<xref:System.Windows.FlowDirection>親が各内のテキストの<xref:System.Windows.Documents.Span>に従って独自の要素のフロー<xref:System.Windows.FlowDirection>します。</span><span class="sxs-lookup"><span data-stu-id="18706-152">In the <xref:System.Windows.Controls.TextBlock> elements in the sample, the <xref:System.Windows.Documents.Span> elements are laid out according to the <xref:System.Windows.FlowDirection> of their parents, but the text within each <xref:System.Windows.Documents.Span> element flows according to its own <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="18706-153">これは、ラテン語やアラビア語だけでなく、他のどの言語にも当てはまります。</span><span class="sxs-lookup"><span data-stu-id="18706-153">This is applicable to Latin and Arabic – or any other language.</span></span>  
  
### <a name="adding-xmllang"></a><span data-ttu-id="18706-154">xml:lang の追加</span><span class="sxs-lookup"><span data-stu-id="18706-154">Adding xml:lang</span></span>  
 <span data-ttu-id="18706-155">次の図などの数値と算術式を使用する別の例を示しています。`"200.0+21.4=221.4"`します。</span><span class="sxs-lookup"><span data-stu-id="18706-155">The following graphic shows another example that uses numbers and arithmetic expressions, such as `"200.0+21.4=221.4"`.</span></span> <span data-ttu-id="18706-156">だけ、<xref:System.Windows.FlowDirection>設定されます。</span><span class="sxs-lookup"><span data-stu-id="18706-156">Notice that only the <xref:System.Windows.FlowDirection> is set.</span></span>  
    
 ![FlowDirection のみを使用して数値を表示するグラフィック。](./media/bidirectional-features-in-wpf-overview/numbers-flow-right-left.png)  
  
 <span data-ttu-id="18706-158">このアプリケーションのユーザーは残念ながら、出力が場合でも、<xref:System.Windows.FlowDirection>が正しい番号がないの形状にアラビア数字の形状になる必要があります。</span><span class="sxs-lookup"><span data-stu-id="18706-158">Users of this application will be disappointed by the output, even though the <xref:System.Windows.FlowDirection> is correct the numbers are not shaped as Arabic numbers should be shaped.</span></span>  
  
 <span data-ttu-id="18706-159">XAML 要素を含めることができます、[!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)]属性 (`xml:lang`) の各要素の言語を定義します。</span><span class="sxs-lookup"><span data-stu-id="18706-159">XAML elements can include an [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] attribute (`xml:lang`) that defines the language of each element.</span></span> <span data-ttu-id="18706-160">XAML もサポートしています、[!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)]言語の原則もそれにより`xml:lang`ツリーの親要素に適用される値の子要素によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="18706-160">XAML also supports a [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] language principle whereby `xml:lang` values applied to parent elements in the tree are used by child elements.</span></span> <span data-ttu-id="18706-161">前の例での言語が定義されていませんので、<xref:System.Windows.Documents.Run>要素または上のいずれかのレベルの要素の場合、既定`xml:lang`を使用したある`en-US`XAML の。</span><span class="sxs-lookup"><span data-stu-id="18706-161">In the previous example, because a language was not defined for the <xref:System.Windows.Documents.Run> element or any of its top level elements, the default `xml:lang` was used, which is `en-US` for XAML.</span></span> <span data-ttu-id="18706-162">内部数字形成アルゴリズム[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]ここでは英語での対応する言語では: 数字が選択されます。</span><span class="sxs-lookup"><span data-stu-id="18706-162">The internal number shaping algorithm of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] selects numbers in the corresponding language – in this case English.</span></span> <span data-ttu-id="18706-163">アラビア語版を使用する数字を正しく表示`xml:lang`を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="18706-163">To make the Arabic numbers render correctly `xml:lang` needs to be set.</span></span>  
  
 <span data-ttu-id="18706-164">次の図で例を示します`xml:lang`を追加します。</span><span class="sxs-lookup"><span data-stu-id="18706-164">The following graphic shows the example with `xml:lang` added.</span></span>  
    
 ![右から左にフロー アラビア数字を示す図。](./media/bidirectional-features-in-wpf-overview/arabic-numbers-flow-right-left.png)  
  
 <span data-ttu-id="18706-166">次の例では、追加`xml:lang`アプリケーションにします。</span><span class="sxs-lookup"><span data-stu-id="18706-166">The following example adds `xml:lang` to the application.</span></span>  
  
 [!code-xaml[LangAttribute#LangAttribute](~/samples/snippets/csharp/VS_Snippets_Wpf/LangAttribute/CS/Window1.xaml#langattribute)]  
  
 <span data-ttu-id="18706-167">多くの言語が異なることに注意してください`xml:lang`対象となる地域に応じて値`"ar-SA"`と`"ar-EG"`アラビア語の 2 つのバリエーションを表します。</span><span class="sxs-lookup"><span data-stu-id="18706-167">Be aware that many languages have different `xml:lang` values depending on the targeted region, for example, `"ar-SA"` and `"ar-EG"` represent two variations of Arabic.</span></span> <span data-ttu-id="18706-168">両方を定義する必要がある、前の例を示しています、`xml:lang`と<xref:System.Windows.FlowDirection>値。</span><span class="sxs-lookup"><span data-stu-id="18706-168">The previous examples illustrate that you need to define both the `xml:lang` and <xref:System.Windows.FlowDirection> values.</span></span>  
  
<a name="FlowDirectionNontext"></a>   
## <a name="flowdirection-with-non-text-elements"></a><span data-ttu-id="18706-169">非テキスト要素のある FlowDirection</span><span class="sxs-lookup"><span data-stu-id="18706-169">FlowDirection with Non-text Elements</span></span>  
 <span data-ttu-id="18706-170"><xref:System.Windows.FlowDirection> テキストがテキストの要素も他のほぼすべてのフローの方向にフローする方法だけでなく定義[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]要素。</span><span class="sxs-lookup"><span data-stu-id="18706-170"><xref:System.Windows.FlowDirection> defines not only how text flows in a textual element but also the flow direction of almost every other [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element.</span></span> <span data-ttu-id="18706-171">次の図は、<xref:System.Windows.Controls.ToolBar>水平方向を使用する<xref:System.Windows.Media.LinearGradientBrush>右のグラデーションを左には、その背景を描画するためにします。</span><span class="sxs-lookup"><span data-stu-id="18706-171">The following graphic shows a <xref:System.Windows.Controls.ToolBar> that uses a horizontal <xref:System.Windows.Media.LinearGradientBrush> to draw its background with a left to right gradient.</span></span>  

 ![ツールバーを左右のグラデーションからを示しています。 グラフィック。](./media/bidirectional-features-in-wpf-overview/toolbar-left-right-gradient.png)  
  
 <span data-ttu-id="18706-173">設定した後、<xref:System.Windows.FlowDirection>に<xref:System.Windows.FlowDirection.RightToLeft>だけでなく、<xref:System.Windows.Controls.ToolBar>ボタンが右から左があっても、配置された<xref:System.Windows.Media.LinearGradientBrush>によりそのオフセットが右から左にフローします。</span><span class="sxs-lookup"><span data-stu-id="18706-173">After setting the <xref:System.Windows.FlowDirection> to <xref:System.Windows.FlowDirection.RightToLeft>, not only the <xref:System.Windows.Controls.ToolBar> buttons are arranged from right to left, but even the <xref:System.Windows.Media.LinearGradientBrush> realigns its offsets to flow from right to left.</span></span>  
  
 <span data-ttu-id="18706-174">次の図は、再構成された、<xref:System.Windows.Media.LinearGradientBrush>します。</span><span class="sxs-lookup"><span data-stu-id="18706-174">The following graphic shows the realignment of the <xref:System.Windows.Media.LinearGradientBrush>.</span></span>  
    
 ![ツールバーを右左のグラデーションからを示しますグラフィック。](./media/bidirectional-features-in-wpf-overview/toolbar-right-left-gradient.png)  
  
 <span data-ttu-id="18706-176">次の例では、描画、 <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.Controls.ToolBar>します。</span><span class="sxs-lookup"><span data-stu-id="18706-176">The following example draws a <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.Controls.ToolBar>.</span></span> <span data-ttu-id="18706-177">(描画左右から、削除、<xref:System.Windows.FlowDirection>属性を<xref:System.Windows.Controls.ToolBar>します。</span><span class="sxs-lookup"><span data-stu-id="18706-177">(To draw it left to right, remove the <xref:System.Windows.FlowDirection> attribute on the <xref:System.Windows.Controls.ToolBar>.</span></span>  
  
 [!code-xaml[Gradient#Gradient](~/samples/snippets/csharp/VS_Snippets_Wpf/Gradient/CS/Window1.xaml#gradient)]  
  
<a name="FlowDirectionExceptions"></a>   
### <a name="flowdirection-exceptions"></a><span data-ttu-id="18706-178">FlowDirection の例外</span><span class="sxs-lookup"><span data-stu-id="18706-178">FlowDirection Exceptions</span></span>  
 <span data-ttu-id="18706-179">いくつかのケースがある場所<xref:System.Windows.FlowDirection>期待どおりに動作しません。</span><span class="sxs-lookup"><span data-stu-id="18706-179">There are a few cases where <xref:System.Windows.FlowDirection> does not behave as expected.</span></span> <span data-ttu-id="18706-180">ここでは、そのような例外を 2 つ取り上げて説明します。</span><span class="sxs-lookup"><span data-stu-id="18706-180">This section covers two of these exceptions.</span></span>  
  
 <span data-ttu-id="18706-181">**イメージ**</span><span class="sxs-lookup"><span data-stu-id="18706-181">**Image**</span></span>  
  
 <span data-ttu-id="18706-182"><xref:System.Windows.Controls.Image>イメージを表示するコントロールを表します。</span><span class="sxs-lookup"><span data-stu-id="18706-182">An <xref:System.Windows.Controls.Image> represents a control that displays an image.</span></span> <span data-ttu-id="18706-183">[!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]で使える、<xref:System.Windows.Controls.Image.Source%2A>プロパティを定義する、[!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)]の<xref:System.Windows.Controls.Image>を表示します。</span><span class="sxs-lookup"><span data-stu-id="18706-183">In [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] it can be used with a <xref:System.Windows.Controls.Image.Source%2A> property that defines the [!INCLUDE[TLA#tla_uri](../../../../includes/tlasharptla-uri-md.md)] of the <xref:System.Windows.Controls.Image> to display.</span></span>  
  
 <span data-ttu-id="18706-184">その他とは異なり[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]、要素、<xref:System.Windows.Controls.Image>を継承しません、<xref:System.Windows.FlowDirection>コンテナーから。</span><span class="sxs-lookup"><span data-stu-id="18706-184">Unlike other [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements, an <xref:System.Windows.Controls.Image> does not inherit the <xref:System.Windows.FlowDirection> from the container.</span></span> <span data-ttu-id="18706-185">ただし場合、<xref:System.Windows.FlowDirection>明示的に設定されて<xref:System.Windows.FlowDirection.RightToLeft>、<xref:System.Windows.Controls.Image>水平方向に反転表示されます。</span><span class="sxs-lookup"><span data-stu-id="18706-185">However, if the <xref:System.Windows.FlowDirection> is set explicitly to <xref:System.Windows.FlowDirection.RightToLeft>, an <xref:System.Windows.Controls.Image> is displayed flipped horizontally.</span></span> <span data-ttu-id="18706-186">これは、双方向コンテンツの開発者にとって便利な機能として実装されています。場合によっては、イメージを左右反転して表示することで必要な効果が得られるためです。</span><span class="sxs-lookup"><span data-stu-id="18706-186">This is implemented as a convenient feature for developers of bidirectional content; because in some cases, horizontally flipping the image produces the desired effect.</span></span>  
  
 <span data-ttu-id="18706-187">次の図は、反転<xref:System.Windows.Controls.Image>します。</span><span class="sxs-lookup"><span data-stu-id="18706-187">The following graphic shows a flipped <xref:System.Windows.Controls.Image>.</span></span>  
    
 ![反転されたイメージを示しています。 グラフィック。](./media/bidirectional-features-in-wpf-overview/flipped-image-example.png)  
  
 <span data-ttu-id="18706-189">次の例を示しますが、<xref:System.Windows.Controls.Image>継承に失敗する、<xref:System.Windows.FlowDirection>から、<xref:System.Windows.Controls.StackPanel>含まれています。</span><span class="sxs-lookup"><span data-stu-id="18706-189">The following example demonstrates that the <xref:System.Windows.Controls.Image> fails to inherit the <xref:System.Windows.FlowDirection> from the <xref:System.Windows.Controls.StackPanel> that contains it.</span></span> <span data-ttu-id="18706-190">**注**という名前のファイルがある必要があります**ms_logo.jpg** c:\この例を実行するドライブ。</span><span class="sxs-lookup"><span data-stu-id="18706-190">**Note** You must have a file named **ms_logo.jpg** on your C:\ drive to run this example.</span></span>  
  
 [!code-xaml[Image#Image](~/samples/snippets/csharp/VS_Snippets_Wpf/Image/CS/Window1.xaml#image)]  
  
 <span data-ttu-id="18706-191">**注**ダウンロード ファイルに含まれているは、 **ms_logo.jpg**ファイル。</span><span class="sxs-lookup"><span data-stu-id="18706-191">**Note** Included in the download files is an **ms_logo.jpg** file.</span></span> <span data-ttu-id="18706-192">コードは、この .jpg ファイルがプロジェクト内ではなく、C:\ ドライブ上にあることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="18706-192">The code assumes that the .jpg file is not inside your project but somewhere on the C:\ drive.</span></span> <span data-ttu-id="18706-193">プロジェクト内のファイルを検索するためには、プロジェクト ファイルから C:\ドライブに .jpg をコピーするかコードを変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="18706-193">You must copy the .jpg from the project files to your C:\ drive or change the code to look for the file inside the project.</span></span> <span data-ttu-id="18706-194">この変更を行う`Source="file://c:/ms_logo.jpg"`に`Source="ms_logo.jpg"`します。</span><span class="sxs-lookup"><span data-stu-id="18706-194">To do this change `Source="file://c:/ms_logo.jpg"` to `Source="ms_logo.jpg"`.</span></span>  
  
 <span data-ttu-id="18706-195">**パス**</span><span class="sxs-lookup"><span data-stu-id="18706-195">**Paths**</span></span>  
  
 <span data-ttu-id="18706-196">加え、 <xref:System.Windows.Controls.Image>、もう 1 つの興味深い要素は<xref:System.Windows.Shapes.Path>します。</span><span class="sxs-lookup"><span data-stu-id="18706-196">In addition to an <xref:System.Windows.Controls.Image>, another interesting element is <xref:System.Windows.Shapes.Path>.</span></span> <span data-ttu-id="18706-197">パスは、接続された一連の線と曲線を描画できるオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="18706-197">A Path is an object that can draw a series of connected lines and curves.</span></span> <span data-ttu-id="18706-198">同様の方法で動作、<xref:System.Windows.Controls.Image>に関するその<xref:System.Windows.FlowDirection>。 たとえば、 <xref:System.Windows.FlowDirection.RightToLeft> <xref:System.Windows.FlowDirection>の水平方向のミラーの<xref:System.Windows.FlowDirection.LeftToRight>いずれか。</span><span class="sxs-lookup"><span data-stu-id="18706-198">It behaves in a manner similar to an <xref:System.Windows.Controls.Image> regarding its <xref:System.Windows.FlowDirection>; for example its <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection> is a horizontal mirror of its <xref:System.Windows.FlowDirection.LeftToRight> one.</span></span> <span data-ttu-id="18706-199">ただしとは異なり、 <xref:System.Windows.Controls.Image>、<xref:System.Windows.Shapes.Path>継承その<xref:System.Windows.FlowDirection>コンテナーと 1 つからしなくても、明示的に指定します。</span><span class="sxs-lookup"><span data-stu-id="18706-199">However, unlike an <xref:System.Windows.Controls.Image>, <xref:System.Windows.Shapes.Path> inherits its <xref:System.Windows.FlowDirection> from the container and one does not need to specify it explicitly.</span></span>  
  
 <span data-ttu-id="18706-200">次の例では、3 本の線を使用して単純な矢印を描画します。</span><span class="sxs-lookup"><span data-stu-id="18706-200">The following example draws a simple arrow using 3 lines.</span></span> <span data-ttu-id="18706-201">最初の矢印は、<xref:System.Windows.FlowDirection.RightToLeft>フローの方向から、<xref:System.Windows.Controls.StackPanel>その始点と終点が右側を起点として計測されるようにします。</span><span class="sxs-lookup"><span data-stu-id="18706-201">The first arrow inherits the <xref:System.Windows.FlowDirection.RightToLeft> flow direction from the <xref:System.Windows.Controls.StackPanel> so that its start and end points are measured from a root on the right side.</span></span> <span data-ttu-id="18706-202">2 番目の矢印は、明示的な<xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection>も右側にある開始します。</span><span class="sxs-lookup"><span data-stu-id="18706-202">The second arrow which has an explicit <xref:System.Windows.FlowDirection.RightToLeft><xref:System.Windows.FlowDirection> also starts on the right side.</span></span> <span data-ttu-id="18706-203">ただし、3 番目の矢印の起点は左側です。</span><span class="sxs-lookup"><span data-stu-id="18706-203">However, the third arrow has its starting root on the left side.</span></span> <span data-ttu-id="18706-204">参照の描画の詳細については<xref:System.Windows.Media.LineGeometry>と<xref:System.Windows.Media.GeometryGroup>します。</span><span class="sxs-lookup"><span data-stu-id="18706-204">For more information on drawing see <xref:System.Windows.Media.LineGeometry> and <xref:System.Windows.Media.GeometryGroup>.</span></span>  
  
 [!code-xaml[Paths#Paths](~/samples/snippets/csharp/VS_Snippets_Wpf/Paths/CS/Window1.xaml#paths)]  
  
 <span data-ttu-id="18706-205">次の図では、前の例の出力を示しますを使用して描画する矢印の付いた、`Path`要素。</span><span class="sxs-lookup"><span data-stu-id="18706-205">The following graphic shows the output of the previous example with arrows drawn using the `Path` element:</span></span>

 ![パス要素を使用して描画する矢印を示す図。](./media/bidirectional-features-in-wpf-overview/arrows-drawn-path-element.png)  
  
 <span data-ttu-id="18706-207"><xref:System.Windows.Controls.Image>と<xref:System.Windows.Shapes.Path>方法の 2 つの例は[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]使用<xref:System.Windows.FlowDirection>します。</span><span class="sxs-lookup"><span data-stu-id="18706-207">The <xref:System.Windows.Controls.Image> and <xref:System.Windows.Shapes.Path> are two examples of a how [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] uses <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="18706-208">レイアウトの横にある[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]、コンテナー内の特定の方向に要素<xref:System.Windows.FlowDirection>などの要素で使用できる<xref:System.Windows.Controls.InkPresenter>、表面にインクをレンダリングする<xref:System.Windows.Media.LinearGradientBrush>、<xref:System.Windows.Media.RadialGradientBrush>します。</span><span class="sxs-lookup"><span data-stu-id="18706-208">Beside laying out [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] elements in a specific direction within a container, <xref:System.Windows.FlowDirection> can be used with elements such as <xref:System.Windows.Controls.InkPresenter> which renders ink on a surface, <xref:System.Windows.Media.LinearGradientBrush>, <xref:System.Windows.Media.RadialGradientBrush>.</span></span> <span data-ttu-id="18706-209">右左の動作からを左右の動作からを模倣したコンテンツの必要がある場合またはその逆[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]その機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="18706-209">Whenever you need a right to left behavior for your content that mimics a left to right behavior, or vice versa, [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] provides that capability.</span></span>  
  
<a name="NumberSubstitution"></a>   
## <a name="number-substitution"></a><span data-ttu-id="18706-210">数字の置換</span><span class="sxs-lookup"><span data-stu-id="18706-210">Number Substitution</span></span>  
 <span data-ttu-id="18706-211">従来、[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]の例の数値が格納されているために、異なるロケール間で統合されたこれらの数字の内部記憶域を維持しながら、同じ数字のさまざまな文化的な図形で表現できるようにして数字の置換がサポートされていますよく知られた 16 進値、0x40、0x41、表示、選択した言語は。</span><span class="sxs-lookup"><span data-stu-id="18706-211">Historically, [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] has supported number substitution by allowing the representation of different cultural shapes for the same digits while keeping the internal storage of these digits unified among different locales, for example numbers are stored in their well known hexadecimal values, 0x40, 0x41, but displayed according to the selected language.</span></span>  
  
 <span data-ttu-id="18706-212">これを 1 つの言語に変換することがなく、数値を処理するアプリケーションを許可するが、たとえば、ユーザーが開くことができます、[!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)]ローカライズされたアラビア語のスプレッドシート[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]で開く、アラビア語の形状の数字を参照してくださいヨーロッパ言語バージョン[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]と、同じ数字のヨーロッパ語表現を参照してください。</span><span class="sxs-lookup"><span data-stu-id="18706-212">This has allowed applications to process numerical values without the need to convert them from one language to another, for example a user can open an [!INCLUDE[TLA#tla_xl](../../../../includes/tlasharptla-xl-md.md)] spreadsheet in a localized Arabic [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see the numbers shaped in Arabic, but open it in a European version of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)] and see European representation of the same numbers.</span></span> <span data-ttu-id="18706-213">これは、コンマ区切りやパーセント記号などの他の記号でも必要です。これらの記号は、通常同じドキュメント内で数字を伴っているからです。</span><span class="sxs-lookup"><span data-stu-id="18706-213">This is also necessary for other symbols such as comma separators and percentage symbol because they usually accompany numbers in the same document.</span></span>  
  
 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="18706-214">は引き続きこの機能を備え、置換を使用するタイミングと方法をユーザーがさらに制御できるようにこの機能のサポートが強化されています。</span><span class="sxs-lookup"><span data-stu-id="18706-214">continues the same tradition, and adds further support for this feature that allows more user control over when and how substitution is used.</span></span> <span data-ttu-id="18706-215">この機能はすべての言語向けに設計されていますが、アプリケーションが実行される可能性のあるカルチャが多岐にわたるために特定の言語に合わせて数字の形状を設定することがアプリケーション開発者にとって通常は問題となる双方向コンテンツに対して特に有用です。</span><span class="sxs-lookup"><span data-stu-id="18706-215">While this feature is designed for any language, it is particularly useful in bidirectional content where shaping digits for a specific language is usually a challenge for application developers because of the various cultures an application might run on.</span></span>  
  
 <span data-ttu-id="18706-216">数字の置換を制御するコア プロパティは[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]は、<xref:System.Windows.Media.NumberSubstitution.Substitution%2A>依存関係プロパティ。</span><span class="sxs-lookup"><span data-stu-id="18706-216">The core property controlling how number substitution works in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is the <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> dependency property.</span></span> <span data-ttu-id="18706-217"><xref:System.Windows.Media.NumberSubstitution>クラスは、テキスト内の数字の表示方法を指定します。</span><span class="sxs-lookup"><span data-stu-id="18706-217">The <xref:System.Windows.Media.NumberSubstitution> class specifies how numbers in text are to be displayed.</span></span> <span data-ttu-id="18706-218">その動作を定義する 3 つのパブリック プロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="18706-218">It has three public properties that define its behavior.</span></span> <span data-ttu-id="18706-219">以下は、各プロパティの概要です。</span><span class="sxs-lookup"><span data-stu-id="18706-219">Following is a summary of each of the properties.</span></span>  
  
 <span data-ttu-id="18706-220">**CultureSource:**</span><span class="sxs-lookup"><span data-stu-id="18706-220">**CultureSource:**</span></span>  
  
 <span data-ttu-id="18706-221">このプロパティは、数字のカルチャを決定する方法を指定します。</span><span class="sxs-lookup"><span data-stu-id="18706-221">This property specifies how the culture for numbers is determined.</span></span> <span data-ttu-id="18706-222">3 つの時間を要する<xref:System.Windows.Media.NumberCultureSource>列挙値。</span><span class="sxs-lookup"><span data-stu-id="18706-222">It takes one of three <xref:System.Windows.Media.NumberCultureSource> enumeration values.</span></span>  
  
- <span data-ttu-id="18706-223">オーバーライドします。数字カルチャの<xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="18706-223">Override: Number culture is that of <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property.</span></span>  
  
- <span data-ttu-id="18706-224">テキスト:数字カルチャは、テキスト ランのカルチャです。</span><span class="sxs-lookup"><span data-stu-id="18706-224">Text: Number culture is the culture of the text run.</span></span> <span data-ttu-id="18706-225">マークアップで`xml:lang`、またはそのエイリアス`Language`プロパティ (<xref:System.Windows.FrameworkElement.Language%2A>または<xref:System.Windows.FrameworkContentElement.Language%2A>)。</span><span class="sxs-lookup"><span data-stu-id="18706-225">In markup, this would be `xml:lang`, or its alias `Language` property (<xref:System.Windows.FrameworkElement.Language%2A> or <xref:System.Windows.FrameworkContentElement.Language%2A>).</span></span> <span data-ttu-id="18706-226">派生したクラスの既定値はまた、<xref:System.Windows.FrameworkContentElement>します。</span><span class="sxs-lookup"><span data-stu-id="18706-226">Also, it is the default for classes deriving from <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="18706-227">このようなクラスを含める<xref:System.Windows.Documents.Paragraph?displayProperty=nameWithType>、 <xref:System.Windows.Documents.Table?displayProperty=nameWithType>、<xref:System.Windows.Documents.TableCell?displayProperty=nameWithType>など。</span><span class="sxs-lookup"><span data-stu-id="18706-227">Such classes include <xref:System.Windows.Documents.Paragraph?displayProperty=nameWithType>, <xref:System.Windows.Documents.Table?displayProperty=nameWithType>, <xref:System.Windows.Documents.TableCell?displayProperty=nameWithType> and so forth.</span></span>  
  
- <span data-ttu-id="18706-228">ユーザー:数字カルチャは、現在のスレッドのカルチャです。</span><span class="sxs-lookup"><span data-stu-id="18706-228">User: Number culture is the culture of the current thread.</span></span> <span data-ttu-id="18706-229">このプロパティのすべてのサブクラスの既定値は、<xref:System.Windows.FrameworkElement>など<xref:System.Windows.Controls.Page>、<xref:System.Windows.Window>と<xref:System.Windows.Controls.TextBlock>します。</span><span class="sxs-lookup"><span data-stu-id="18706-229">This property is the default for all subclasses of <xref:System.Windows.FrameworkElement> such as <xref:System.Windows.Controls.Page>, <xref:System.Windows.Window> and <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
 <span data-ttu-id="18706-230">**CultureOverride**:</span><span class="sxs-lookup"><span data-stu-id="18706-230">**CultureOverride**:</span></span>  
  
 <span data-ttu-id="18706-231"><xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A>場合にのみプロパティが使用される、<xref:System.Windows.Media.NumberSubstitution.CultureSource%2A>プロパティに設定されて<xref:System.Windows.Media.NumberCultureSource.Override>それ以外の場合は無視されます。</span><span class="sxs-lookup"><span data-stu-id="18706-231">The <xref:System.Windows.Media.NumberSubstitution.CultureOverride%2A> property is used only if the <xref:System.Windows.Media.NumberSubstitution.CultureSource%2A> property is set to <xref:System.Windows.Media.NumberCultureSource.Override> and is ignored otherwise.</span></span> <span data-ttu-id="18706-232">このプロパティは数字カルチャを指定します。</span><span class="sxs-lookup"><span data-stu-id="18706-232">It specifies the number culture.</span></span> <span data-ttu-id="18706-233">値`null`既定値は EN-US として解釈されます。</span><span class="sxs-lookup"><span data-stu-id="18706-233">A value of `null`, the default value, is interpreted as en-US.</span></span>  
  
 <span data-ttu-id="18706-234">**Substitution**:</span><span class="sxs-lookup"><span data-stu-id="18706-234">**Substitution**:</span></span>  
  
 <span data-ttu-id="18706-235">このプロパティは、実行する数字の置換の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="18706-235">This property specifies the type of number substitution to perform.</span></span> <span data-ttu-id="18706-236">次のいずれかになります<xref:System.Windows.Media.NumberSubstitutionMethod>列挙値。</span><span class="sxs-lookup"><span data-stu-id="18706-236">It takes one of the following <xref:System.Windows.Media.NumberSubstitutionMethod> enumeration values.</span></span>  
  
- <span data-ttu-id="18706-237"><xref:System.Windows.Media.NumberSubstitutionMethod.AsCulture>:数字カルチャのに基づいて置換方法を決定<xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=nameWithType>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="18706-237"><xref:System.Windows.Media.NumberSubstitutionMethod.AsCulture>: The substitution method is determined based on the number culture's <xref:System.Globalization.NumberFormatInfo.DigitSubstitution%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="18706-238">既定値です。</span><span class="sxs-lookup"><span data-stu-id="18706-238">This is the default.</span></span>  
  
- <span data-ttu-id="18706-239"><xref:System.Windows.Media.NumberSubstitutionMethod.Context>:数字カルチャがアラビアまたはペルシャのカルチャの場合は、数字がコンテキストに依存するを指定します。</span><span class="sxs-lookup"><span data-stu-id="18706-239"><xref:System.Windows.Media.NumberSubstitutionMethod.Context>: If the number culture is an Arabic or Farsi culture, it specifies that the digits depend on the context.</span></span>  
  
- <span data-ttu-id="18706-240"><xref:System.Windows.Media.NumberSubstitutionMethod.European>:数値は常に、ヨーロッパ数字としてレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="18706-240"><xref:System.Windows.Media.NumberSubstitutionMethod.European>: Numbers are always rendered as European digits.</span></span>  
  
- <span data-ttu-id="18706-241"><xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>:数字を表示する国の数字を使用して、カルチャの規定に従い、数字カルチャの<xref:System.Globalization.CultureInfo.NumberFormat%2A>します。</span><span class="sxs-lookup"><span data-stu-id="18706-241"><xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>: Numbers are rendered using the national digits for the number culture, as specified by the culture's <xref:System.Globalization.CultureInfo.NumberFormat%2A>.</span></span>  
  
- <span data-ttu-id="18706-242"><xref:System.Windows.Media.NumberSubstitutionMethod.Traditional>:数字を表示するには、数字カルチャの通常の数字を使用します。</span><span class="sxs-lookup"><span data-stu-id="18706-242"><xref:System.Windows.Media.NumberSubstitutionMethod.Traditional>: Numbers are rendered using the traditional digits for the number culture.</span></span> <span data-ttu-id="18706-243">ほとんどのカルチャでは、これと同じ<xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>します。</span><span class="sxs-lookup"><span data-stu-id="18706-243">For most cultures, this is the same as <xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>.</span></span> <span data-ttu-id="18706-244">ただし、<xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational>この値が結果のすべてのアラビア カルチャでアラビア数字が一部のアラビア カルチャでラテンの数字になります。</span><span class="sxs-lookup"><span data-stu-id="18706-244">However, <xref:System.Windows.Media.NumberSubstitutionMethod.NativeNational> results in Latin digits for some Arabic cultures, whereas this value results in Arabic digits for all Arabic cultures.</span></span>  
  
 <span data-ttu-id="18706-245">これらの値は双方向コンテンツ開発者にとってどういった意味があるのでしょうか。</span><span class="sxs-lookup"><span data-stu-id="18706-245">What do those values mean for a bidirectional content developer?</span></span> <span data-ttu-id="18706-246">ほとんどの場合、開発者が定義にのみ必要があります<xref:System.Windows.FlowDirection>と各テキストの言語[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]要素、たとえば`Language="ar-SA"`と<xref:System.Windows.Media.NumberSubstitution>ロジックに従って、正しい番号を表示する処理[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="18706-246">In most cases, the developer might need only to define <xref:System.Windows.FlowDirection> and the language of each textual [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] element, for example `Language="ar-SA"` and the <xref:System.Windows.Media.NumberSubstitution> logic takes care of displaying the numbers according to the correct [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span> <span data-ttu-id="18706-247">次の例で、アラビア語および英語の番号を使用して、[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]のアラビア語版で実行されるアプリケーション[!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="18706-247">The following example demonstrates using Arabic and English numbers in a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application running in an Arabic version of [!INCLUDE[TLA#tla_mswin](../../../../includes/tlasharptla-mswin-md.md)].</span></span>  
  
 [!code-xaml[Numbers#Numbers](~/samples/snippets/csharp/VS_Snippets_Wpf/Numbers/CS/Window1.xaml#numbers)]  
  
 <span data-ttu-id="18706-248">次の図は、アラビア語および英語の番号が表示されるアラビア語のバージョンの Windows で実行している場合に、前のサンプルの出力を示します。</span><span class="sxs-lookup"><span data-stu-id="18706-248">The following graphic shows the output of the previous sample if you're running in an Arabic version of Windows with Arabic and English numbers displayed:</span></span>

 ![アラビア語と英語数字を示しています。 グラフィック。](./media/bidirectional-features-in-wpf-overview/arabic-english-numbers.png)  
  
 <span data-ttu-id="18706-250"><xref:System.Windows.FlowDirection>設定はここでは重要な<xref:System.Windows.FlowDirection>に<xref:System.Windows.FlowDirection.LeftToRight>代わりに、ヨーロッパ数字が生成されます。</span><span class="sxs-lookup"><span data-stu-id="18706-250">The <xref:System.Windows.FlowDirection> was important in this case because setting the <xref:System.Windows.FlowDirection> to <xref:System.Windows.FlowDirection.LeftToRight> instead would have yielded European digits.</span></span> <span data-ttu-id="18706-251">以下のセクションでは、ドキュメント全体で数字の表示を統一する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="18706-251">The following sections discuss how to have a unified display of digits throughout your document.</span></span> <span data-ttu-id="18706-252">この例では、アラビア語版 Windows で実行されていなければ、すべての数字がヨーロッパ数字として表示されます。</span><span class="sxs-lookup"><span data-stu-id="18706-252">If this example is not running on Arabic Windows, all the digits display as European digits.</span></span>  
  
 <span data-ttu-id="18706-253">**置換ルールの定義**</span><span class="sxs-lookup"><span data-stu-id="18706-253">**Defining Substitution Rules**</span></span>  
  
 <span data-ttu-id="18706-254">実際のアプリケーションでは、プログラムでの言語設定が必要となる場合があります。</span><span class="sxs-lookup"><span data-stu-id="18706-254">In a real application you might need to set the Language programmatically.</span></span> <span data-ttu-id="18706-255">設定するなど、`xml:lang`システムで使用されるものと同じにする属性[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]、またはおそらくアプリケーション状態に応じて言語を変更します。</span><span class="sxs-lookup"><span data-stu-id="18706-255">For example, you want to set the `xml:lang` attribute to be the same as the one used by the system’s [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)], or maybe change the language depending on the application state.</span></span>  
  
 <span data-ttu-id="18706-256">する場合は、アプリケーションの状態に基づいて、変更のによって提供されるその他の機能を使用して、[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="18706-256">If you want to make changes based on the application's state, make use of other features provided by [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span>  
  
 <span data-ttu-id="18706-257">まず、設定して、アプリケーション コンポーネントの`NumberSubstitution.CultureSource="Text"`します。</span><span class="sxs-lookup"><span data-stu-id="18706-257">First, set the application component’s `NumberSubstitution.CultureSource="Text"`.</span></span> <span data-ttu-id="18706-258">設定がから提供されないことを確認は、この設定を使用して、[!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]のテキスト要素など、既定値として"User"が含まれない<xref:System.Windows.Controls.TextBlock>します。</span><span class="sxs-lookup"><span data-stu-id="18706-258">Using this setting makes sure that the settings do not come from the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] for text elements that have "User" as the default, such as <xref:System.Windows.Controls.TextBlock>.</span></span>  
  
<span data-ttu-id="18706-259">例えば:</span><span class="sxs-lookup"><span data-stu-id="18706-259">For example:</span></span>  

```xaml  
<TextBlock
   Name="text1" NumberSubstitution.CultureSource="Text">
   1234+5679=6913
</TextBlock>
```

<span data-ttu-id="18706-260">対応するC#コードは、設定、`Language`プロパティ、たとえば、 `"ar-SA"`。</span><span class="sxs-lookup"><span data-stu-id="18706-260">In the corresponding C# code, set the `Language` property, for example, to `"ar-SA"`.</span></span>  
  
```csharp
text1.Language = System.Windows.Markup.XmlLanguage.GetLanguage("ar-SA");
```

<span data-ttu-id="18706-261">設定する必要がある場合、`Language`プロパティに現在のユーザーの UI 言語は、次のコードを使用します。</span><span class="sxs-lookup"><span data-stu-id="18706-261">If you need to set the `Language` property to the current user’s UI language use the following code.</span></span>  
  
```csharp
text1.Language = System.Windows.Markup.XmlLanguage.GetLanguage(System.Globalization.CultureInfo.CurrentUICulture.IetfLanguageTag);
```

 <span data-ttu-id="18706-262"><xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> 実行時に現在のスレッドで使用される現在のカルチャを表します。</span><span class="sxs-lookup"><span data-stu-id="18706-262"><xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> represents the current culture used by the current thread at run time.</span></span>  
  
 <span data-ttu-id="18706-263">最終的な[!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)]例を次の例のようになります。</span><span class="sxs-lookup"><span data-stu-id="18706-263">Your final [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] example should be similar to the following example.</span></span>  
  
 [!code-xaml[Numbers2#Numbers2](~/samples/snippets/csharp/VS_Snippets_Wpf/Numbers2/CS/Window1.xaml#numbers2)]  
  
 <span data-ttu-id="18706-264">最終的なC#例は、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="18706-264">Your final C# example should be similar to the following.</span></span>  
  
 [!code-csharp[NumbersCSharp#NumbersCSharp](~/samples/snippets/csharp/VS_Snippets_Wpf/NumbersCSharp/CSharp/Window1.xaml.cs#numberscsharp)]  
  
 <span data-ttu-id="18706-265">次の図は、何のいずれかのプログラミング言語をアラビア数字を表示するウィンドウの外観を示します。</span><span class="sxs-lookup"><span data-stu-id="18706-265">The following graphic shows what the window looks like for either programming language, displaying Arabic numbers:</span></span>
     
 ![アラビア数字を表示するグラフィック。](./media/bidirectional-features-in-wpf-overview/displays-arabic-numbers.png)  
  
 <span data-ttu-id="18706-267">**Substitution プロパティの使用**</span><span class="sxs-lookup"><span data-stu-id="18706-267">**Using the Substitution Property**</span></span>  
  
 <span data-ttu-id="18706-268">数字の置換動作[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]テキスト要素の両方の言語に依存し、その<xref:System.Windows.FlowDirection>します。</span><span class="sxs-lookup"><span data-stu-id="18706-268">The way number substitution works in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] depends on both the Language of the text element and its <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="18706-269">場合、<xref:System.Windows.FlowDirection>左から右、ヨーロッパ数字をレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="18706-269">If the <xref:System.Windows.FlowDirection> is left to right, then European digits are rendered.</span></span> <span data-ttu-id="18706-270">ただしアラビア語のテキストが付いてまたは"ar"に言語を設定する場合、<xref:System.Windows.FlowDirection>は<xref:System.Windows.FlowDirection.RightToLeft>、アラビア数字が代わりに表示されます。</span><span class="sxs-lookup"><span data-stu-id="18706-270">However if it is preceded by Arabic text, or has the language set to "ar" and the <xref:System.Windows.FlowDirection> is <xref:System.Windows.FlowDirection.RightToLeft>, Arabic digits are rendered instead.</span></span>  
  
 <span data-ttu-id="18706-271">ただし、たとえば、すべてのユーザーに対してヨーロッパ数字を表示するなどの、統一されたアプリケーションを作成する必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="18706-271">In some cases, however, you might want to create a unified application, for example European digits for all users.</span></span> <span data-ttu-id="18706-272">またはにアラビア数字<xref:System.Windows.Documents.Table>特定のセル<xref:System.Windows.Style>します。</span><span class="sxs-lookup"><span data-stu-id="18706-272">Or Arabic digits in <xref:System.Windows.Documents.Table> cells with a specific <xref:System.Windows.Style>.</span></span> <span data-ttu-id="18706-273">1 つ簡単に行う方法を使用している、<xref:System.Windows.Media.NumberSubstitution.Substitution%2A>プロパティ。</span><span class="sxs-lookup"><span data-stu-id="18706-273">One easy way to do that is using the <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property.</span></span>  
  
 <span data-ttu-id="18706-274">次の例では、最初の<xref:System.Windows.Controls.TextBlock>はありません、<xref:System.Windows.Media.NumberSubstitution.Substitution%2A>プロパティの設定、期待どおりに、アルゴリズムにアラビア数字が表示されます。</span><span class="sxs-lookup"><span data-stu-id="18706-274">In the following example, the first <xref:System.Windows.Controls.TextBlock> does not have the <xref:System.Windows.Media.NumberSubstitution.Substitution%2A> property set, so the algorithm displays Arabic digits as expected.</span></span> <span data-ttu-id="18706-275">ただし、2 番目の<xref:System.Windows.Controls.TextBlock>置換がヨーロッパに設定されてアラビア数字は、既定値の置換をオーバーライドして、ヨーロッパ数字が表示されます。</span><span class="sxs-lookup"><span data-stu-id="18706-275">However in the second <xref:System.Windows.Controls.TextBlock>, the substitution is set to European overriding the default substitution for Arabic numbers, and European digits are displayed.</span></span>  
  
 [!code-xaml[Numbers3#Numbers3](~/samples/snippets/csharp/VS_Snippets_Wpf/Numbers3/CS/Window1.xaml#numbers3)]
