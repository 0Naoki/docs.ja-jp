---
title: Sn.exe (厳密名ツール)
ms.date: 03/30/2017
helpviewer_keywords:
- public keys, signing files
- Strong Name tool
- Sn.exe
- assemblies [.NET Framework], signing
- signing files
- strong-named assemblies, signing files
- key pairs for signing files
ms.assetid: c1d2b532-1b8e-4c7a-8ac5-53b801135ec6
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 1bdb51d38109cf4c072a9841983e86a444e964b0
ms.sourcegitcommit: 5137208fa414d9ca3c58cdfd2155ac81bc89e917
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57492635"
---
# <a name="snexe-strong-name-tool"></a><span data-ttu-id="60c99-102">Sn.exe (厳密名ツール)</span><span class="sxs-lookup"><span data-stu-id="60c99-102">Sn.exe (Strong Name Tool)</span></span>
<span data-ttu-id="60c99-103">厳密名ツール (Sn.exe) は、[厳密な名前](../../../docs/framework/app-domains/strong-named-assemblies.md)を使用してアセンブリに署名する場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="60c99-103">The Strong Name tool (Sn.exe) helps sign assemblies with [strong names](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span> <span data-ttu-id="60c99-104">Sn.exe には、キーの管理、署名の生成、署名の検査に関する各オプションが用意されています。</span><span class="sxs-lookup"><span data-stu-id="60c99-104">Sn.exe provides options for key management, signature generation, and signature verification.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="60c99-105">セキュリティに関しては、厳格な名前に依存しないでください。</span><span class="sxs-lookup"><span data-stu-id="60c99-105">Do not rely on strong names for security.</span></span> <span data-ttu-id="60c99-106">厳格な名前は、一意の ID を提供するだけです。</span><span class="sxs-lookup"><span data-stu-id="60c99-106">They provide a unique identity only.</span></span>

 <span data-ttu-id="60c99-107">厳密な名前付けと厳密な名前付きアセンブリについて詳しくは、「[Strong-Named Assemblies](../../../docs/framework/app-domains/strong-named-assemblies.md)」 (厳密な名前付きアセンブリ) と「[How to: Sign an Assembly with a Strong Name](../../../docs/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name.md)」 (方法: 厳密な名前でアセンブリに署名する) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="60c99-107">For more information on strong naming and strong-named assemblies, see [Strong-Named Assemblies](../../../docs/framework/app-domains/strong-named-assemblies.md) and [How to: Sign an Assembly with a Strong Name](../../../docs/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name.md).</span></span>  
  
 <span data-ttu-id="60c99-108">厳密名ツールは Visual Studio と共に自動的にインストールされます。</span><span class="sxs-lookup"><span data-stu-id="60c99-108">The Strong Name tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="60c99-109">このツールを開始するには、開発者コマンド プロンプト (または、Windows 7 の Visual Studio コマンド プロンプト) を使用します。</span><span class="sxs-lookup"><span data-stu-id="60c99-109">To start the tool, use the Developer Command Prompt (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="60c99-110">詳細については、「[Visual Studio 用開発者コマンド プロンプト](../../../docs/framework/tools/developer-command-prompt-for-vs.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="60c99-110">For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span></span>  

> [!NOTE]
>  <span data-ttu-id="60c99-111">64 ビット コンピューターでは、Visual Studio 用開発者コマンド プロンプトを使用して 32 ビット バージョンの Sn.exe を、Visual Studio x64 Win64 コマンド プロンプトを使用して 64 ビット バージョンを実行してください。</span><span class="sxs-lookup"><span data-stu-id="60c99-111">On 64-bit computers, run the 32-bit version of Sn.exe by using the Developer Command Prompt for Visual Studio and the 64-bit version by using the Visual Studio x64 Win64 Command Prompt.</span></span> 
  
 <span data-ttu-id="60c99-112">コマンド プロンプトに次のように入力します。</span><span class="sxs-lookup"><span data-stu-id="60c99-112">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="60c99-113">構文</span><span class="sxs-lookup"><span data-stu-id="60c99-113">Syntax</span></span>  
  
```  
sn [-quiet][option [parameter(s)]]  
```  
  
## <a name="parameters"></a><span data-ttu-id="60c99-114">パラメーター</span><span class="sxs-lookup"><span data-stu-id="60c99-114">Parameters</span></span>  
  
|<span data-ttu-id="60c99-115">オプション</span><span class="sxs-lookup"><span data-stu-id="60c99-115">Option</span></span>|<span data-ttu-id="60c99-116">説明</span><span class="sxs-lookup"><span data-stu-id="60c99-116">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="60c99-117">**-a** *identityKeyPairFile* *signaturePublicKeyFile*</span><span class="sxs-lookup"><span data-stu-id="60c99-117">**-a** *identityKeyPairFile* *signaturePublicKeyFile*</span></span>|<span data-ttu-id="60c99-118"><xref:System.Reflection.AssemblySignatureKeyAttribute> データを生成して、ID キーをファイルからの署名キーに移行します。</span><span class="sxs-lookup"><span data-stu-id="60c99-118">Generates <xref:System.Reflection.AssemblySignatureKeyAttribute> data to migrate the identity key to the signature key from a file.</span></span>|  
|<span data-ttu-id="60c99-119">**-ac** *identityPublicKeyFile* *identityKeyPairContainer* *signaturePublicKeyFile*</span><span class="sxs-lookup"><span data-stu-id="60c99-119">**-ac** *identityPublicKeyFile* *identityKeyPairContainer* *signaturePublicKeyFile*</span></span>|<span data-ttu-id="60c99-120"><xref:System.Reflection.AssemblySignatureKeyAttribute> データを生成して、ID キーをキー コンテナーからの署名キーに移行します。</span><span class="sxs-lookup"><span data-stu-id="60c99-120">Generates <xref:System.Reflection.AssemblySignatureKeyAttribute> data to migrate the identity key to the signature key from a key container.</span></span>|  
|<span data-ttu-id="60c99-121">**-c** [*csp*]</span><span class="sxs-lookup"><span data-stu-id="60c99-121">**-c** [*csp*]</span></span>|<span data-ttu-id="60c99-122">厳密な名前による署名に使用する既定の暗号サービス プロバイダー (CSP: Cryptographic Service Provider) を設定します。</span><span class="sxs-lookup"><span data-stu-id="60c99-122">Sets the default cryptographic service provider (CSP) to use for strong name signing.</span></span> <span data-ttu-id="60c99-123">この設定は、コンピューター全体に適用されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-123">This setting applies to the entire computer.</span></span> <span data-ttu-id="60c99-124">CSP 名を指定しない場合は、現在の設定がクリアされます。</span><span class="sxs-lookup"><span data-stu-id="60c99-124">If you do not specify a CSP name, Sn.exe clears the current setting.</span></span>|  
|<span data-ttu-id="60c99-125">**-d** *container*</span><span class="sxs-lookup"><span data-stu-id="60c99-125">**-d** *container*</span></span>|<span data-ttu-id="60c99-126">指定したキー コンテナーを厳密な名前 CSP から削除します。</span><span class="sxs-lookup"><span data-stu-id="60c99-126">Deletes the specified key container from the strong name CSP.</span></span>|  
|<span data-ttu-id="60c99-127">**-D**  *assembly1 assembly2*</span><span class="sxs-lookup"><span data-stu-id="60c99-127">**-D**  *assembly1 assembly2*</span></span>|<span data-ttu-id="60c99-128">2 つのアセンブリの違いが、署名だけかどうかを検査します。</span><span class="sxs-lookup"><span data-stu-id="60c99-128">Verifies that two assemblies differ only by signature.</span></span> <span data-ttu-id="60c99-129">通常は、このオプションは、別のキー ペアを使用してアセンブリに再署名した後のチェック用として使用されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-129">This is often used as a check after an assembly has been re-signed with a different key pair.</span></span>|  
|<span data-ttu-id="60c99-130">**-e**  *assembly outfile*</span><span class="sxs-lookup"><span data-stu-id="60c99-130">**-e**  *assembly outfile*</span></span>|<span data-ttu-id="60c99-131">*assembly* から公開キーを抽出し、*outfile* に格納します。</span><span class="sxs-lookup"><span data-stu-id="60c99-131">Extracts the public key from *assembly* and stores it in *outfile.*</span></span>|  
|<span data-ttu-id="60c99-132">**-h**</span><span class="sxs-lookup"><span data-stu-id="60c99-132">**-h**</span></span>|<span data-ttu-id="60c99-133">このツールのコマンド構文とオプションを表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-133">Displays command syntax and options for the tool.</span></span>|  
|<span data-ttu-id="60c99-134">**-i** *infile container*</span><span class="sxs-lookup"><span data-stu-id="60c99-134">**-i** *infile container*</span></span>|<span data-ttu-id="60c99-135">指定したキー コンテナーに、*infile* に含まれるキー ペアをインストールします。</span><span class="sxs-lookup"><span data-stu-id="60c99-135">Installs the key pair from *infile* in the specified key container.</span></span> <span data-ttu-id="60c99-136">キー コンテナーは厳密な名前 CSP 内に常駐します。</span><span class="sxs-lookup"><span data-stu-id="60c99-136">The key container resides in the strong name CSP.</span></span>|  
|<span data-ttu-id="60c99-137">**-k** [*keysize*] *outfile*</span><span class="sxs-lookup"><span data-stu-id="60c99-137">**-k** [*keysize*] *outfile*</span></span>|<span data-ttu-id="60c99-138">指定したサイズの新しい <xref:System.Security.Cryptography.RSACryptoServiceProvider> キーを生成し、指定したファイルに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="60c99-138">Generates a new <xref:System.Security.Cryptography.RSACryptoServiceProvider> key of the specified size and writes it to the specified file.</span></span>  <span data-ttu-id="60c99-139">公開キーと秘密キーの両方がファイルに書き込みまれます。</span><span class="sxs-lookup"><span data-stu-id="60c99-139">Both a public and private key are written to the file.</span></span><br /><br /> <span data-ttu-id="60c99-140">キーのサイズを指定しない場合、Microsoft Enhanced Cryptographic Provider をインストールしている場合は既定で 1,024 ビットのキーが生成され、インストールしていない場合は既定で 512 ビットのキーが生成されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-140">If you do not specify a key size, a 1,024-bit key is generated by default if you have the Microsoft enhanced cryptographic provider installed; otherwise, a 512-bit key is generated.</span></span><br /><br /> <span data-ttu-id="60c99-141">Microsoft Enhanced Cryptographic Provider をインストールしている場合、*keysize* パラメーターは、8 ビット間隔で 384 ビットから 16,384 ビットまでの長さのキーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="60c99-141">The *keysize* parameter supports key lengths from 384 bits to 16,384 bits in increments of 8 bits if you have the Microsoft enhanced cryptographic provider installed.</span></span>  <span data-ttu-id="60c99-142">Microsoft Enhanced Cryptographic Provider をインストールしていない場合は、8 ビット間隔で 384 ビットから 512 ビットまでの長さのキーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="60c99-142">It supports key lengths from 384 bits to 512 bits in increments of 8 bits if you have the Microsoft base cryptographic provider installed.</span></span>|  
|<span data-ttu-id="60c99-143">**-m** [**y** *&#124;* **n**]</span><span class="sxs-lookup"><span data-stu-id="60c99-143">**-m** [**y** *&#124;* **n**]</span></span>|<span data-ttu-id="60c99-144">キー コンテナーがコンピューターに固有であるか、ユーザーに固有であるかを指定します。</span><span class="sxs-lookup"><span data-stu-id="60c99-144">Specifies whether key containers are computer-specific, or user-specific.</span></span> <span data-ttu-id="60c99-145">*y* を指定した場合、キー コンテナーはコンピューターに固有です。</span><span class="sxs-lookup"><span data-stu-id="60c99-145">If you specify *y*, key containers are computer-specific.</span></span> <span data-ttu-id="60c99-146">*n* を指定した場合、キー コンテナーはユーザーに固有です。</span><span class="sxs-lookup"><span data-stu-id="60c99-146">If you specify *n*, key containers are user-specific.</span></span><br /><br /> <span data-ttu-id="60c99-147">y も n も指定しない場合は、現在の設定が表示されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-147">If neither y nor n is specified, this option displays the current setting.</span></span>|  
|<span data-ttu-id="60c99-148">**-o**  *infile* [*outfile*]</span><span class="sxs-lookup"><span data-stu-id="60c99-148">**-o**  *infile* [*outfile*]</span></span>|<span data-ttu-id="60c99-149">*infile* から公開キーを抽出し、.csv ファイルに格納します。</span><span class="sxs-lookup"><span data-stu-id="60c99-149">Extracts the public key from the *infile* and stores it in a .csv file.</span></span> <span data-ttu-id="60c99-150">公開キーの各バイトはコンマで区切られます。</span><span class="sxs-lookup"><span data-stu-id="60c99-150">A comma separates each byte of the public key.</span></span> <span data-ttu-id="60c99-151">この形式は、ソース コード内で、キーへの参照を初期化済みの配列としてハードコーディングする場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="60c99-151">This format is useful for hard-coding references to keys as initialized arrays in source code.</span></span> <span data-ttu-id="60c99-152">*outfile* を指定しない場合、出力はクリップボードに保存されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-152">If you do not specify an *outfile*, this option places the output on the Clipboard.</span></span> <span data-ttu-id="60c99-153">**注:** このオプションでは、入力が公開キーのみであるかどうかの検証は行われません。</span><span class="sxs-lookup"><span data-stu-id="60c99-153">**Note:**  This option does not verify that the input is only a public key.</span></span> <span data-ttu-id="60c99-154">`infile` に秘密キーとのキー ペアが格納されていた場合、秘密キーも抽出されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-154">If the `infile` contains a key pair with a private key, the private key is also extracted.</span></span>|  
|<span data-ttu-id="60c99-155">**-p** *infile outfile* [*hashalg*]</span><span class="sxs-lookup"><span data-stu-id="60c99-155">**-p** *infile outfile* [*hashalg*]</span></span>|<span data-ttu-id="60c99-156">*infile* 内のキー ペアから公開キーを抽出し、その公開キーを *outfile* に格納します。オプションで *hashalg* で指定された RSA アルゴリズムを使用します。</span><span class="sxs-lookup"><span data-stu-id="60c99-156">Extracts the public key from the key pair in *infile* and stores it in *outfile*, optionally using the RSA algorithm specified by *hashalg*.</span></span> <span data-ttu-id="60c99-157">この公開キーは、[アセンブリ リンカー (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) の **/delaysign+** オプションと **/keyfile** オプションを使用して、アセンブリへの署名を遅らせるときに使用できます。</span><span class="sxs-lookup"><span data-stu-id="60c99-157">This public key can be used to delay-sign an assembly using the **/delaysign+** and **/keyfile** options of the [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="60c99-158">アセンブリの署名を遅らせた場合、コンパイル時には公開キーだけが設定され、後で秘密キーが判明したときに追加される署名用にファイル内の領域が予約されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-158">When an assembly is delay-signed, only the public key is set at compile time and space is reserved in the file for the signature to be added later, when the private key is known.</span></span>|  
|<span data-ttu-id="60c99-159">**-pc**  *container* *outfile* [*hashalg*]</span><span class="sxs-lookup"><span data-stu-id="60c99-159">**-pc**  *container* *outfile* [*hashalg*]</span></span>|<span data-ttu-id="60c99-160">*container* 内のキー ペアから公開キーを抽出し、*outfile* に格納します。</span><span class="sxs-lookup"><span data-stu-id="60c99-160">Extracts the public key from the key pair in *container* and stores it in *outfile*.</span></span> <span data-ttu-id="60c99-161">*hashalg* オプションを使用する場合、RSA アルゴリズムにより公開キーが抽出されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-161">If you use the *hashalg* option, the RSA algorithm is used to extract the public key.</span></span>|  
|<span data-ttu-id="60c99-162">**-Pb** [**y** *&#124;* **n**]</span><span class="sxs-lookup"><span data-stu-id="60c99-162">**-Pb** [**y** *&#124;* **n**]</span></span>|<span data-ttu-id="60c99-163">厳密な名前を省略するポリシーが強制されるかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="60c99-163">Specifies whether the strong-name bypass policy is enforced.</span></span> <span data-ttu-id="60c99-164">*y* を指定すると、完全に信頼されている <xref:System.AppDomain> に完全信頼アセンブリが読み込まれるとき、アセンブリの厳密な名前の検証は行われません。</span><span class="sxs-lookup"><span data-stu-id="60c99-164">If you specify *y*, strong names for full-trust assemblies are not validated when loaded into a full-trust <xref:System.AppDomain>.</span></span> <span data-ttu-id="60c99-165">*n* を指定した場合は、厳密な名前が正しいかどうかのみ検証されますが、特定の厳密な名前については確認されません。</span><span class="sxs-lookup"><span data-stu-id="60c99-165">If you specify *n*, strong names are validated for correctness, but not for a specific strong name.</span></span> <span data-ttu-id="60c99-166"><xref:System.Security.Permissions.StrongNameIdentityPermission> は、完全に信頼されているアセンブリには効果がありません。</span><span class="sxs-lookup"><span data-stu-id="60c99-166">The <xref:System.Security.Permissions.StrongNameIdentityPermission> has no effect on full-trust assemblies.</span></span> <span data-ttu-id="60c99-167">厳密な名前の一致については、独自のチェックを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="60c99-167">You must perform your own check for a strong name match.</span></span><br /><br /> <span data-ttu-id="60c99-168">`y` も `n` も指定しない場合は、現在の設定が表示されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-168">If neither `y` nor `n` is specified, this option displays the current setting.</span></span> <span data-ttu-id="60c99-169">既定値は、`y` です。</span><span class="sxs-lookup"><span data-stu-id="60c99-169">The default is `y`.</span></span> <span data-ttu-id="60c99-170">**注:** 64 ビット コンピューターでは、Sn.exe の 32 ビットのインスタンスと 64 ビットのインスタンスの両方にこのパラメーターを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="60c99-170">**Note:**  On 64-bit computers, you must set this parameter in both the 32-bit and the 64-bit instances of Sn.exe.</span></span>|  
|<span data-ttu-id="60c99-171">**-q** **[uiet]**</span><span class="sxs-lookup"><span data-stu-id="60c99-171">**-q**[**uiet**]</span></span>|<span data-ttu-id="60c99-172">クワイエット モードを指定します。このモードでは、成功メッセージは表示されません。</span><span class="sxs-lookup"><span data-stu-id="60c99-172">Specifies quiet mode; suppresses the display of success messages.</span></span>|  
|<span data-ttu-id="60c99-173">**-R** **[a]** *assembly* *infile*</span><span class="sxs-lookup"><span data-stu-id="60c99-173">**-R**[**a**] *assembly* *infile*</span></span>|<span data-ttu-id="60c99-174">以前に署名したアセンブリ、または署名を遅らせたアセンブリに、*infile* 内のキー ペアを使用して再署名します。</span><span class="sxs-lookup"><span data-stu-id="60c99-174">Re-signs a previously signed or delay-signed assembly with the key pair in *infile*.</span></span><br /><br /> <span data-ttu-id="60c99-175">**-Ra** を使用すると、アセンブリ内のすべてのファイルについてハッシュが再計算されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-175">If **-Ra** is used, hashes are recomputed for all files in the assembly.</span></span>|  
|<span data-ttu-id="60c99-176">**-Rc** **[a]** *assembly container*</span><span class="sxs-lookup"><span data-stu-id="60c99-176">**-Rc**[**a**] *assembly container*</span></span>|<span data-ttu-id="60c99-177">以前に署名したアセンブリ、または署名を遅らせたアセンブリに、*container* 内のキー ペアを使用して再署名します。</span><span class="sxs-lookup"><span data-stu-id="60c99-177">Re-signs a previously signed or delay-signed assembly with the key pair in *container*.</span></span><br /><br /> <span data-ttu-id="60c99-178">**-Rca** を使用すると、アセンブリ内のすべてのファイルについてハッシュが再計算されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-178">If **-Rca** is used, hashes are recomputed for all files in the assembly.</span></span>|  
|<span data-ttu-id="60c99-179">**-Rh** *assembly*</span><span class="sxs-lookup"><span data-stu-id="60c99-179">**-Rh** *assembly*</span></span>|<span data-ttu-id="60c99-180">アセンブリ内のすべてのファイルについてハッシュを再計算します。</span><span class="sxs-lookup"><span data-stu-id="60c99-180">Recomputes hashes for all files in the assembly.</span></span>|  
|<span data-ttu-id="60c99-181">**-t** **[p]** *infile*</span><span class="sxs-lookup"><span data-stu-id="60c99-181">**-t**[**p**] *infile*</span></span>|<span data-ttu-id="60c99-182">*infile* に格納されている公開キーに関するトークンを表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-182">Displays the token for the public key stored in *infile*.</span></span> <span data-ttu-id="60c99-183">*infile* には、以前に **-p** を使用してキー ペア ファイルから生成された公開キーが含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="60c99-183">The contents of *infile* must be a public key previously generated from a key pair file using **-p**.</span></span>  <span data-ttu-id="60c99-184">**-t[p]** オプションを使用して、トークンをキー ペア ファイルから直接抽出しないでください。</span><span class="sxs-lookup"><span data-stu-id="60c99-184">Do not use the **-t[p]** option to extract the token directly from a key pair file.</span></span><br /><br /> <span data-ttu-id="60c99-185">トークンは、ハッシュ関数によって公開キーから算出されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-185">Sn.exe computes the token by using a hash function from the public key.</span></span> <span data-ttu-id="60c99-186">領域を節約するために、共通言語ランタイムは厳密な名前を持つアセンブリへの依存度を記録するときに、別のアセンブリへ参照の一部として公開キー トークンをマニフェスト内に格納します。</span><span class="sxs-lookup"><span data-stu-id="60c99-186">To save space, the common language runtime stores public key tokens in the manifest as part of a reference to another assembly when it records a dependency to an assembly that has a strong name.</span></span> <span data-ttu-id="60c99-187">**-tp** オプションを指定すると、トークンの他に公開キーも表示されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-187">The **-tp** option displays the public key in addition to the token.</span></span> <span data-ttu-id="60c99-188"><xref:System.Reflection.AssemblySignatureKeyAttribute> 属性がアセンブリに適用されている場合、トークンは ID キー用であり、ハッシュ アルゴリズムの名前と ID キーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-188">If the <xref:System.Reflection.AssemblySignatureKeyAttribute> attribute has been applied to the assembly, the token is for the identity key, and the name of the hash algorithm and the identity key is displayed.</span></span><br /><br /> <span data-ttu-id="60c99-189">このオプションはアセンブリ署名を検証しないため、信頼の決定には使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="60c99-189">Note that this option does not verify the assembly signature and should not be used to make trust decisions.</span></span>  <span data-ttu-id="60c99-190">このオプションは、生の公開キー トークン データのみを表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-190">This option only displays the raw public key token data.</span></span>|  
|<span data-ttu-id="60c99-191">**-T** **[p]** *assembly*</span><span class="sxs-lookup"><span data-stu-id="60c99-191">**-T**[**p**] *assembly*</span></span>|<span data-ttu-id="60c99-192">*assembly* に関する公開キー トークンを表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-192">Displays the public key token for *assembly.*</span></span> <span data-ttu-id="60c99-193">*assembly* には、アセンブリ マニフェストを含むファイルの名前を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="60c99-193">The *assembly* must be the name of a file that contains an assembly manifest.</span></span><br /><br /> <span data-ttu-id="60c99-194">トークンは、ハッシュ関数によって公開キーから算出されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-194">Sn.exe computes the token by using a hash function from the public key.</span></span> <span data-ttu-id="60c99-195">領域を節約するために、共通言語ランタイムは厳密な名前を持つアセンブリへの依存度を記録するときに、別のアセンブリへ参照の一部として公開キー トークンをマニフェスト内に格納します。</span><span class="sxs-lookup"><span data-stu-id="60c99-195">To save space, the runtime stores public key tokens in the manifest as part of a reference to another assembly when it records a dependency to an assembly that has a strong name.</span></span> <span data-ttu-id="60c99-196">**-Tp** オプションを指定すると、トークンの他に公開キーも表示されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-196">The **-Tp** option displays the public key in addition to the token.</span></span> <span data-ttu-id="60c99-197"><xref:System.Reflection.AssemblySignatureKeyAttribute> 属性がアセンブリに適用されている場合、トークンは ID キー用であり、ハッシュ アルゴリズムの名前と ID キーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-197">If the <xref:System.Reflection.AssemblySignatureKeyAttribute> attribute has been applied to the assembly, the token is for the identity key, and the name of the hash algorithm and the identity key is displayed.</span></span><br /><br /> <span data-ttu-id="60c99-198">このオプションはアセンブリ署名を検証しないため、信頼の決定には使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="60c99-198">Note that this option does not verify the assembly signature and should not be used to make trust decisions.</span></span>  <span data-ttu-id="60c99-199">このオプションは、生の公開キー トークン データのみを表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-199">This option only displays the raw public key token data.</span></span>|  
|<span data-ttu-id="60c99-200">`-TS` `assembly` `infile`</span><span class="sxs-lookup"><span data-stu-id="60c99-200">`-TS` `assembly` `infile`</span></span>|<span data-ttu-id="60c99-201">`assembly` のキー ペアを使用して、`infile` に署名または部分署名されている署名を検査します。</span><span class="sxs-lookup"><span data-stu-id="60c99-201">Test-signs the signed or partially signed `assembly` with the key pair in `infile`.</span></span>|  
|<span data-ttu-id="60c99-202">-`TSc` `assembly` `container`</span><span class="sxs-lookup"><span data-stu-id="60c99-202">-`TSc` `assembly` `container`</span></span>|<span data-ttu-id="60c99-203">キー コンテナー `assembly` のキー ペアを使用して、`container` に署名または部分署名されている署名を検査します。</span><span class="sxs-lookup"><span data-stu-id="60c99-203">Test-signs the signed or partially signed `assembly` with the key pair in the key container `container`.</span></span>|  
|<span data-ttu-id="60c99-204">**-v** *assembly*</span><span class="sxs-lookup"><span data-stu-id="60c99-204">**-v** *assembly*</span></span>|<span data-ttu-id="60c99-205">*assembly* 内の厳密な名前を検査します。ここで、*assembly* はアセンブリ マニフェストを含むファイルの名前です。</span><span class="sxs-lookup"><span data-stu-id="60c99-205">Verifies the strong name in *assembly*, where *assembly* is the name of a file that contains an assembly manifest.</span></span>|  
|<span data-ttu-id="60c99-206">**-vf**  *assembly*</span><span class="sxs-lookup"><span data-stu-id="60c99-206">**-vf**  *assembly*</span></span>|<span data-ttu-id="60c99-207">*assembly* 内の厳密な名前を検査します。</span><span class="sxs-lookup"><span data-stu-id="60c99-207">Verifies the strong name in *assembly.*</span></span> <span data-ttu-id="60c99-208">**-v** オプションとは異なり、**-vf** では **-Vr** オプションで無効化した場合であっても、検査を強制的に実行します。</span><span class="sxs-lookup"><span data-stu-id="60c99-208">Unlike the **-v** option, **-vf** forces verification even if it is disabled using the **-Vr** option.</span></span>|  
|<span data-ttu-id="60c99-209">**-Vk**  *regfile.reg* *assembly* [*userlist*] [*infile*]</span><span class="sxs-lookup"><span data-stu-id="60c99-209">**-Vk**  *regfile.reg* *assembly* [*userlist*] [*infile*]</span></span>|<span data-ttu-id="60c99-210">指定したアセンブリを登録して検証をスキップするために使用できる登録エントリ (.reg) ファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="60c99-210">Creates a registration entries (.reg) file you can use to register the specified assembly for verification skipping.</span></span> <span data-ttu-id="60c99-211">**-Vr** オプションに適用されるアセンブリ名前付け規則が **-Vk** オプションにも適用されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-211">The rules for assembly naming that apply to the **-Vr** option apply to **–Vk** as well.</span></span> <span data-ttu-id="60c99-212">*userlist* オプションと *infile* オプションについては、**-Vr** オプションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="60c99-212">For information about the *userlist* and *infile* options, see the **–Vr** option.</span></span>|  
|<span data-ttu-id="60c99-213">**-Vl**</span><span class="sxs-lookup"><span data-stu-id="60c99-213">**-Vl**</span></span>|<span data-ttu-id="60c99-214">コンピューター上の厳密な名前検査に関する、現在の設定を一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-214">Lists current settings for strong-name verification on this computer.</span></span>|  
|<span data-ttu-id="60c99-215">**-Vr**  *assembly* [*userlist*] [*infile*]</span><span class="sxs-lookup"><span data-stu-id="60c99-215">**-Vr**  *assembly* [*userlist*] [*infile*]</span></span>|<span data-ttu-id="60c99-216">検査をスキップする *assembly* を登録します。</span><span class="sxs-lookup"><span data-stu-id="60c99-216">Registers *assembly* for verification skipping.</span></span> <span data-ttu-id="60c99-217">必要に応じて、検証の省略を適用する必要があるコンマで区切られたユーザー名のリストを指定できます。</span><span class="sxs-lookup"><span data-stu-id="60c99-217">Optionally, you can specify a comma-separated list of user names the skip verification should apply to.</span></span> <span data-ttu-id="60c99-218">*infile* を指定した場合、検査は実行されますが、検査時には *infile* 内の公開キーが使用されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-218">If you specify *infile*, verification remains enabled, but the public key in *infile* is used in verification operations.</span></span> <span data-ttu-id="60c99-219">指定した厳密な名前を持つアセンブリをすべて登録するには、*\*, strongname* という形式で *assembly* を指定します。</span><span class="sxs-lookup"><span data-stu-id="60c99-219">You can specify *assembly* in the form *\*, strongname* to register all assemblies with the specified strong name.</span></span> <span data-ttu-id="60c99-220">*strongname* は、トークン化した形式の公開キーを表す 16 進形式の文字列として指定します。</span><span class="sxs-lookup"><span data-stu-id="60c99-220">For *strongname*, specify the string of hexadecimal digits representing the tokenized form of the public key.</span></span> <span data-ttu-id="60c99-221">公開キー トークンの表示については、**-t** オプションと **-T** オプションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="60c99-221">See the **-t** and **-T** options to display the public key token.</span></span> <span data-ttu-id="60c99-222">**注意:** このオプションは開発時だけ使用します。</span><span class="sxs-lookup"><span data-stu-id="60c99-222">**Caution:**  Use this option only during development.</span></span> <span data-ttu-id="60c99-223">検証省略リストにアセンブリを追加すると、セキュリティ上の脆弱性が生じます。</span><span class="sxs-lookup"><span data-stu-id="60c99-223">Adding an assembly to the skip verification list creates a security vulnerability.</span></span> <span data-ttu-id="60c99-224">悪意のあるアセンブリは、検証省略リストに追加されたアセンブリの完全限定アセンブリ名 (アセンブリ名、バージョン、カルチャ、および公開キー トークン) を使用することによって、その ID を偽装できます。</span><span class="sxs-lookup"><span data-stu-id="60c99-224">A malicious assembly could use the fully specified assembly name (assembly name, version, culture, and public key token) of the assembly added to the skip verification list to fake its identity.</span></span> <span data-ttu-id="60c99-225">これによって、悪意のあるアセンブリの検証も省略できます。</span><span class="sxs-lookup"><span data-stu-id="60c99-225">This would allow the malicious assembly to also skip verification.</span></span>|  
|||  
|<span data-ttu-id="60c99-226">**-Vu**  *assembly*</span><span class="sxs-lookup"><span data-stu-id="60c99-226">**-Vu**  *assembly*</span></span>|<span data-ttu-id="60c99-227">検査をスキップする *assembly* の登録を解除します。</span><span class="sxs-lookup"><span data-stu-id="60c99-227">Unregisters *assembly* for verification skipping.</span></span> <span data-ttu-id="60c99-228">**-Vr** オプションに適用される規則と同じアセンブリ名前付け規則が **-Vu** オプションにも適用されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-228">The same rules for assembly naming that apply to **-Vr** apply to **-Vu**.</span></span>|  
|<span data-ttu-id="60c99-229">**-Vx**</span><span class="sxs-lookup"><span data-stu-id="60c99-229">**-Vx**</span></span>|<span data-ttu-id="60c99-230">検査をスキップするエントリをすべて削除します。</span><span class="sxs-lookup"><span data-stu-id="60c99-230">Removes all verification-skipping entries.</span></span>|  
|<span data-ttu-id="60c99-231">**-?**</span><span class="sxs-lookup"><span data-stu-id="60c99-231">**-?**</span></span>|<span data-ttu-id="60c99-232">このツールのコマンド構文とオプションを表示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-232">Displays command syntax and options for the tool.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="60c99-233">Sn.exe の全オプションでは大文字と小文字が区別されます。また、オプションが正しく認識されるためには、表記されたとおりに正確に入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="60c99-233">All Sn.exe options are case-sensitive and must be typed exactly as shown to be recognized by the tool.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="60c99-234">コメント</span><span class="sxs-lookup"><span data-stu-id="60c99-234">Remarks</span></span>  
 <span data-ttu-id="60c99-235">**-R** オプションと **-Rc** オプションは、署名を遅らせたアセンブリを処理する場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="60c99-235">The **-R** and **–Rc** options are useful with assemblies that have been delay-signed.</span></span> <span data-ttu-id="60c99-236">その場合、コンパイル時には公開キーだけが設定され、後で秘密キーが判明したときに署名が実行されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-236">In this scenario, only the public key has been set at compile time and signing is performed later, when the private key is known.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="60c99-237">レジストリなどの保護されたリソースに書き込むパラメーター (例: -**Vr)** の場合は、管理者として SN.exe を実行してください。</span><span class="sxs-lookup"><span data-stu-id="60c99-237">For parameters (for example, –**Vr)** that write to protected resources such as the registry, run SN.exe as an administrator.</span></span>  
  
<span data-ttu-id="60c99-238">厳密な名前ツールでは、公開キーと秘密キーの組が `AT_SIGNATURE` アルゴリズム識別子を使用して生成されると想定されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-238">The Strong Name tool assumes that public/private key pairs are generated with the `AT_SIGNATURE` algorithm identifier.</span></span> <span data-ttu-id="60c99-239">`AT_KEYEXCHANGE` アルゴリズムを使用して生成された公開キー/秘密キーのペアでは、エラーが生成されます。</span><span class="sxs-lookup"><span data-stu-id="60c99-239">Public/private key pairs generated with the `AT_KEYEXCHANGE` algorithm generate an error.</span></span> 

## <a name="examples"></a><span data-ttu-id="60c99-240">使用例</span><span class="sxs-lookup"><span data-stu-id="60c99-240">Examples</span></span>  
 <span data-ttu-id="60c99-241">新しいランダム キー ペアを作成し、`keyPair.snk` に格納するコマンドを次に示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-241">The following command creates a new, random key pair and stores it in `keyPair.snk`.</span></span>  
  
```  
sn -k keyPair.snk  
```  
  
 <span data-ttu-id="60c99-242">厳密な名前 CSP 内のコンテナー `keyPair.snk` 内の `MyContainer` にキーを格納するコマンドを次に示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-242">The following command stores the key in `keyPair.snk` in the container `MyContainer` in the strong name CSP.</span></span>  
  
```  
sn -i keyPair.snk MyContainer  
```  
  
 <span data-ttu-id="60c99-243">`keyPair.snk` から公開キーを抽出し、`publicKey.snk` に格納するコマンドを次に示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-243">The following command extracts the public key from `keyPair.snk` and stores it in `publicKey.snk`.</span></span>  
  
```  
sn -p keyPair.snk publicKey.snk  
```  
  
 <span data-ttu-id="60c99-244">公開キーおよび `publicKey.snk` に含まれている公開キーのトークンを表示するコマンドを次に示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-244">The following command displays the public key and the token for the public key contained in `publicKey.snk`.</span></span>  
  
```  
sn -tp publicKey.snk  
```  
  
 <span data-ttu-id="60c99-245">アセンブリ `MyAsm.dll` を検査するコマンドを次に示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-245">The following command verifies the assembly `MyAsm.dll`.</span></span>  
  
```  
sn -v MyAsm.dll  
```  
  
 <span data-ttu-id="60c99-246">既定の CSP から `MyContainer` を削除するコマンドを次に示します。</span><span class="sxs-lookup"><span data-stu-id="60c99-246">The following command deletes `MyContainer` from the default CSP.</span></span>  
  
```  
sn -d MyContainer  
```  
  
## <a name="see-also"></a><span data-ttu-id="60c99-247">関連項目</span><span class="sxs-lookup"><span data-stu-id="60c99-247">See also</span></span>
- [<span data-ttu-id="60c99-248">ツール</span><span class="sxs-lookup"><span data-stu-id="60c99-248">Tools</span></span>](../../../docs/framework/tools/index.md)
- [<span data-ttu-id="60c99-249">Al.exe (アセンブリ リンカー)</span><span class="sxs-lookup"><span data-stu-id="60c99-249">Al.exe (Assembly Linker)</span></span>](../../../docs/framework/tools/al-exe-assembly-linker.md)
- [<span data-ttu-id="60c99-250">厳密な名前付きアセンブリ</span><span class="sxs-lookup"><span data-stu-id="60c99-250">Strong-Named Assemblies</span></span>](../../../docs/framework/app-domains/strong-named-assemblies.md)
- [<span data-ttu-id="60c99-251">Visual Studio 用開発者コマンド プロンプト</span><span class="sxs-lookup"><span data-stu-id="60c99-251">Command Prompts</span></span>](../../../docs/framework/tools/developer-command-prompt-for-vs.md)
