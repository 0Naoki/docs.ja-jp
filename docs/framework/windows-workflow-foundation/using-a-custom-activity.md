---
title: カスタム アクティビティの使用
ms.date: 03/30/2017
ms.assetid: 8f356419-681a-4175-ae93-878eee970249
ms.openlocfilehash: 47ddd42168445aa23eaaded6fd19ffe4698e4117
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/09/2019
ms.locfileid: "59309616"
---
# <a name="using-a-custom-activity"></a><span data-ttu-id="a532d-102">カスタム アクティビティの使用</span><span class="sxs-lookup"><span data-stu-id="a532d-102">Using a custom activity</span></span>
<span data-ttu-id="a532d-103"><xref:System.Activities.Activity> またはそのサブクラスから派生するアクティビティは、結合してより大規模なワークフローにしたり、コードで直接作成したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="a532d-103">Activities that derive from <xref:System.Activities.Activity> or its subclasses can be composed into larger workflows, or created directly in code.</span></span> <span data-ttu-id="a532d-104">このトピックでは、コードまたはデザイナーで作成したワークフロー内でカスタム アクティビティを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a532d-104">This topic describes how to use custom activities in workflows created either in code or in the designer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a532d-105">カスタム アクティビティとそれを使用するアクティビティの両方のコンパイル (つまり、ビルド プロセスによって生成されたインスタンス化する型によって読み込み) であれば、それは、定義されている同じプロジェクトでカスタム アクティビティを使用できますが、参照元のアクティビティを読み込む場合動的に別のプロジェクトで参照アセンブリを配置する必要があります、またはデザイナーで生成された XAML を手作業で編集を有効にする必要があります (例: ActivityXAMLServices 使用)。</span><span class="sxs-lookup"><span data-stu-id="a532d-105">Custom activities can be used in the same project in which they are defined, as long as both the custom activity and the activity that uses it are compiled (i.e. loaded by an instantiating type generated by the build process) If the referencing activity is loaded dynamically (e.g. using ActivityXAMLServices), then the referenced assembly should be placed in a different project, or the designer-generated XAML needs to be hand-edited to enable this.</span></span>  
  
#### <a name="using-a-custom-activity-to-a-workflow-project"></a><span data-ttu-id="a532d-106">ワークフロー プロジェクトへのカスタム アクティビティの使用</span><span class="sxs-lookup"><span data-stu-id="a532d-106">Using a custom activity to a workflow project</span></span>  
  
1. <span data-ttu-id="a532d-107">ホスト プロジェクトから、カスタム アクティビティを含むアクティビティ ライブラリ プロジェクトへの参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="a532d-107">Add a reference from the host project to the activity library project containing the custom activity.</span></span>  
  
2. <span data-ttu-id="a532d-108">ソリューションをビルドします。</span><span class="sxs-lookup"><span data-stu-id="a532d-108">Build the solution.</span></span>  
  
3. <span data-ttu-id="a532d-109">デザイナーでカスタム アクティビティを使用するには、ツールボックスでカスタム アクティビティを探して、そのアクティビティをデザイナー画面にドラッグします。</span><span class="sxs-lookup"><span data-stu-id="a532d-109">To use the custom activity in the designer, locate the custom activity in the toolbox, and drag the activity onto the designer surface.</span></span>  
  
4. <span data-ttu-id="a532d-110">コード内でカスタム アクティビティを使用するには、カスタム アクティビティ プロジェクトを参照する Using ステートメントを追加し、そのアクティビティの新しいインスタンスを <xref:System.Activities.WorkflowInvoker.Invoke%2A> に渡します。</span><span class="sxs-lookup"><span data-stu-id="a532d-110">To use the custom activity in code, add a Using statement that refers to the custom activity project, and pass a new instance of the activity to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span>
