---
title: "カスタム アクティビティの使用"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8f356419-681a-4175-ae93-878eee970249
caps.latest.revision: "2"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: e534f9a3e8d0a7d675e43bc03266e4863f95d45d
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/18/2017
---
# <a name="using-a-custom-activity"></a><span data-ttu-id="10951-102">カスタム アクティビティの使用</span><span class="sxs-lookup"><span data-stu-id="10951-102">Using a custom activity</span></span>
<span data-ttu-id="10951-103"><xref:System.Activities.Activity> またはそのサブクラスから派生するアクティビティは、結合してより大規模なワークフローにしたり、コードで直接作成したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="10951-103">Activities that derive from <xref:System.Activities.Activity> or its subclasses can be composed into larger workflows, or created directly in code.</span></span> <span data-ttu-id="10951-104">このトピックでは、コードまたはデザイナーで作成したワークフロー内でカスタム アクティビティを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="10951-104">This topic describes how to use custom activities in workflows created either in code or in the designer.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="10951-105">カスタム アクティビティとそれを使用するアクティビティの両方のコンパイル (ビルド処理によって生成された、インスタンス化する型では読み込まなど) 限り、それらが定義されている、同じプロジェクトでカスタム アクティビティを使用できます、参照元のアクティビティが読み込まれている場合動的に別のプロジェクトに参照アセンブリを配置する必要がありますし (例: ActivityXAMLServices の使用など)、またはデザイナーで生成される XAML を手作業で編集を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="10951-105">Custom activities can be used in the same project in which they are defined, as long as both the custom activity and the activity that uses it are compiled (i.e. loaded by an instantiating type generated by the build process) If the referencing activity is loaded dynamically (e.g. using ActivityXAMLServices), then the referenced assembly should be placed in a different project, or the designer-generated XAML needs to be hand-edited to enable this.</span></span>  
  
#### <a name="using-a-custom-activity-to-a-workflow-project"></a><span data-ttu-id="10951-106">ワークフロー プロジェクトへのカスタム アクティビティの使用</span><span class="sxs-lookup"><span data-stu-id="10951-106">Using a custom activity to a workflow project</span></span>  
  
1.  <span data-ttu-id="10951-107">ホスト プロジェクトから、カスタム アクティビティを含むアクティビティ ライブラリ プロジェクトへの参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="10951-107">Add a reference from the host project to the activity library project containing the custom activity.</span></span>  
  
2.  <span data-ttu-id="10951-108">ソリューションをビルドします。</span><span class="sxs-lookup"><span data-stu-id="10951-108">Build the solution.</span></span>  
  
3.  <span data-ttu-id="10951-109">デザイナーでカスタム アクティビティを使用するには、ツールボックスでカスタム アクティビティを探して、そのアクティビティをデザイナー画面にドラッグします。</span><span class="sxs-lookup"><span data-stu-id="10951-109">To use the custom activity in the designer, locate the custom activity in the toolbox, and drag the activity onto the designer surface.</span></span>  
  
4.  <span data-ttu-id="10951-110">コード内でカスタム アクティビティを使用するには、カスタム アクティビティ プロジェクトを参照する Using ステートメントを追加し、そのアクティビティの新しいインスタンスを <xref:System.Activities.WorkflowInvoker.Invoke%2A> に渡します。</span><span class="sxs-lookup"><span data-stu-id="10951-110">To use the custom activity in code, add a Using statement that refers to the custom activity project, and pass a new instance of the activity to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span>
