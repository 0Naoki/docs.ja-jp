---
title: "ピア名の公開と解決 | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: f0370e08-9fa6-4ee5-ab78-9a58a20a7da2
caps.latest.revision: 5
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 5
---
# ピア名の公開と解決
## ピアの名前を公開します  
 に新しい PNRP ID を公開するには、ピアは以下を実行します:  
  
-   キャッシュの下位レベルの PNRP ID を登録したキャッシュの隣人 \(ピア\) に PNRP 書のメッセージをキャッシュの播くために送信されます。  
  
-   隣人ではない選択し、それらに独自の P2P ID の名前 PNRP の決済の要求を送信しますクラウドのノードをオプション  結果のエンドポイントを決定するプロセスは未処理の PNRP ピアの ID クラウドのノードのキャッシュ オプションを播きます。  
  
 PNRP のバージョン 2 ノードは、他の P2P ID だけを決済する PNRP ID を公開されません。  ピアの名前に対してのみ決済 PNRP を使用することをソフトウェア HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\PeerNet\\PNRP\\IPV6\-Global\\SearchOnly\=1 レジストリの値 \(REG\_DWORD 型\) が書の場合、名前は指定されません。  この値は、レジストリのグループ ポリシーによってコンフィギュレーションできます。  
  
## ピアの名前の決済  
 PNRP のネットワークまたはクラウドの他のピアを検索するには 2 のフェーズで構成されるプロセスです:  
  
1.  エンドポイントの決定  
  
2.  PNRP ID の決済  
  
 エンドポイントの決定フェーズで、決済しようとしているピアは別のコンピュータ上のサービスの PNRP ID、そのピアの IPv6 の住所が決まります。  ピアは、公開した場合は、コンピュータの PNRP ID またはサービス関連付けられます 1 Z。  
  
 リモート エンドポイントが PNRP のクラウドに登録されたことを確認した後で、PNRP ID の決済のフェーズのピアが必要なサービスの PNRP ID にそのピアのエンドポイントに要求を送信します。  エンドポイントが需要ピアで計画の通信に使用できる他の情報のサービス、コメント、4 個の KB の PNRP ID を確認する返信を送信します。  たとえば、目的のエンドポイントが賭博サーバーの場合、追加のピアの名前のレコードのデータはゲームに関する情報、演劇のレベル、およびプレーヤーごと\) を含めることができます。  
  
 エンドポイントの決定フェーズで、PNRP は、決済を実行するノードがターゲットの PNRP ID に直近の引き続いてあるノードに連絡する責任を負う PNRP ID を公開するノードを検索するための反復するプロセスを使用します  
  
 に PNRP 名前で決済を実行するには、ピア、ターゲットの PNRP ID と一致するエントリに関する独自のキャッシュのエントリを確認します  検索する場合は、ピア ピアに PNRP の要求メッセージを送信し、応答を待機しています。  PNRP ID のエントリがない場合、ピアは、とターゲットの PNRP ID に一致する PNRP ID を持つエントリに対応するピアに PNRP の要求メッセージを送信します  PNRP の要求メッセージを受信するノードは独自のキャッシュを確認し、次の手順に従います。:  
  
-   PNRP ID が含まれる場合、要求のピアに要求されたエンドポイントのピアの返信直接。  
  
-   PNRP ID がない場合は、キャッシュ PNRP の ID がターゲットの PNRP ID に直近の場合、要求されたピアはようにターゲットの PNRP ID と一致していること PNRP ID を持つエントリを表すピアの IPv6 の住所を含む要求のピアへの応答を送信します  応答やキャッシュを調べる IPv6 の住所に対する応答の IP アドレスを使用して、要求のノードの送信別の PNRP の要求メッセージ。  
  
-   PNRP ID がなく、ターゲットの PNRP ID の日付にキャッシュに PNRP ID がない場合は、要求されたピアが需要ピアにこの要件を示す応答を送信します。  要求のピアは、最も近い次 PNRP ID を選択します。  
  
 要求のピアは、最終的 PNRP ID を登録したノードを探す連続する繰り返しで、このプロセスを続行します  
  
 <xref:System.Net.PeerToPeer> の名前空間の中で、通信エンドポイントと PNRP のクラウドまたはメッシュ含む <xref:System.Net.PeerToPeer.PeerName> 複数のレコード間関係に対して複数があります。  ピアの同じ名前で重複するエントリ古いか、または複数のノードがある場合、PNRP ノードは <xref:System.Net.PeerToPeer.PeerNameResolver> クラスを使用して、現在の情報を得ることができます。  <xref:System.Net.PeerToPeer.PeerNameResolver> 方法は、多くのクラウドに 1 種類のピア多くのピアの名前のレコードと同じ 1 のピアに分析視点を簡略化するために一つのピア名を使用します。  これは、関係テーブルの組み合わせを使用して実行されるクエリに似ています。  正常に完了すると、リゾルバーの指定はピア オブジェクト名の <xref:System.Net.PeerToPeer.PeerNameRecordCollection> を返します。  たとえば、ピアの名前はクラウドによって注文済の回収すべてのピアの名前のレコードに見られます。  これらは、サポート データが PNRP ベースのアプリケーションによって要求する場合があるピアの名前のインスタンスです。  
  
## 参照  
 <xref:System.Net.PeerToPeer>