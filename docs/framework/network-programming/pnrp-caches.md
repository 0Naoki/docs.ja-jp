---
title: "PNRP キャッシュ | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
caps.latest.revision: 4
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 4
---
# PNRP キャッシュ
ピア名決済 Protocol \(PNRP\) のキャッシュがピアで管理するアルゴリズムに選択したピアのエンドポイントの郷土があります。  
  
## PNRP のキャッシュの初期設定  
 ピア ノードの起動時に PNRP のキャッシュ、またはピアの名前のレコードのコレクションを初期化するには、ノードは次の方法を使用できます:  
  
-   ノードが締まったとしていた耐久性があるキャッシュのエントリはハード ディスク磁気ディスクでから読み込まれます。  
  
-   アプリケーションで P2P のコラボレーションの下部組織を使用すると、コラボレーションの情報は、そのノードの連絡先マネージャで使用できます。  
  
## 複数レベルの名前とキャッシュ ピアの決済を縮小増幅されます。  
 PNRP キャッシュのサイズを下回って維持するために、ピア ノードは各レベルがエントリの最大数を含む複数レベルのキャッシュを使用します。  キャッシュの各レベルは PNRP ID 番号を選択 \(2\) <sup>256</sup>の 10 分の 1 番の小さい区分を表します。  この番号値上の近くにあるキャッシュの下位レベルはローカルに登録された PNRP ID、および他の PNRP ID が表示されます。  キャッシュのレベルが最大 20 のエントリと注文と、新しい下位レベルが作成されます。  キャッシュの最大レベル数はログ10 \(クラウドの PNRP ID の合計\) オーダーにあります。  たとえば、100， 000,000 PNRP ID のグローバルなクラウドについて、8 以上ではありません \=log10 \(\(100,000,000\)\) キャッシュ ホップの名前と決済時に PNRP ID を決済するような数のレベル。  このメカニズムはオプション PNRP ID が最も近いピア次に PNRP の要求メッセージを設定しますによって対応する CPA のピアが検索される解決できる配送されるハッシュ テーブルができます。  
  
 ノードは、キャッシュの最下位レベルにエントリを追加するたびに決済を完了できるようにするには、キャッシュの最後のレベル内のすべてのノードへの入力に転送にあふれます。  
  
 キャッシュのエントリはしだいに更新します。  キャッシュから古いのエントリをキャッシュします。  結果は、PNRP ID の配送されるハッシュ テーブルが有効なエンドポイントに基づくことです住所レコードと DNS プロトコルがアドレスに関連付けられているノードがネットワークに積極的にあるという保証を提供していない DNS とは異なり。  
  
## 他の PNRP のキャッシュ  
 別の耐久性があるデータの店舗はローカル キャッシュです。  PNRP 活動に必要なそのほかのオブジェクトに加えて、クラウドのすべてのメンバの間で必ず発行と同期 PNRP のクラウドまたはコラボレーション セッションに関連付けられているレコードが含まれる場合があります。  この重複した店舗は、すべてのグループ メンバに対して同じ必要があるグループのデータのビューを表します。  正確には、スケジュールされたこれらのオブジェクト、レコードはなく、ローカル キャッシュのアプリケーション プレゼンス、およびデータ オブジェクトです。  PNRP のクラウドの使用は、コラボレーションのセッションまたは PNRP のクラウドのすべてのノードへのオブジェクトががたようにします。  クラウドのメンバ間のレコードをレプリケーションは、データの整合性を提供するに SSL を使用します。  
  
 ピアがクラウドを入力すると、自動的にローカル キャッシュのデータを関連付けるホストのピア受け取りません; また、ホストのピア オブジェクトと、アプリケーションにプレゼンス データの更新を表示するに所属する必要があります。  初期同期後は、ピアは、定期的にすべてのグループ メンバに一貫して同じビューがあることを確認するために重複した店舗を再同期します。  コラボレーションのセッション内のコラボレーションのセッションまたはアプリケーションでは、同じ機能を実行することがあります。  
  
 コラボレーションのセッションがクラウドに入ると、アプリケーションはピアを登録し、セキュリティを使用してその情報がクラウドの範囲で定義した未処理を開始します。  ピアがクラウドを入力すると、クラウドのセキュリティ メカニズムは、に参加するよう範囲を与えるピアに適用されます。  そのレコードはクラウドの範囲内に必ず公開できます。  クラウドの範囲がコラボレーションのアプリケーション範囲とは異なるはない可能性があることに注意してください。  
  
 ピアそのほかのピアのオブジェクトの入荷利息を登録できます。  オブジェクトが更新されると、コラボレーションのアプリケーションは通知、新しいオブジェクトは、アプリケーションのすべてのサブスクライバーに渡されます。  たとえば、グループに関するチャットのアプリケーションのピアは、アプリケーション データとして、すべてのレコードに関するチャットを送信するアプリケーションの情報の入荷利息を登録できます。  これは、クラウド チャット内の活動を監視することができます。  
  
## 参照  
 <xref:System.Net.PeerToPeer>