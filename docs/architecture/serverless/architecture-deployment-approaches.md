---
title: アーキテクチャのデプロイ方法-サーバーレスアプリ
description: エンタープライズアーキテクチャがクラウドにデプロイされるさまざまな方法のガイド。 IaaS、PaaS、コンテナー、サーバーレスを比較しています。
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 4cc8442509fc8a0e2cc0eb797365423458e77684
ms.sourcegitcommit: 8a0fe8a2227af612f8b8941bdb8b19d6268748e7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/03/2019
ms.locfileid: "71834337"
---
# <a name="architecture-deployment-approaches"></a><span data-ttu-id="c198b-103">アーキテクチャのデプロイ方法</span><span class="sxs-lookup"><span data-stu-id="c198b-103">Architecture deployment approaches</span></span>

<span data-ttu-id="c198b-104">ビジネスアプリケーションの設計に使用されるアーキテクチャアプローチに関係なく、これらのアプリケーションの実装や配置は異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-104">Regardless of the architecture approach used to design a business application, the implementation, or deployment of those applications may vary.</span></span> <span data-ttu-id="c198b-105">企業は、物理ハードウェアからサーバーレス機能に至るまで、あらゆるアプリケーションでアプリケーションをホストしています。</span><span class="sxs-lookup"><span data-stu-id="c198b-105">Businesses host applications on everything from physical hardware to serverless functions.</span></span>

## <a name="n-tier-applications"></a><span data-ttu-id="c198b-106">N 層アプリケーション</span><span class="sxs-lookup"><span data-stu-id="c198b-106">N-Tier applications</span></span>

<span data-ttu-id="c198b-107">[N 層アーキテクチャパターン](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier)は成熟したアーキテクチャであり、さまざまな論理層を別々の物理層に分けるアプリケーションを単に指します。</span><span class="sxs-lookup"><span data-stu-id="c198b-107">The [N-Tier architecture pattern](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) is a mature architecture and simply refers to applications that separate various logical layers into separate physical tiers.</span></span> <span data-ttu-id="c198b-108">N 層アーキテクチャは、N 層アーキテクチャの物理的な実装です。</span><span class="sxs-lookup"><span data-stu-id="c198b-108">N-Tier architecture is a physical implementation of N-Layer architecture.</span></span> <span data-ttu-id="c198b-109">このアーキテクチャの最も一般的な実装は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="c198b-109">The most common implementation of this architecture includes:</span></span>

* <span data-ttu-id="c198b-110">Web アプリなどのプレゼンテーション層。</span><span class="sxs-lookup"><span data-stu-id="c198b-110">A presentation tier, for example a web app.</span></span>
* <span data-ttu-id="c198b-111">API またはデータアクセス層 (REST API など)。</span><span class="sxs-lookup"><span data-stu-id="c198b-111">An API or data access tier, such as a REST API.</span></span>
* <span data-ttu-id="c198b-112">SQL データベースなどのデータ層。</span><span class="sxs-lookup"><span data-stu-id="c198b-112">A data tier, such as a SQL database.</span></span>

![N 層アーキテクチャ](./media/n-tier-architecture.png)

<span data-ttu-id="c198b-114">N 層ソリューションには次の特性があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-114">N-tier solutions have the following characteristics:</span></span>

* <span data-ttu-id="c198b-115">通常、プロジェクトは階層に合わせて調整されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-115">Projects are typically aligned with tiers.</span></span>
* <span data-ttu-id="c198b-116">テストのアプローチは、レベルによって異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-116">Testing may be approached differently by tier.</span></span>
* <span data-ttu-id="c198b-117">階層は抽象レイヤーを提供します。たとえば、プレゼンテーション層は、通常、データ層の実装の詳細を意識しません。</span><span class="sxs-lookup"><span data-stu-id="c198b-117">Tiers provide layers of abstraction, for example the presentation tier is typically ignorant of the implementation details of the data tier.</span></span>
* <span data-ttu-id="c198b-118">通常、レイヤーは隣接するレイヤーとのみやり取りします。</span><span class="sxs-lookup"><span data-stu-id="c198b-118">Typically, layers only interact with adjacent layers.</span></span>
* <span data-ttu-id="c198b-119">リリースは多くの場合、プロジェクトで管理されているため、階層レベルで管理されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-119">Releases are often managed at the project, and therefore tier, level.</span></span> <span data-ttu-id="c198b-120">単純な API 変更では、中間層全体の新しいリリースが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-120">A simple API change may require a new release of an entire middle tier.</span></span>

<span data-ttu-id="c198b-121">このアプローチには、次のようないくつかの利点があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-121">This approach provides several benefits, including:</span></span>

* <span data-ttu-id="c198b-122">データベースの分離 (多くの場合、フロントエンドはデータベースバックエンドに直接アクセスできません)。</span><span class="sxs-lookup"><span data-stu-id="c198b-122">Isolation of the database (often the front end doesn't have direct access to the database back end).</span></span>
* <span data-ttu-id="c198b-123">API の再利用 (モバイル、デスクトップ、web アプリクライアントなど) は、すべて同じ Api を再利用できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-123">Reuse of the API (for example, mobile, desktop, and web app clients can all reuse the same APIs).</span></span>
* <span data-ttu-id="c198b-124">階層を互いに独立してスケールアウトする機能。</span><span class="sxs-lookup"><span data-stu-id="c198b-124">Ability to scale out tiers independent of each other.</span></span>
* <span data-ttu-id="c198b-125">リファクタリングの分離: 他の層に影響を与えることなく、1つの層をリファクターすることができます。</span><span class="sxs-lookup"><span data-stu-id="c198b-125">Refactoring isolation: one tier may be refactored without impacting other tiers.</span></span>

## <a name="on-premises-and-infrastructure-as-a-service-iaas"></a><span data-ttu-id="c198b-126">オンプレミスとサービスとしてのインフラストラクチャ (IaaS)</span><span class="sxs-lookup"><span data-stu-id="c198b-126">On-premises and Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="c198b-127">アプリケーションをホストする従来のアプローチでは、ハードウェアを購入し、オペレーティングシステムを含むすべてのソフトウェアインストールを管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-127">The traditional approach to hosting applications requires buying hardware and managing all of the software installations, including the operating system.</span></span> <span data-ttu-id="c198b-128">もともと、これは高価なデータセンターと物理ハードウェアに関係していました。</span><span class="sxs-lookup"><span data-stu-id="c198b-128">Originally this involved expensive data centers and physical hardware.</span></span> <span data-ttu-id="c198b-129">物理ハードウェアの運用には、次のような課題があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-129">The challenges that come with operating physical hardware are many, including:</span></span>

* <span data-ttu-id="c198b-130">"ケース内" またはピーク時の需要シナリオに対して、余分に購入する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-130">The need to buy excess for "just in case" or peak demand scenarios.</span></span>
* <span data-ttu-id="c198b-131">ハードウェアへの物理的なアクセスをセキュリティで保護する。</span><span class="sxs-lookup"><span data-stu-id="c198b-131">Securing physical access to the hardware.</span></span>
* <span data-ttu-id="c198b-132">ハードウェア障害 (ディスク障害など) の責任。</span><span class="sxs-lookup"><span data-stu-id="c198b-132">Responsibility for hardware failure (such as disk failure).</span></span>
* <span data-ttu-id="c198b-133">高密度.</span><span class="sxs-lookup"><span data-stu-id="c198b-133">Cooling.</span></span>
* <span data-ttu-id="c198b-134">ルーターとロードバランサーを構成する。</span><span class="sxs-lookup"><span data-stu-id="c198b-134">Configuring routers and load balancers.</span></span>
* <span data-ttu-id="c198b-135">電力の冗長性。</span><span class="sxs-lookup"><span data-stu-id="c198b-135">Power redundancy.</span></span>
* <span data-ttu-id="c198b-136">ソフトウェアアクセスをセキュリティで保護する。</span><span class="sxs-lookup"><span data-stu-id="c198b-136">Securing software access.</span></span>

![IaaS のアプローチ](./media/iaas-approach.png)

<span data-ttu-id="c198b-138">"仮想マシン" を使用してハードウェアを仮想化すると、サービスとしてのインフラストラクチャ (IaaS) が有効になります。</span><span class="sxs-lookup"><span data-stu-id="c198b-138">Virtualization of hardware, via "virtual machines" enables Infrastructure as a Service (IaaS).</span></span> <span data-ttu-id="c198b-139">ホストコンピューターは、実際には、メモリ、CPU、およびストレージに割り当てられたインスタンスにリソースを提供するために、効果的にパーティション分割されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-139">Host machines are effectively partitioned to provide resources to instances with allocations for their own memory, CPU, and storage.</span></span> <span data-ttu-id="c198b-140">チームは必要な Vm をプロビジョニングし、関連付けられているネットワークとストレージへのアクセスを構成します。</span><span class="sxs-lookup"><span data-stu-id="c198b-140">The team provisions the necessary VMs and configures the associated networks and access to storage.</span></span>

<span data-ttu-id="c198b-141">詳細については、「[仮想マシン N 層リファレンスアーキテクチャ](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c198b-141">For more information, see [virtual machine N-tier reference architecture](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier).</span></span>

<span data-ttu-id="c198b-142">仮想化とサービスとしてのインフラストラクチャ (IaaS) は多くの懸念事項に対応していますが、インフラストラクチャチームの担当者にも多くの責任があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-142">Although virtualization and Infrastructure as a Service (IaaS) address many concerns, it still leaves much responsibility in the hands of the infrastructure team.</span></span> <span data-ttu-id="c198b-143">チームは、オペレーティングシステムのバージョンを管理し、セキュリティ更新プログラムを適用し、ターゲットコンピューターにサードパーティの依存関係をインストールします。</span><span class="sxs-lookup"><span data-stu-id="c198b-143">The team maintains operating system versions, applies security patches, and installs third-party dependencies on the target machines.</span></span> <span data-ttu-id="c198b-144">多くの場合、アプリの動作はテスト環境と比較して実稼働コンピューターで異なります。</span><span class="sxs-lookup"><span data-stu-id="c198b-144">Apps often behave differently on production machines compared to the test environment.</span></span> <span data-ttu-id="c198b-145">さまざまな依存関係のバージョンや OS SKU レベルによって問題が発生します。</span><span class="sxs-lookup"><span data-stu-id="c198b-145">Issues arise due to different dependency versions and/or OS SKU levels.</span></span> <span data-ttu-id="c198b-146">多くの組織は N 層アプリケーションをこれらのターゲットにデプロイしますが、多くの企業では、[サービスとし](#platform-as-a-service-paas)てのプラットフォームなどのクラウドネイティブモデルにデプロイすることにメリットがあります。</span><span class="sxs-lookup"><span data-stu-id="c198b-146">Although many organizations deploy N-Tier applications to these targets, many companies benefit from deploying to a more cloud native model such as [Platform as a Service](#platform-as-a-service-paas).</span></span> <span data-ttu-id="c198b-147">拡張性と回復性のためにスケールアウトする必要があるため、マイクロサービスを使用したアーキテクチャがより困難になります。</span><span class="sxs-lookup"><span data-stu-id="c198b-147">Architectures with microservices are more challenging because of the requirements to scale out for elasticity and resiliency.</span></span>

<span data-ttu-id="c198b-148">詳細については、「[仮想マシン](https://docs.microsoft.com/azure/virtual-machines/)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c198b-148">For more information, see [virtual machines](https://docs.microsoft.com/azure/virtual-machines/).</span></span>

## <a name="platform-as-a-service-paas"></a><span data-ttu-id="c198b-149">サービスとしてのプラットフォーム (PaaS)</span><span class="sxs-lookup"><span data-stu-id="c198b-149">Platform as a Service (PaaS)</span></span>

<span data-ttu-id="c198b-150">サービスとしてのプラットフォーム (PaaS) は、開発者が直接接続できるように構成されたソリューションを提供します。</span><span class="sxs-lookup"><span data-stu-id="c198b-150">Platform as a Service (PaaS) offers configured solutions that developers can plug into directly.</span></span> <span data-ttu-id="c198b-151">PaaS は、管理されたホスティングのためのもう1つの用語です。</span><span class="sxs-lookup"><span data-stu-id="c198b-151">PaaS is another term for managed hosting.</span></span> <span data-ttu-id="c198b-152">これにより、基本オペレーティングシステム、セキュリティパッチ、および多くの場合、サードパーティの依存関係を管理する必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="c198b-152">It eliminates the need to manage the base operating system, security patches and in many cases any third-party dependencies.</span></span> <span data-ttu-id="c198b-153">プラットフォームの例としては、web アプリケーション、データベース、モバイルバックエンドなどがあります。</span><span class="sxs-lookup"><span data-stu-id="c198b-153">Examples of platforms include web applications, databases, and mobile back ends.</span></span>

<span data-ttu-id="c198b-154">PaaS は、IaaS に共通する課題に対処します。</span><span class="sxs-lookup"><span data-stu-id="c198b-154">PaaS addresses the challenges common to IaaS.</span></span> <span data-ttu-id="c198b-155">PaaS を使用すると、開発者は、デプロイ方法ではなく、コードまたはデータベーススキーマに集中できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-155">PaaS allows the developer to focus on the code or database schema rather than how it gets deployed.</span></span> <span data-ttu-id="c198b-156">PaaS の利点は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="c198b-156">Benefits of PaaS include:</span></span>

* <span data-ttu-id="c198b-157">アイドル状態のマシンへの投資のオーバーヘッドを解消する、使用モデルの料金が発生します。</span><span class="sxs-lookup"><span data-stu-id="c198b-157">Pay for use models that eliminate the overhead of investing in idle machines.</span></span>
* <span data-ttu-id="c198b-158">ダイレクトデプロイと改善された DevOps、継続的インテグレーション (CI)、継続的デリバリー (CD) パイプライン。</span><span class="sxs-lookup"><span data-stu-id="c198b-158">Direct deployment and improved DevOps, continuous integration (CI), and continuous delivery (CD) pipelines.</span></span>
* <span data-ttu-id="c198b-159">自動アップグレード、更新、およびセキュリティパッチ。</span><span class="sxs-lookup"><span data-stu-id="c198b-159">Automatic upgrades, updates, and security patches.</span></span>
* <span data-ttu-id="c198b-160">プッシュボタンのスケールアウトとスケールアップ (エラスティックスケール)。</span><span class="sxs-lookup"><span data-stu-id="c198b-160">Push-button scale out and scale up (elastic scale).</span></span>

<span data-ttu-id="c198b-161">従来、PaaS の主な欠点はベンダーのロックインでした。</span><span class="sxs-lookup"><span data-stu-id="c198b-161">The main disadvantage of PaaS traditionally has been vendor lock-in.</span></span> <span data-ttu-id="c198b-162">たとえば、一部の PaaS プロバイダーは、ASP.NET、node.js、またはその他の特定の言語とプラットフォームのみをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="c198b-162">For example, some PaaS providers only support ASP.NET, Node.js, or other specific languages and platforms.</span></span> <span data-ttu-id="c198b-163">Azure App Service のような製品では、複数のプラットフォームに対応し、web アプリをホストするためのさまざまな言語とフレームワークをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="c198b-163">Products like Azure App Service have evolved to address multiple platforms and support a variety of languages and frameworks for hosting web apps.</span></span>

![サービスとしてのプラットフォームのアーキテクチャ](./media/paas-architecture.png)

## <a name="software-as-a-service-saas"></a><span data-ttu-id="c198b-165">サービスとしてのソフトウェア (SaaS)</span><span class="sxs-lookup"><span data-stu-id="c198b-165">Software as a Service (SaaS)</span></span>

<span data-ttu-id="c198b-166">サービスとしてのソフトウェアまたは SaaS は一元的にホストされ、ローカルのインストールやプロビジョニングなしで利用できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-166">Software as a Service or SaaS is centrally hosted and available without local installation or provisioning.</span></span> <span data-ttu-id="c198b-167">SaaS は、多くの場合、ソフトウェアを展開するためのプラットフォームとして PaaS の上にホストされます。</span><span class="sxs-lookup"><span data-stu-id="c198b-167">SaaS often is hosted on top of PaaS as a platform for deploying software.</span></span> <span data-ttu-id="c198b-168">SaaS は、既存のソフトウェアを実行して接続するためのサービスを提供します。</span><span class="sxs-lookup"><span data-stu-id="c198b-168">SaaS provides services to run and connect with existing software.</span></span> <span data-ttu-id="c198b-169">SaaS は多くの場合、業界および垂直に固有です。</span><span class="sxs-lookup"><span data-stu-id="c198b-169">SaaS is often industry and vertical specific.</span></span> <span data-ttu-id="c198b-170">SaaS は多くの場合、クライアント/サーバーモデルを提供します。</span><span class="sxs-lookup"><span data-stu-id="c198b-170">SaaS is often licensed and typically provides a client/server model.</span></span> <span data-ttu-id="c198b-171">最新の SaaS サービスでは、クライアントに web ベースのアプリを使用します。</span><span class="sxs-lookup"><span data-stu-id="c198b-171">Most modern SaaS offerings use web-based apps for the client.</span></span> <span data-ttu-id="c198b-172">企業は通常、SaaS をライセンスオファリングのビジネスソリューションとして検討しています。</span><span class="sxs-lookup"><span data-stu-id="c198b-172">Companies typically consider SaaS as a business solution to license offerings.</span></span> <span data-ttu-id="c198b-173">多くの場合、アプリケーションのスケーラビリティと保守性のためにアーキテクチャの考慮事項として実装されることはありません。</span><span class="sxs-lookup"><span data-stu-id="c198b-173">It isn't often implemented as architecture consideration for scalability and maintainability of an application.</span></span> <span data-ttu-id="c198b-174">実際、ほとんどの SaaS ソリューションは、IaaS、PaaS、またはサーバーレスバックエンド上に構築されています。</span><span class="sxs-lookup"><span data-stu-id="c198b-174">Indeed, most SaaS solutions are built on IaaS, PaaS, and/or serverless back ends.</span></span>

<span data-ttu-id="c198b-175">SaaS の詳細については、[サンプルアプリケーション](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c198b-175">Learn more about SaaS through a [sample application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app).</span></span>

## <a name="containers-and-functions-as-a-service-faas"></a><span data-ttu-id="c198b-176">サービスとしてのコンテナーと関数 (FaaS)</span><span class="sxs-lookup"><span data-stu-id="c198b-176">Containers and Functions as a Service (FaaS)</span></span>

<span data-ttu-id="c198b-177">コンテナーは、IaaS のオーバーヘッドを発生させることなく、PaaS に似たメリットを実現する、興味深いソリューションです。</span><span class="sxs-lookup"><span data-stu-id="c198b-177">Containers are an interesting solution that enables PaaS-like benefits without the IaaS overhead.</span></span> <span data-ttu-id="c198b-178">コンテナーは基本的に、一意のアプリケーションを実行するために必要なベアメタルを含むランタイムです。</span><span class="sxs-lookup"><span data-stu-id="c198b-178">A container is essentially a runtime that contains the bare essentials needed to run a unique application.</span></span> <span data-ttu-id="c198b-179">ホストオペレーティングシステムのカーネルまたはコア部分、およびストレージなどのサービスは、ホスト間で共有されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-179">The kernel or core part of the host operating system and services such as storage are shared across a host.</span></span> <span data-ttu-id="c198b-180">共有カーネルを使用すると、コンテナーを軽量にすることができます (通常の仮想マシンのギガバイトサイズと比較して、サイズがわずかメガバイトになります)。</span><span class="sxs-lookup"><span data-stu-id="c198b-180">The shared kernel enables containers to be lightweight (some are mere megabytes in size, compared to the gigabyte size of typical virtual machines).</span></span> <span data-ttu-id="c198b-181">既に実行されているホストでは、コンテナーをすばやく起動して高可用性を実現できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-181">With hosts already running, containers can be started quickly, facilitating high availability.</span></span> <span data-ttu-id="c198b-182">コンテナーを迅速にスピンアップする機能により、回復性のレイヤーも追加されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-182">The ability to spin up containers quickly also provides extra layers of resiliency.</span></span> <span data-ttu-id="c198b-183">Docker は、コンテナーの一般的な実装の1つです。</span><span class="sxs-lookup"><span data-stu-id="c198b-183">Docker is one of the more popular implementations of containers.</span></span>

<span data-ttu-id="c198b-184">コンテナーの利点は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="c198b-184">Benefits of containers include:</span></span>

* <span data-ttu-id="c198b-185">軽量でポータブル</span><span class="sxs-lookup"><span data-stu-id="c198b-185">Lightweight and portable</span></span>
* <span data-ttu-id="c198b-186">自己完結型であるため、依存関係をインストールする必要はありません</span><span class="sxs-lookup"><span data-stu-id="c198b-186">Self-contained so no need to install dependencies</span></span>
* <span data-ttu-id="c198b-187">ホストに関係なく一貫した環境を提供する (クラウドサーバーと同じノート pc でのみ実行されます)</span><span class="sxs-lookup"><span data-stu-id="c198b-187">Provide a consistent environment regardless of the host (runs exactly same on a laptop as on a cloud server)</span></span>
* <span data-ttu-id="c198b-188">スケールアウトのために迅速にプロビジョニング可能</span><span class="sxs-lookup"><span data-stu-id="c198b-188">Can be provisioned quickly for scale-out</span></span>
* <span data-ttu-id="c198b-189">障害から回復するには、すぐに再起動できます</span><span class="sxs-lookup"><span data-stu-id="c198b-189">Can be restarted quickly to recover from failure</span></span>

<span data-ttu-id="c198b-190">コンテナーは、コンテナーホスト上で実行されます (これは、ベアメタルコンピューターまたは仮想マシン上で実行される可能性があります)。</span><span class="sxs-lookup"><span data-stu-id="c198b-190">A container runs on a container host (that in turn may run on a bare metal machine or a virtual machine).</span></span> <span data-ttu-id="c198b-191">同じコンテナーの複数のコンテナーまたはインスタンスが、1つのホストで実行される場合があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-191">Multiple containers or instances of the same containers may run on a single host.</span></span> <span data-ttu-id="c198b-192">真のフェールオーバーと回復性を実現するには、コンテナーをホスト間でスケーリングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-192">For true failover and resiliency, containers must be scaled across hosts.</span></span>

<span data-ttu-id="c198b-193">Docker コンテナーの詳細については、「 [docker とは](../microservices/container-docker-introduction/docker-defined.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c198b-193">For more information about Docker containers, see [What is Docker](../microservices/container-docker-introduction/docker-defined.md).</span></span>

<span data-ttu-id="c198b-194">通常、ホスト間でコンテナーを管理するには、Kubernetes などのオーケストレーションツールが必要です。</span><span class="sxs-lookup"><span data-stu-id="c198b-194">Managing containers across hosts typically requires an orchestration tool such as Kubernetes.</span></span> <span data-ttu-id="c198b-195">オーケストレーションソリューションを構成して管理すると、プロジェクトのオーバーヘッドと複雑さが増える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-195">Configuring and managing orchestration solutions may add additional overhead and complexity to projects.</span></span> <span data-ttu-id="c198b-196">幸いなことに、多くのクラウドプロバイダーでは、コンテナーの管理を簡略化するために、PaaS ソリューションによってオーケストレーションサービスを提供しています。</span><span class="sxs-lookup"><span data-stu-id="c198b-196">Fortunately, many cloud providers provide orchestration services through PaaS solutions to simplify the management of containers.</span></span>

<span data-ttu-id="c198b-197">次の図は、Kubernetes のインストール例を示しています。</span><span class="sxs-lookup"><span data-stu-id="c198b-197">The following image illustrates an example Kubernetes installation.</span></span> <span data-ttu-id="c198b-198">インストールのノードでは、スケールアウトとフェールオーバーを行います。</span><span class="sxs-lookup"><span data-stu-id="c198b-198">Nodes in the installation address scale out and failover.</span></span> <span data-ttu-id="c198b-199">マスターサーバーで管理されている Docker コンテナーインスタンスを実行します。</span><span class="sxs-lookup"><span data-stu-id="c198b-199">They run Docker container instances that are managed by the master server.</span></span> <span data-ttu-id="c198b-200">*Kubelet*は、Kubernetes から Docker にコマンドを中継するクライアントです。</span><span class="sxs-lookup"><span data-stu-id="c198b-200">The *kubelet* is the client that relays commands from Kubernetes to Docker.</span></span>

![Kubernetes](./media/kubernetes-example.png)

<span data-ttu-id="c198b-202">オーケストレーションの詳細については、「 [Kubernetes On Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c198b-202">For more information about orchestration, see [Kubernetes on Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span></span>

<span data-ttu-id="c198b-203">サービスとしての機能 (FaaS) は、サーバーレスに似た専用のコンテナーサービスです。</span><span class="sxs-lookup"><span data-stu-id="c198b-203">Functions as a Service (FaaS) is a specialized container service that is similar to serverless.</span></span> <span data-ttu-id="c198b-204">[Openfaas](https://github.com/openfaas/faas)と呼ばれる faas の特定の実装は、サーバーレス機能を提供するためにコンテナーの上に配置されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-204">A specific implementation of FaaS, called [OpenFaaS](https://github.com/openfaas/faas), sits on top of containers to provide serverless capabilities.</span></span> <span data-ttu-id="c198b-205">OpenFaaS には、コードを実行するために必要なすべてのコンテナーの依存関係をパッケージ化するテンプレートが用意されています。</span><span class="sxs-lookup"><span data-stu-id="c198b-205">OpenFaaS provides templates that package all of the container dependencies necessary to run a piece of code.</span></span> <span data-ttu-id="c198b-206">テンプレートを使用すると、コードを機能単位としてデプロイするプロセスが簡単になります。</span><span class="sxs-lookup"><span data-stu-id="c198b-206">Using templates simplifies the process of deploying code as a functional unit.</span></span> <span data-ttu-id="c198b-207">Openfaas は、既存のインフラストラクチャを使用できるため、既にコンテナーとオーケストレーター含んでいるアーキテクチャをターゲットとしています。</span><span class="sxs-lookup"><span data-stu-id="c198b-207">OpenFaaS targets architectures that already include containers and orchestrators because it can use the existing infrastructure.</span></span> <span data-ttu-id="c198b-208">サーバーレス機能を提供しますが、Docker と orchestrator を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-208">Although it provides serverless functionality, it specifically requires you to use Docker and an orchestrator.</span></span>

## <a name="serverless"></a><span data-ttu-id="c198b-209">サーバー</span><span class="sxs-lookup"><span data-stu-id="c198b-209">Serverless</span></span>

<span data-ttu-id="c198b-210">サーバーレスアーキテクチャを使用すると、コードとそのホスティング環境を明確に分離できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-210">A serverless architecture provides a clear separation between the code and its hosting environment.</span></span> <span data-ttu-id="c198b-211">*トリガー*によって呼び出される*関数*にコードを実装します。</span><span class="sxs-lookup"><span data-stu-id="c198b-211">You implement code in a *function* that is invoked by a *trigger*.</span></span> <span data-ttu-id="c198b-212">その関数が終了すると、必要なすべてのリソースが解放される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-212">After that function exits, all its needed resources may be freed.</span></span> <span data-ttu-id="c198b-213">トリガーには、手動、時間指定のプロセス、HTTP 要求、またはファイルのアップロードがあります。</span><span class="sxs-lookup"><span data-stu-id="c198b-213">The trigger might be manual, a timed process, an HTTP request, or a file upload.</span></span> <span data-ttu-id="c198b-214">トリガーの結果は、コードの実行です。</span><span class="sxs-lookup"><span data-stu-id="c198b-214">The result of the trigger is the execution of code.</span></span> <span data-ttu-id="c198b-215">サーバーレスプラットフォームはさまざまですが、ほとんどの場合、定義済みの Api とバインドにアクセスして、データベースへの書き込みや結果のキューなどのタスクを効率化できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-215">Although serverless platforms vary, most provide access to pre-defined APIs and bindings to streamline tasks such as writing to a database or queueing results.</span></span>

<span data-ttu-id="c198b-216">サーバーレスは、コードに集中するためのホスト環境の抽象化に大きく依存するアーキテクチャです。</span><span class="sxs-lookup"><span data-stu-id="c198b-216">Serverless is an architecture that relies heavily on abstracting away the host environment to focus on code.</span></span> <span data-ttu-id="c198b-217">サーバーの数が*少ない*と考えることができます。</span><span class="sxs-lookup"><span data-stu-id="c198b-217">It can be thought of as *less server*.</span></span>

<span data-ttu-id="c198b-218">コンテナーソリューションを使用すると、開発者は既存のビルドスクリプトを使用して、サーバーレス対応のイメージにコードを発行できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-218">Container solutions provide developers existing build scripts to publish code to serverless-ready images.</span></span> <span data-ttu-id="c198b-219">その他の実装では、既存の PaaS ソリューションを使用してスケーラブルなアーキテクチャを提供します。</span><span class="sxs-lookup"><span data-stu-id="c198b-219">Other implementations use existing PaaS solutions to provide a scalable architecture.</span></span>

<span data-ttu-id="c198b-220">抽象化は、DevOps チームがサーバーや特定のコンテナーをプロビジョニングまたは管理する必要がないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="c198b-220">The abstraction means the DevOps team doesn't have to provision or manage servers, nor specific containers.</span></span> <span data-ttu-id="c198b-221">サーバーレスプラットフォームは、関連する SDK を使用してビルドされたスクリプトまたはパッケージ実行可能ファイルとしてコードをホストし、コードを拡張するために必要なリソースを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="c198b-221">The serverless platform hosts code, either as script or packaged executables built with a related SDK, and allocates the necessary resources for the code to scale.</span></span>

<span data-ttu-id="c198b-222">次の図は、4つのサーバーレスコンポーネントを図で示しています。</span><span class="sxs-lookup"><span data-stu-id="c198b-222">The following illustration diagrams four serverless components.</span></span> <span data-ttu-id="c198b-223">HTTP 要求が発生すると、チェックアウト API コードが実行されます。</span><span class="sxs-lookup"><span data-stu-id="c198b-223">An HTTP request causes the Checkout API code to run.</span></span> <span data-ttu-id="c198b-224">Checkout API はデータベースにコードを挿入し、insert は他のいくつかの関数を実行して、タスクの計算や注文の実行などのタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="c198b-224">The Checkout API inserts code into a database, and the insert triggers several other functions to run to perform tasks like computing tasks and fulfilling the order.</span></span>

![サーバーレス実装](./media/serverless-implementation.png)

<span data-ttu-id="c198b-226">サーバーレスの利点は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="c198b-226">The advantages of serverless include:</span></span>

* <span data-ttu-id="c198b-227">**高密度。**</span><span class="sxs-lookup"><span data-stu-id="c198b-227">**High density.**</span></span> <span data-ttu-id="c198b-228">同じサーバーレスコードの多くのインスタンスは、コンテナーまたは仮想マシンと比較して同じホスト上で実行できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-228">Many instances of the same serverless code can run on the same host compared to containers or virtual machines.</span></span> <span data-ttu-id="c198b-229">インスタンスは複数のホストにまたがるスケールアウトと回復性を備えています。</span><span class="sxs-lookup"><span data-stu-id="c198b-229">The instances scale across multiple hosts scale out and resiliency.</span></span>
* <span data-ttu-id="c198b-230">**マイクロ請求**。</span><span class="sxs-lookup"><span data-stu-id="c198b-230">**Micro-billing**.</span></span> <span data-ttu-id="c198b-231">ほとんどのサーバーレスプロバイダーは、サーバーレス実行に基づいて課金されるため、特定のシナリオで大幅なコスト削減を実現します。</span><span class="sxs-lookup"><span data-stu-id="c198b-231">Most serverless providers bill based on serverless executions, enabling massive cost savings in certain scenarios.</span></span>
* <span data-ttu-id="c198b-232">**インスタントスケール**。</span><span class="sxs-lookup"><span data-stu-id="c198b-232">**Instant scale**.</span></span> <span data-ttu-id="c198b-233">サーバーレスは、ワークロードを自動的かつ迅速に一致させるために拡張できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-233">Serverless can scale to match workloads automatically and quickly.</span></span>
* <span data-ttu-id="c198b-234">**市場投入までの時間を短縮**開発者はコードに重点を置いて、サーバーレスプラットフォームに直接デプロイします。</span><span class="sxs-lookup"><span data-stu-id="c198b-234">**Faster time to market** Developers focus on code and deploy directly to the serverless platform.</span></span> <span data-ttu-id="c198b-235">コンポーネントは、互いに独立して解放できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-235">Components can be released independently of each other.</span></span>

<span data-ttu-id="c198b-236">サーバーレスは、多くの場合、compute のコンテキストで説明されていますが、データにも適用できます。</span><span class="sxs-lookup"><span data-stu-id="c198b-236">Serverless is most often discussed in the context of compute, but can also apply to data.</span></span> <span data-ttu-id="c198b-237">たとえば、 [AZURE SQL](https://docs.microsoft.com/azure/sql-database)と[Cosmos DB](https://docs.microsoft.com/azure/cosmos-db)はどちらも、ホストコンピューターまたはクラスターの構成を必要としないクラウドデータベースを提供します。</span><span class="sxs-lookup"><span data-stu-id="c198b-237">For example, [Azure SQL](https://docs.microsoft.com/azure/sql-database) and [Cosmos DB](https://docs.microsoft.com/azure/cosmos-db) both provide cloud databases that don't require you to configure host machines or clusters.</span></span> <span data-ttu-id="c198b-238">この本は、サーバーレスコンピューティングに焦点を当てています。</span><span class="sxs-lookup"><span data-stu-id="c198b-238">This book focuses on serverless compute.</span></span>

## <a name="summary"></a><span data-ttu-id="c198b-239">まとめ</span><span class="sxs-lookup"><span data-stu-id="c198b-239">Summary</span></span>

<span data-ttu-id="c198b-240">ハイブリッドアプローチを含め、アーキテクチャには幅広い選択肢があります。</span><span class="sxs-lookup"><span data-stu-id="c198b-240">There's a broad spectrum of available choices for architecture, including a hybrid approach.</span></span> <span data-ttu-id="c198b-241">サーバーレスでは、制御と移植性を犠牲にして、アプリケーション機能のアプローチ、管理、コストを簡略化します。</span><span class="sxs-lookup"><span data-stu-id="c198b-241">Serverless simplifies the approach, management, and cost of application features at the expense of control and portability.</span></span> <span data-ttu-id="c198b-242">ただし、多くのサーバーレスプラットフォームでは、ソリューションを微調整するために構成を公開しています。</span><span class="sxs-lookup"><span data-stu-id="c198b-242">However, many serverless platforms do expose configuration to help fine-tune the solution.</span></span> <span data-ttu-id="c198b-243">また、適切なプログラミング手法を使用すると、移植性の高いコードとサーバーレスプラットフォームのロックインが向上する可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="c198b-243">Good programming practices can also lead to more portable code and less serverless platform lock-in.</span></span> <span data-ttu-id="c198b-244">次の表は、アーキテクチャのアプローチを並べて示しています。</span><span class="sxs-lookup"><span data-stu-id="c198b-244">The following table illustrates the architecture approaches side by side.</span></span> <span data-ttu-id="c198b-245">スケールのニーズに基づいてサーバーレスを選択し、ランタイムを管理するかどうか、およびワークロードを小さなコンポーネントに分割することができるかどうかを選択します。</span><span class="sxs-lookup"><span data-stu-id="c198b-245">Choose serverless based on your scale needs, whether or not you want to manage the runtime, and how well you can break your workloads into small components.</span></span> <span data-ttu-id="c198b-246">次の章では、サーバーレスおよびその他の意思決定点に関する潜在的な課題について説明します。</span><span class="sxs-lookup"><span data-stu-id="c198b-246">You'll learn about potential challenges with serverless and other decision points in the next chapter.</span></span>

|         |<span data-ttu-id="c198b-247">IaaS</span><span class="sxs-lookup"><span data-stu-id="c198b-247">IaaS</span></span>     |<span data-ttu-id="c198b-248">PaaS</span><span class="sxs-lookup"><span data-stu-id="c198b-248">PaaS</span></span>     |<span data-ttu-id="c198b-249">コンテナー</span><span class="sxs-lookup"><span data-stu-id="c198b-249">Container</span></span>|<span data-ttu-id="c198b-250">サーバー</span><span class="sxs-lookup"><span data-stu-id="c198b-250">Serverless</span></span>|
|---------|---------|---------|---------|----------|
|<span data-ttu-id="c198b-251">**スケール**</span><span class="sxs-lookup"><span data-stu-id="c198b-251">**Scale**</span></span>|<span data-ttu-id="c198b-252">VM</span><span class="sxs-lookup"><span data-stu-id="c198b-252">VM</span></span>       |<span data-ttu-id="c198b-253">Instance</span><span class="sxs-lookup"><span data-stu-id="c198b-253">Instance</span></span> |<span data-ttu-id="c198b-254">アプリ</span><span class="sxs-lookup"><span data-stu-id="c198b-254">App</span></span>      |<span data-ttu-id="c198b-255">関数</span><span class="sxs-lookup"><span data-stu-id="c198b-255">Function</span></span>  |
|<span data-ttu-id="c198b-256">**抽出**</span><span class="sxs-lookup"><span data-stu-id="c198b-256">**Abstracts**</span></span>|<span data-ttu-id="c198b-257">ハードウェア</span><span class="sxs-lookup"><span data-stu-id="c198b-257">Hardware</span></span>|<span data-ttu-id="c198b-258">プラットフォーム</span><span class="sxs-lookup"><span data-stu-id="c198b-258">Platform</span></span>|<span data-ttu-id="c198b-259">OS ホスト</span><span class="sxs-lookup"><span data-stu-id="c198b-259">OS Host</span></span>|<span data-ttu-id="c198b-260">ランタイム</span><span class="sxs-lookup"><span data-stu-id="c198b-260">Runtime</span></span>   |
|<span data-ttu-id="c198b-261">**間隔**</span><span class="sxs-lookup"><span data-stu-id="c198b-261">**Unit**</span></span> |<span data-ttu-id="c198b-262">VM</span><span class="sxs-lookup"><span data-stu-id="c198b-262">VM</span></span>       |<span data-ttu-id="c198b-263">Project</span><span class="sxs-lookup"><span data-stu-id="c198b-263">Project</span></span>  |<span data-ttu-id="c198b-264">イメージ</span><span class="sxs-lookup"><span data-stu-id="c198b-264">Image</span></span>    |<span data-ttu-id="c198b-265">コード</span><span class="sxs-lookup"><span data-stu-id="c198b-265">Code</span></span>      |
|<span data-ttu-id="c198b-266">**有効期間**</span><span class="sxs-lookup"><span data-stu-id="c198b-266">**Lifetime**</span></span>|<span data-ttu-id="c198b-267">前月</span><span class="sxs-lookup"><span data-stu-id="c198b-267">Months</span></span>|<span data-ttu-id="c198b-268">日数から月</span><span class="sxs-lookup"><span data-stu-id="c198b-268">Days to Months</span></span>|<span data-ttu-id="c198b-269">分から日</span><span class="sxs-lookup"><span data-stu-id="c198b-269">Minutes to Days</span></span>|<span data-ttu-id="c198b-270">ミリ秒 (分)</span><span class="sxs-lookup"><span data-stu-id="c198b-270">Milliseconds to Minutes</span></span>|
|<span data-ttu-id="c198b-271">**負っ**</span><span class="sxs-lookup"><span data-stu-id="c198b-271">**Responsibility**</span></span>|<span data-ttu-id="c198b-272">アプリケーション、依存関係、ランタイム、およびオペレーティングシステム</span><span class="sxs-lookup"><span data-stu-id="c198b-272">Applications, dependencies, runtime, and operating system</span></span>|<span data-ttu-id="c198b-273">アプリケーションと依存関係</span><span class="sxs-lookup"><span data-stu-id="c198b-273">Applications and dependencies</span></span>|<span data-ttu-id="c198b-274">アプリケーション、依存関係、およびランタイム</span><span class="sxs-lookup"><span data-stu-id="c198b-274">Applications, dependencies, and runtime</span></span>|<span data-ttu-id="c198b-275">関数</span><span class="sxs-lookup"><span data-stu-id="c198b-275">Function</span></span>

* <span data-ttu-id="c198b-276">**Scale**は、アプリケーションのスケーリングに使用される単位を示します。</span><span class="sxs-lookup"><span data-stu-id="c198b-276">**Scale** refers to the unit that is used to scale the application</span></span>
* <span data-ttu-id="c198b-277">**抽象化**とは、実装によって抽象化されたレイヤーを指します。</span><span class="sxs-lookup"><span data-stu-id="c198b-277">**Abstracts** refers to the layer that is abstracted by the implementation</span></span>
* <span data-ttu-id="c198b-278">**単位**とは、展開される対象の範囲を指します。</span><span class="sxs-lookup"><span data-stu-id="c198b-278">**Unit** refers to the scope of what is deployed</span></span>
* <span data-ttu-id="c198b-279">**有効期間**とは、特定のインスタンスの一般的なランタイムを指します。</span><span class="sxs-lookup"><span data-stu-id="c198b-279">**Lifetime** refers to the typical runtime of a specific instance</span></span>
* <span data-ttu-id="c198b-280">**責任**とは、アプリケーションを構築、展開、および保守するためのオーバーヘッドを指します。</span><span class="sxs-lookup"><span data-stu-id="c198b-280">**Responsibility** refers to the overhead to build, deploy, and maintain the application</span></span>

<span data-ttu-id="c198b-281">次の章では、サーバーレスアーキテクチャ、ユースケース、および設計パターンに焦点を当てます。</span><span class="sxs-lookup"><span data-stu-id="c198b-281">The next chapter will focus on serverless architecture, use cases, and design patterns.</span></span>

## <a name="recommended-resources"></a><span data-ttu-id="c198b-282">推奨されるリソース</span><span class="sxs-lookup"><span data-stu-id="c198b-282">Recommended resources</span></span>

* [<span data-ttu-id="c198b-283">Azure アプリケーションアーキテクチャガイド</span><span class="sxs-lookup"><span data-stu-id="c198b-283">Azure application architecture guide</span></span>](https://docs.microsoft.com/azure/architecture/guide/)
* [<span data-ttu-id="c198b-284">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="c198b-284">Azure Cosmos DB</span></span>](https://docs.microsoft.com/azure/cosmos-db)
* [<span data-ttu-id="c198b-285">Azure SQL</span><span class="sxs-lookup"><span data-stu-id="c198b-285">Azure SQL</span></span>](https://docs.microsoft.com/azure/sql-database)
* [<span data-ttu-id="c198b-286">N 層アーキテクチャパターン</span><span class="sxs-lookup"><span data-stu-id="c198b-286">N-Tier architecture pattern</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier)
* [<span data-ttu-id="c198b-287">Azure での Kubernetes</span><span class="sxs-lookup"><span data-stu-id="c198b-287">Kubernetes on Azure</span></span>](https://docs.microsoft.com/azure/aks/intro-kubernetes)
* [<span data-ttu-id="c198b-288">マイクロサービス</span><span class="sxs-lookup"><span data-stu-id="c198b-288">Microservices</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/microservices)
* [<span data-ttu-id="c198b-289">仮想マシン N 層リファレンスアーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="c198b-289">Virtual machine N-tier reference architecture</span></span>](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier)
* [<span data-ttu-id="c198b-290">仮想マシン</span><span class="sxs-lookup"><span data-stu-id="c198b-290">Virtual machines</span></span>](https://docs.microsoft.com/azure/virtual-machines/)
* [<span data-ttu-id="c198b-291">Docker について</span><span class="sxs-lookup"><span data-stu-id="c198b-291">What is Docker?</span></span>](../microservices/container-docker-introduction/docker-defined.md)
* [<span data-ttu-id="c198b-292">Wingtip チケット SaaS アプリケーション</span><span class="sxs-lookup"><span data-stu-id="c198b-292">Wingtip Tickets SaaS application</span></span>](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app)

>[!div class="step-by-step"]
><span data-ttu-id="c198b-293">[前へ](architecture-approaches.md)
>[次へ](serverless-architecture.md)</span><span class="sxs-lookup"><span data-stu-id="c198b-293">[Previous](architecture-approaches.md)
[Next](serverless-architecture.md)</span></span>
