---
title: アーキテクチャアプローチ-サーバーレスアプリ
description: N 層アーキテクチャからサーバーレスにクラウドベースのエンタープライズアプリケーションを構築するためのアーキテクチャのアプローチについて説明します。
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 74de96bef48f16ced4adf82855a740aa0afcdf1d
ms.sourcegitcommit: 4f4a32a5c16a75724920fa9627c59985c41e173c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2019
ms.locfileid: "72522901"
---
# <a name="architecture-approaches"></a>アーキテクチャのアプローチ

エンタープライズアプリを設計するための既存のアプローチを理解することは、サーバーレスで果たす役割を明確にするのに役立ちます。 数十年ものソフトウェア開発に発展したさまざまな手法とパターンがあり、それぞれに独自の長所と短所があります。 多くの場合、ultimate ソリューションでは1つのアプローチを決定する必要はありませんが、複数の方法を統合することがあります。 移行シナリオでは、多くの場合、ハイブリッドアプローチによって1つのアーキテクチャアプローチから別のアーキテクチャに移行します。

この章では、エンタープライズアプリケーションの論理アーキテクチャと物理アーキテクチャの両方の概要について説明します。

## <a name="architecture-patterns"></a>アーキテクチャパターン

最新のビジネスアプリケーションは、さまざまなアーキテクチャパターンに従います。 ここでは、一般的なパターンの調査について説明します。 ここに記載されているパターンは必ずしもすべてのベストプラクティスではありませんが、さまざまなアプローチを示しています。

詳細については、「 [Azure アプリケーションアーキテクチャガイド](https://docs.microsoft.com/azure/architecture/guide/)」を参照してください。

## <a name="monoliths"></a>モノリス

多くのビジネスアプリケーションは、モノリスパターンに従います。 レガシアプリケーションは、多くの場合、モノリスとして実装されます。 モノリスパターンでは、すべてのアプリケーションの問題が単一のデプロイに含まれています。 ユーザーインターフェイスからデータベースへの呼び出しはすべて、同じコードベースに含まれています。

![モノリスアーキテクチャ](./media/monolith-architecture.png)

モノリスアプローチにはいくつかの利点があります。 多くの場合、単一のコードベースを取得して作業を開始するのは簡単です。 増加時間は短くなる可能性があり、テスト環境の作成は新しいコピーを提供するのと同じように簡単です。 モノリスは、複数のコンポーネントとアプリケーションを含むように設計されている場合があります。

残念ながら、モノリスパターンは大規模に分割される傾向があります。 モノリスアプローチの主な欠点は次のとおりです。

- 同じコードベースで並行して作業することは困難です。
- いかに簡単であるかに関係なく、アプリケーション全体の新しいバージョンを展開する必要があります。
- リファクタリングは、アプリケーション全体に影響する可能性があります。
- 多くの場合、スケーリングする唯一のソリューションは、リソースを大量に消費する複数のモノリスのコピーを作成することです。
- システムの展開やその他のシステムの獲得に伴い、統合が困難になることがあります。
- モノリス全体を構成する必要があるため、テストが困難な場合があります。
- コードを再利用することは困難であり、他のアプリケーションが独自のコードのコピーを作成することがあります。

多くの企業では、モノリスアプリケーションを移行する機会としてクラウドに注目し、同時に、より使用しやすいパターンにリファクタリングすることができます。 個々のアプリケーションとコンポーネントを分割して、個別に管理、デプロイ、および拡大/縮小することが一般的です。

## <a name="n-layer-applications"></a>N 層アプリケーション

N レイヤーアプリケーションパーティションアプリケーションロジックを特定のレイヤーに分割します。 最も一般的なレイヤーは次のとおりです。

- [ユーザー インターフェイス]
- ビジネスロジック
- データ アクセス

その他のレイヤーには、ミドルウェア、バッチ処理、API などがあります。 レイヤーは論理的なものであることに注意してください。 これらは分離して開発されていますが、すべて同じターゲットプラットフォームにデプロイされる場合があります。

![N 層アーキテクチャ](./media/n-layer-architecture.png)

N 層アプローチには、次のようないくつかの利点があります。

- リファクタリングはレイヤーに分離されます。
- チームは別々のレイヤーを個別にビルド、テスト、配置、および維持できます。
- レイヤーをスワップアウトすることができます。たとえば、データレイヤーは、UI レイヤーを変更することなく、複数のデータベースにアクセスする可能性があります。

サーバーレスは、1つまたは複数のレイヤーを実装するために使用できます。

## <a name="microservices"></a>マイクロサービス

**[マイクロサービス](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/microservices)** アーキテクチャには、次のような共通の特徴があります。

- アプリケーションはいくつかの小規模サービスで構成されています。
- 各サービスは、独自のプロセスで実行されます。
- サービスは、ビジネスドメインに関連しています。
- サービスは軽量の Api を介して通信します。通常、トランスポートとして HTTP を使用します。
- サービスは個別に展開およびアップグレードできます。
- サービスが1つのデータストアに依存していません。
- システムはエラーを考慮して設計されており、特定のサービスが失敗した場合でもアプリを実行できます。

マイクロサービスは、他のアーキテクチャアプローチと相互に排他的である必要はありません。 たとえば、N 層アーキテクチャでは、中間層にマイクロサービスを使用できます。 また、IIS ホスト上の仮想ディレクトリからコンテナーに、さまざまな方法でマイクロサービスを実装することもできます。 マイクロサービスの特性は、サーバーレス実装に特に適しています。

![マイクロサービス アーキテクチャ](./media/microservices-architecture.png)

マイクロサービスアーキテクチャの長所は次のとおりです。

- リファクタリングは、多くの場合、1つのサービスに分離されます。
- サービスは互いに独立してアップグレードできます。
- 回復性と弾力性は、個々のサービスの需要に合わせて調整できます。
- 開発は、さまざまなチームやプラットフォームで並行して行われます。
- 分離サービスの包括的なテストを記述する方が簡単です。

マイクロサービスには、次のような独自の課題があります。

- 使用可能なサービスとその呼び出し方法を決定します。
- サービスのライフサイクルの管理。
- サービスがアプリケーション全体にどのように適合するかを理解します。
- さまざまなサービスに対して行われた呼び出しの完全なシステムテスト。

最終的には、このような課題に対処するためのソリューションがあります。これについては、後で説明するサーバーレスの利点を活用することもできます。

>[!div class="step-by-step"]
>[前へ](index.md)
>[次へ](architecture-deployment-approaches.md)
