---
title: ".NET Core での単体テスト"
description: "単体テストがさらに容易になりました。 .NET Core と .NET Standard プロジェクトでの単体テストの使用方法をご覧ください。"
keywords: ".NET, .NET Core, .NET Standard, 単体テスト"
author: ardalis
ms.author: wiwagn
ms.date: 08/30/2017
ms.topic: article
ms.prod: .net-core
ms.devlang: dotnet
ms.assetid: 815ac74c-4bd9-4a94-a87c-78288b27c0e2
ms.openlocfilehash: 9f6a70598f3a0c0e3f479a25171e1deb6abffa33
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/18/2017
---
# <a name="unit-testing-in-net-core-and-net-standard"></a><span data-ttu-id="8a8f5-105">.NET Core と .NET Standard の単体テスト</span><span class="sxs-lookup"><span data-stu-id="8a8f5-105">Unit Testing in .NET Core and .NET Standard</span></span>

<span data-ttu-id="8a8f5-106">.NET Core は、アプリケーションの単体テストを従来よりも簡単に作成できるように、テストの容易性を考慮して設計されています。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-106">.NET Core has been designed with testability in mind, so that creating unit tests for your applications is easier than ever before.</span></span> <span data-ttu-id="8a8f5-107">この記事では、単体テスト (およびその他の種類のテストとの違い) について簡単に紹介します。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-107">This article briefly introduces unit tests (and how they differ from other kinds of tests).</span></span> <span data-ttu-id="8a8f5-108">リンクされたリソースでは、テスト プロジェクトをソリューションに追加してから、コマンド ラインまたは Visual Studio を使用して単体テストを実行する方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-108">Linked resources demonstrate how to add a test project to your solution and then run unit tests using either the command line or Visual Studio.</span></span>

<span data-ttu-id="8a8f5-109">.NET Core 2.0 は [.NET Standard 2.0](../../standard/net-standard.md) をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-109">.NET Core 2.0 supports [.NET Standard 2.0](../../standard/net-standard.md).</span></span> <span data-ttu-id="8a8f5-110">このセクションで単体テストの説明に使用するライブラリは .NET Standard に依存しており、他のプロジェクト タイプでも機能します。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-110">The libraries used to demonstrate unit testing in this section rely on .NET Standard and will work in other project types as well.</span></span>

<span data-ttu-id="8a8f5-111">.NET Core 2.0 以降では、Visual Basic 、F# および C# 用の単体テスト プロジェクト テンプレートが用意されています。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-111">Beginning with .NET Core 2.0, there are unit test project templates for Visual Basic and F# as well as C#.</span></span>

## <a name="getting-started-with-testing"></a><span data-ttu-id="8a8f5-112">テストの概要</span><span class="sxs-lookup"><span data-stu-id="8a8f5-112">Getting Started with Testing</span></span>

<span data-ttu-id="8a8f5-113">自動テストのスイートを備えることは、ソフトウェア アプリケーションが作成者の意図どおりに動作することを確認する最良の方法の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-113">Having a suite of automated tests is one of the best ways to ensure a software application does what its authors intended it to do.</span></span> <span data-ttu-id="8a8f5-114">ソフトウェア アプリケーション用のテストには、統合テスト、Web テスト、ロード テストなど、さまざまな種類があります。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-114">There are different kinds of tests for software applications, including integration tests, web tests, load tests, and others.</span></span> <span data-ttu-id="8a8f5-115">最下位レベルには、個々のソフトウェア コンポーネントまたはメソッドをテストする単体テストがあります。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-115">Unit tests that test individual software components or methods are the lowest level tests.</span></span> <span data-ttu-id="8a8f5-116">単体テストでは、開発者のコントロール内のコードのみをテストし、データベース、ファイル システム、ネットワーク リソースなどのインフラストラクチャ上の問題はテストしません。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-116">Unit tests should only test code within the developer’s control, and should not test infrastructure concerns, like databases, file systems, or network resources.</span></span> <span data-ttu-id="8a8f5-117">単体テストは、[テスト駆動開発 (TDD)](http://deviq.com/test-driven-development/) を使用して記述することも、既存のコードに追加してその正確性を確認することもできます。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-117">Unit tests may be written using [Test Driven Development (TDD)](http://deviq.com/test-driven-development/), or they can be added to existing code to confirm its correctness.</span></span> <span data-ttu-id="8a8f5-118">いずれの場合にも、プロジェクトの共有コード リポジトリに変更をプッシュする前に数百もの単体テストを実行できることが理想的なため、単体テストは小規模で高速、かつ適切な名前が付けられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-118">In either case, they should be small, well-named, and fast, since ideally you want to be able to run hundreds of them before pushing your changes into the project’s shared code repository.</span></span>

> [!NOTE]
> <span data-ttu-id="8a8f5-119">多くの場合、開発者はテストのクラスやメソッドに適した名前を考え出すのに苦心します。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-119">Developers often struggle with coming up with good names for their test classes and methods.</span></span> <span data-ttu-id="8a8f5-120">開始点として、ASP.NET 製品チームは[これらの規則](https://github.com/aspnet/Home/wiki/Engineering-guidelines#unit-tests-and-functional-tests)に従います。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-120">As a starting point, the ASP.NET product team follows [these conventions](https://github.com/aspnet/Home/wiki/Engineering-guidelines#unit-tests-and-functional-tests).</span></span>

<span data-ttu-id="8a8f5-121">単体テストを記述するときは、インフラストラクチャに対する依存関係を誤って導入しないように注意してください。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-121">When writing unit tests, be careful you don’t accidentally introduce dependencies on infrastructure.</span></span> <span data-ttu-id="8a8f5-122">これらを導入すると、テストが低速で不安定になるので、統合テスト用に残しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-122">These tend to make tests slower and more brittle, and thus should be reserved for integration tests.</span></span> <span data-ttu-id="8a8f5-123">アプリケーション コードでこれらの非表示の依存関係を回避するには、[明示的な依存関係の原則](http://deviq.com/explicit-dependencies-principle/)に従い、[依存関係の挿入](/aspnet/core/fundamentals/dependency-injection)を使用して、フレームワークに依存関係を要求します。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-123">You can avoid these hidden dependencies in your application code by following the [Explicit Dependencies Principle](http://deviq.com/explicit-dependencies-principle/) and using [Dependency Injection](/aspnet/core/fundamentals/dependency-injection) to request your dependencies from the framework.</span></span> <span data-ttu-id="8a8f5-124">また、統合テストとは別個のプロジェクト内に単体テストを保持し、単体テスト プロジェクトがインフラストラクチャ パッケージへの参照または依存関係を確実に含まないようにできます。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-124">You can also keep your unit tests in a separate project from your integration tests, and ensure your unit test project doesn’t have references to or dependencies on infrastructure packages.</span></span>

<span data-ttu-id="8a8f5-125">.NET Core プロジェクトでの単体テストの詳細については、次を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-125">Learn more about unit testing in .NET Core projects:</span></span>

<span data-ttu-id="8a8f5-126">.NET Core の単体テスト プロジェクトは [C#](../../csharp/index.md)、[F#](../../fsharp/index.md)、[Visual Basic](../../visual-basic/index.md) でサポートされています。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-126">Unit Test projects for .NET Core are supported for [C#](../../csharp/index.md), [F#](../../fsharp/index.md) and [Visual Basic](../../visual-basic/index.md).</span></span> <span data-ttu-id="8a8f5-127">また、[xUnit](http://xunit.github.io) か [MSTest](https://github.com/Microsoft/vstest-docs) を選択することもできます。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-127">You can also choose between [xUnit](http://xunit.github.io) and [MSTest](https://github.com/Microsoft/vstest-docs).</span></span>

<span data-ttu-id="8a8f5-128">これらの組み合わせについては以下のチュートリアルで確認できます。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-128">You can read about those combinations in these walkthroughs:</span></span>

* <span data-ttu-id="8a8f5-129">[*XUnit* と *C#* を使用して .NET Core CLI で単体テストを作成する](unit-testing-with-dotnet-test.md)。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-129">Create unit tests using [*XUnit* and *C#* with the .NET Core CLI](unit-testing-with-dotnet-test.md).</span></span>
* <span data-ttu-id="8a8f5-130">[*MSTest* と *C#* を使用して .NET Core CLI で単体テストを作成する](unit-testing-with-mstest.md)。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-130">Create unit tests using [*MSTest* and *C#* with the .NET Core CLI](unit-testing-with-mstest.md).</span></span>
* <span data-ttu-id="8a8f5-131">[*XUnit* と *F#* を使用して .NET Core CLI で単体テストを作成する](unit-testing-fsharp-with-dotnet-test.md)。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-131">Create unit tests using [*XUnit* and *F#* with the .NET Core CLI](unit-testing-fsharp-with-dotnet-test.md).</span></span>
* <span data-ttu-id="8a8f5-132">[*MSTest* と *F#* を使用して .NET Core CLI で単体テストを作成する](unit-testing-fsharp-with-mstest.md)。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-132">Create unit tests using [*MSTest* and *F#* with the .NET Core CLI](unit-testing-fsharp-with-mstest.md).</span></span>
* <span data-ttu-id="8a8f5-133">[*XUnit* と *Visual Basic* を使用して .NET Core CLI で単体テストを作成する](unit-testing-visual-basic-with-dotnet-test.md)。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-133">Create unit tests using [*XUnit* and *Visual Basic* with the .NET Core CLI](unit-testing-visual-basic-with-dotnet-test.md).</span></span>
* <span data-ttu-id="8a8f5-134">[*MSTest* と *Visual Basic* を使用して .NET Core CLI で単体テストを作成する](unit-testing-visual-basic-with-mstest.md)。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-134">Create unit tests using [*MSTest* and *Visual Basic* with the .NET Core CLI](unit-testing-visual-basic-with-mstest.md).</span></span>

<span data-ttu-id="8a8f5-135">使用するクラス ライブラリと単体テスト ライブラリには、さまざまな言語を選択できます。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-135">You can choose different languages for your class libraries and your unit test libraries.</span></span> <span data-ttu-id="8a8f5-136">先述のチュートリアルをうまく組み合わせることで、使用方法を学習できます。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-136">You can learn how by mixing and matching the walkthroughs referenced above.</span></span>

* <span data-ttu-id="8a8f5-137">Visual Studio を使用する場合は、[.NET Core での Live Unit Testing](/visualstudio/test/live-unit-testing) に関するページをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-137">If you are using Visual Studio, just see [Live Unit Testing in .NET Core](/visualstudio/test/live-unit-testing)</span></span>
* <span data-ttu-id="8a8f5-138">選択的単体テストのフィルター処理の使用方法に関する詳細と例については、「[選択的単体テストの実行](selective-unit-tests.md)」のページ、または [Visual Studio を使用したテストの組み込みと除外](/visualstudio/test/live-unit-testing#including-and-excluding-test-projects-and-test-methods)に関するトピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-138">For additional information and examples on how to use selective unit test filtering, see [Running selective unit tests](selective-unit-tests.md), or [including and excluding tests with Visual Studio](/visualstudio/test/live-unit-testing#including-and-excluding-test-projects-and-test-methods).</span></span>
* <span data-ttu-id="8a8f5-139">XUnit チームは、書き込みが [.NET Core および Visual Studio で xUnit を使用する方法](http://xunit.github.io/docs/getting-started-dotnet-core.html)を示すチュートリアルを作成しました。</span><span class="sxs-lookup"><span data-stu-id="8a8f5-139">The XUnit team has written a tutorial that shows [how to use xUnit with .NET Core and Visual Studio](http://xunit.github.io/docs/getting-started-dotnet-core.html).</span></span>
