---
title: ".NET Core の配布パッケージ"
description: ".NET Core を配布用にパッケージ化、名前付け、およびバージョン管理する方法について説明します。"
keywords: ".NET, .NET Core, ソース, ビルド"
author: bleroy
ms.author: mairaw
ms.date: 06/28/2017
ms.topic: article
ms.prod: .net-core
ms.devlang: dotnet
ms.assetid: 71b9d722-c5a8-4271-9ce1-d87e7ae2494d
ms.workload: dotnetcore
ms.openlocfilehash: 9f5cd2f7c4fec553dfdfaf1765663b6896b3061d
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/23/2017
---
# <a name="net-core-distribution-packaging"></a>.NET Core の配布パッケージ

.NET Core はますます多くのプラットフォームで使用できるようになってきているため、.NET Core をパッケージ化し、名前を付け、バージョン管理する方法を知っていると便利です。 そうすることで、パッケージの管理者は、ユーザーの .NET の実行環境に左右されることなく一貫した体験が保証されるようにサポートできます。

## <a name="net-core-components"></a>.NET Core コンポーネント

.NET core は、パッケージ化が必要な 3 つの主要部から構成されています。

1. **ホスト** (別名 "muxer (マルチプレクサー)") には 2 つの異なるロールがあります。アプリケーションを起動するランタイムのアクティブ化と、コマンドをディスパッチする SDK のアクティブ化です。 ホストは、ネイティブの実行可能ファイル (`dotnet.exe`) とその対応するポリシー ライブラリ (`host/fxr` にインストールされています) です。 [`dotnet/core-setup`](https://github.com/dotnet/core-setup/) リポジトリ内のコードからビルドされます。 厳密な要件ではありませんが、通常、特定のマシンに存在するホストは 1 つのみです。
2. **フレームワーク**は、ランタイムと対応するマネージ ライブラリで構成されます。 フレームワークは、アプリケーションの一部としてインストールされる場合と、複数のアプリケーションで再利用可能な中心となる場所に、共有フレームワークとしてインストールされる場合があります。 特定のマシンにインストールできる共有フレームワークの数に制限はありません。 共有フレームワークは `shared/Microsoft.NETCore.App/<version>` にあります。 ホストは、パッチ バージョン間でロール フォワードされます。 アプリケーションの対象が `Microsoft.NETCore.App` 1.0.0 で、1.0.4 のみが存在する場合、アプリケーションは 1.0.4 に対して起動します。
3. **SDK** (別名 "the tooling (ツール)") は、.NET Core のライブラリやアプリケーションを記述およびビルドするために使用できるマネージ ツールのセットです。 SDK には、CLI、MSBuild、関連するビルド タスクおよびターゲット、NuGet、新しいプロジェクト テンプレートなどが含まれています。1 つのマシンに複数の SDK を設定できますが (たとえば、明示的に以前のバージョンを必要とするプロジェクトを構築する場合など)、最新リリースのツールを使用することをお勧めします。

## <a name="recommended-package-names"></a>推奨されるパッケージ名

次のガイダンスは、推奨するパッケージ名についてです。 パッケージ管理者は、さまざまな理由 (対象とする特定の配布では慣習が異なるなど) から分岐を選択することがあります。

### <a name="minimum-package-set"></a>最小パッケージ セット

* `dotnet-runtime-[major].[minor]`: 指定したバージョンの共有フレームワーク (パッケージ マネージャーでは、指定したメジャーとマイナーの組み合わせからなる最新パッチ バージョンのみ使用可能)。 **依存関係**: `dotnet-host`
* `dotnet-sdk`: 最新の SDK **依存関係**: 最新の `dotnet-sdk-[major].[minor]`
* `dotnet-sdk-[major].[minor]`: 指定したバージョンの SDK 指定するバージョンは、ユーザーが共有フレームワークに SDK を簡単に関連付けられるように、同梱する共有フレームワークの中で最も高いバージョンを含むものにします。 **依存関係**: `dotnet-host`、1 つまたは複数の `dotnet-runtime-[major].[minor]` (ランタイムのうちの 1 つは SDK コード自体で使用され、それ以外はユーザーの構築および実行のためにこの場所にあります)。
* `dotnet-host`: 最新のホスト

#### <a name="preview-versions"></a>プレビュー バージョン

パッケージ管理者は、共有フレームワークと SDK のプレビュー バージョンを含めるという選択もできます。 それらはバージョン管理されない `dotnet-sdk` パッケージに含めるべきではありませんが、名前のメジャーおよびマイナー バージョン セクションにプレビュー マーカーを追加して、バージョン管理されたパッケージとしてリリースできます。 たとえば、`dotnet-sdk-2.0-preview-final` のようなパッケージが可能です。

### <a name="optional-additional-packages"></a>オプションの追加パッケージ

管理者は、次のような追加パッケージの提供を選ぶこともできます。

* `dotnet-lts`: 共有フレームワークの最新の長期サポート (LTS) バージョン。 [LTS および最新のリリース トレイン](~/docs/core/versions/lts-current.md)は、.NET Core がリリースされるさまざまな周期に対応しています。 ユーザーは更新の頻度に基づいて、採用するトレインを選択できます。 これはサポート レベルにも関連する概念であるため、検討しているディストリビューションによっては、有効な場合もあれば無効な場合があります。

## <a name="disk-layout"></a>ディスク レイアウト

.NET Core パッケージをインストールするときの、ディスクのインストール先における相対的な配置。
`dotnet.exe` ホストは、`dotnet-sdk` SDK パッケージのバージョン管理されたコンテンツと `dotnet-runtime` 共有フレームワーク パッケージを含む `sdk` および `shared` フォルダーのそばに配置する必要があります。

パッケージ内のファイルとディレクトリのディスク レイアウトはバージョン管理されます。 つまり、最新の `dotnet-runtime` に更新すると、新しいバージョンが以前のバージョンと共存してインストールされます。これにより、パッケージの更新によって既存のアプリケーションが壊れる可能性が低くなります。 パッケージの更新では、以前のバージョンは削除されません。

## <a name="update-policies"></a>ポリシーの更新

`update` が実行されると、各パッケージの動作は次のようになります。

* `dotnet-runtime-[major].[minor]`: 新しいパッチ バージョンでパッケージを更新しますが、新しいマイナーまたはメジャー バージョンは別のパッケージとなります。
* `dotnet-sdk`: `update` がメジャー、マイナー、およびパッチ バージョンをロール フォワードします。
* `dotnet-sdk-[major].[minor]`: 新しいパッチ バージョンでパッケージを更新しますが、新しいマイナーまたはメジャー バージョンは別のパッケージとなります。
* `dotnet-lts`: `update` がメジャー、マイナー、およびパッチ バージョンをロール フォワードします。

このトピックでは .NET Core のパッケージ化の推奨事項を示しましたが、各ディストリビューションで提供するバージョンと時期は、自由に選択できます。 たとえば、最新であることよりも安定性を重視するディストリビューションでは、LTS リリース トレインのあるバージョンのみをリリースするように選択できます。