---
ms.openlocfilehash: 140a9044b553a008112af93efb8eeba2bf3b07cb
ms.sourcegitcommit: 1e7ac70be1b4d89708c0d9552897515f2cbf52c4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/24/2019
ms.locfileid: "68440274"
---
### <a name="accessibility-improvements-in-windows-forms-controls-for-net-48"></a><span data-ttu-id="eb797-101">.NET 4.8 の Windows フォーム コントロールでのアクセシビリティの改善</span><span class="sxs-lookup"><span data-stu-id="eb797-101">Accessibility improvements in Windows Forms controls for .NET 4.8</span></span>

|   |   |
|---|---|
|<span data-ttu-id="eb797-102">説明</span><span class="sxs-lookup"><span data-stu-id="eb797-102">Details</span></span>|<span data-ttu-id="eb797-103">Windows フォーム フレームワークでは引き続き、アクセシビリティ テクノロジでの動作が改善されており、Windows フォームのお客様のサポートが向上しています。</span><span class="sxs-lookup"><span data-stu-id="eb797-103">The Windows Forms Framework is continuing to improve how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="eb797-104">次のような点が変更されます。</span><span class="sxs-lookup"><span data-stu-id="eb797-104">These include the following changes:</span></span><ul><li><span data-ttu-id="eb797-105">ハイ コントラスト モード中の表示が向上する変更。</span><span class="sxs-lookup"><span data-stu-id="eb797-105">Changes to improve display during High Contrast mode.</span></span></li><li><span data-ttu-id="eb797-106">ナレーターとのやり取りの変更。</span><span class="sxs-lookup"><span data-stu-id="eb797-106">Changes to interaction with Narrator.</span></span></li><li><span data-ttu-id="eb797-107">アクセス可能な階層の変更 (UI オートメーション ツリー間の移動の改善)。</span><span class="sxs-lookup"><span data-stu-id="eb797-107">Changes in the Accessible hierarchy (improving navigation through the UI Automation tree).</span></span></li></ul>|
|<span data-ttu-id="eb797-108">提案される解決策</span><span class="sxs-lookup"><span data-stu-id="eb797-108">Suggestion</span></span>|<span data-ttu-id="eb797-109"><strong>これらの変更を選択する方法と選択しない方法</strong> アプリケーションでこれらの変更を利用するには、.NET Framework 4.8 で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eb797-109"><strong>How to opt in or out of these changes</strong>In order for the application to benefit from these changes, it must run on the .NET Framework 4.8.</span></span> <span data-ttu-id="eb797-110">アプリケーションでは、次のいずれかの方法でこれらの変更を選択できます。</span><span class="sxs-lookup"><span data-stu-id="eb797-110">The application can opt in into these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="eb797-111">.NET Framework 4.8 をターゲットとして再コンパイルします。</span><span class="sxs-lookup"><span data-stu-id="eb797-111">It is recompiled to target the .NET Framework 4.8.</span></span> <span data-ttu-id="eb797-112">.NET Framework 4.8 をターゲットとする Windows フォーム アプリケーションでは、これらのアクセシビリティの変更が既定で有効になります。</span><span class="sxs-lookup"><span data-stu-id="eb797-112">These accessibility changes are enabled by default on Windows Forms applications that target the .NET Framework 4.8.</span></span></li><li><span data-ttu-id="eb797-113">.NET Framework 4.7.2 以前のバージョンをターゲットとし、下の例のように、アプリ構成ファイルの <code>&lt;runtime&gt;</code> セクションに次の [AppContext スイッチ](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element)を追加し、それを <code>false</code> に設定することで、以前のアクセシビリティ動作を選択しないようにします。</span><span class="sxs-lookup"><span data-stu-id="eb797-113">It targets the .NET Framework 4.7.2 or earlier version and opts out of the legacy accessibility behaviors by adding the following [AppContext switch](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) to the <code>&lt;runtime&gt;</code> section of the app config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false;Switch.UseLegacyAccessibilityFeatures.3=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><span data-ttu-id="eb797-114">.NET Framework 4.8 で追加されたアクセシビリティ機能を選択するには、.NET Framework 4.7.1 と 4.7.2 のアクセシビリティ機能も選択する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="eb797-114">Note that to opt in to the accessibility features added in .NET Framework 4.8, you must also opt in to accessibility features of .NET Framework 4.7.1 and 4.7.2 as well.</span></span> <span data-ttu-id="eb797-115">.NET Framework 4.8 をターゲットとするアプリケーションで以前のアクセシビリティ動作を残す場合、この AppContext スイッチを明示的に <code>true</code> に設定することで、以前のアクセシビリティ機能の使用を選択できます。キーボード ツールヒントの呼び出しサポートを有効にするには、<code>Switch.System.Windows.Forms.UseLegacyToolTipDisplay=false</code> 行を AppContextSwitchOverrides 値に追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="eb797-115">Applications that target the .NET Framework 4.8 and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to <code>true</code>.Enabling the keyboard ToolTip invocation support requires adding the <code>Switch.System.Windows.Forms.UseLegacyToolTipDisplay=false</code> line to the AppContextSwitchOverrides value:</span></span><pre><code class="lang-xml">&#39;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false;Switch.UseLegacyAccessibilityFeatures.3=false;Switch.System.Windows.Forms.UseLegacyToolTipDisplay=false&quot; /&gt;&#39;&#13;&#10;</code></pre><span data-ttu-id="eb797-116">この機能を有効にするには、.NET Framework 4.7.1 から 4.8 の前述のアクセシビリティ機能を選択する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="eb797-116">Note that enabling this feature requires opting in to the aforementioned accessibility features of .NET Framework 4.7.1 - 4.8.</span></span> <span data-ttu-id="eb797-117">また、どのアクセシビリティ機能も選択されていないが、ツールヒントに機能が選択されていることが示される場合は、これらの機能への初回アクセス時に、ランタイムの <xref:System.NotSupportedException> がスローされます。</span><span class="sxs-lookup"><span data-stu-id="eb797-117">Also, if any of the accessibility features are not opted in but the tooltip display feature is opted in, a runtime <xref:System.NotSupportedException> will be thrown on the first access to these features.</span></span> <span data-ttu-id="eb797-118">例外メッセージには、キーボードのツールヒントではレベル 3 のアクセシビリティ機能の強化を有効にする必要があることが示されます。<strong>ハイ コントラスト テーマでの OS で定義された色の使用</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-118">The exception message indicates that keyboard ToolTips require accessibility improvements of level 3 to be enabled.<strong>Use of OS-defined colors in High Contrast themes</strong></span></span><ul><li><span data-ttu-id="eb797-119">ハイ コントラストのテーマが改善されました。</span><span class="sxs-lookup"><span data-stu-id="eb797-119">Improved high-contrast themes.</span></span></li></ul><span data-ttu-id="eb797-120"><strong>ナレーター サポートが改善されました</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-120"><strong>Improved Narrator support</strong></span></span><ul><li><span data-ttu-id="eb797-121">ナレーターで、<xref:System.Windows.Forms.DataGridViewCell> のアクセス可能な名前を読み上げるときに、<xref:System.Windows.Forms.DataGridViewColumn> の並べ替えの方向を読み上げるようになりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-121">Narrator now announces the sort direction of the <xref:System.Windows.Forms.DataGridViewColumn> when announcing an accessible name of a <xref:System.Windows.Forms.DataGridViewCell>.</span></span></li></ul><span data-ttu-id="eb797-122"><strong>CheckedListBox アクセシビリティ サポートの改善</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-122"><strong>Improved CheckedListBox Accessibility support</strong></span></span><ul><li><span data-ttu-id="eb797-123"><xref:System.Windows.Forms.CheckedListBox> コントロールのナレーター サポートが改善されました。</span><span class="sxs-lookup"><span data-stu-id="eb797-123">Improved Narrator support for the <xref:System.Windows.Forms.CheckedListBox> control.</span></span> <span data-ttu-id="eb797-124">キーボードを使用して <xref:System.Windows.Forms.CheckedListBox> コントロールに移動するときに、ナレーターでは <xref:System.Windows.Forms.CheckedListBox> 項目にフォーカスし、それを読み上げます。</span><span class="sxs-lookup"><span data-stu-id="eb797-124">When navigating to the <xref:System.Windows.Forms.CheckedListBox> control using the keyboard, Narrator focuses the <xref:System.Windows.Forms.CheckedListBox> item and announces it.</span></span></li><li><span data-ttu-id="eb797-125">空の CheckedListBox コントロールでは、コントロールがフォーカスされたときに、仮想の最初の項目に対してフォーカスを示す四角形が描画されるようになりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-125">An empty CheckedListBox control now has a focus rectangle drawn for a virtual first item when the control becomes focused.</span></span></li></ul><span data-ttu-id="eb797-126"><strong>ComboBox アクセシビリティ サポートの改善</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-126"><strong>Improved ComboBox Accessibility support</strong></span></span><ul><li><span data-ttu-id="eb797-127">UI オートメーション通知やその他の UI オートメーション機能を使用できる、<xref:System.Windows.Forms.ComboBox> コントロールの UI オートメーション サポートが有効になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-127">Enabled UI Automation support for the <xref:System.Windows.Forms.ComboBox> control, with the ability to use UI Automation notifications and other UI Automation features.</span></span></li></ul><span data-ttu-id="eb797-128"><strong>DataGridView のアクセシビリティ サポートの向上</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-128"><strong>Improved DataGridView Accessibility support</strong></span></span><ul><li><span data-ttu-id="eb797-129">UI オートメーション通知やその他の UI オートメーション機能を使用できる、<xref:System.Windows.Forms.DataGridView> コントロールの UI オートメーション サポートが有効になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-129">Enabled UI Automation support for <xref:System.Windows.Forms.DataGridView> control with ability to use UI Automation notifications and other UI Automation features.</span></span></li><li><span data-ttu-id="eb797-130"><xref:System.Windows.Forms.DataGridViewComboBoxEditingControl> または <xref:System.Windows.Forms.DataGridViewTextBoxEditingControl> に対応する UI オートメーション要素が、対応する編集セルの子になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-130">The UI Automation element which corresponds to the <xref:System.Windows.Forms.DataGridViewComboBoxEditingControl> or <xref:System.Windows.Forms.DataGridViewTextBoxEditingControl> is now a child of corresponding editing cell.</span></span></li></ul><span data-ttu-id="eb797-131"><strong>LinkLabel アクセシビリティ サポートの改善</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-131"><strong>Improved LinkLabel Accessibility support</strong></span></span><ul><li><span data-ttu-id="eb797-132"><xref:System.Windows.Forms.LinkLabel> コントロールのアクセシビリティが改善されました。対応する <xref:System.Windows.Forms.LinkLabel> コントロールが無効になっている場合、ナレーターではリンクの無効状態が読み上げられます。</span><span class="sxs-lookup"><span data-stu-id="eb797-132">Improved <xref:System.Windows.Forms.LinkLabel> control accessibility: Narrator announces the disabled state for the link if the corresponding <xref:System.Windows.Forms.LinkLabel> control is disabled.</span></span></li></ul><span data-ttu-id="eb797-133"><strong>ProgressBar アクセシビリティ サポートの改善</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-133"><strong>Improved ProgressBar Accessibility support</strong></span></span><ul><li><span data-ttu-id="eb797-134">UI オートメーション通知やその他の UI オートメーション機能を使用できる、<xref:System.Windows.Forms.ProgressBar> コントロールの UI オートメーション サポートが有効になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-134">Enabled UI Automation support for the <xref:System.Windows.Forms.ProgressBar> control with the ability to use UI Automation notifications and other UI Automation features.</span></span> <span data-ttu-id="eb797-135">開発者は、進行状況を示すためにナレーターで読み上げることができる、UI オートメーション通知を使用できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-135">Developers are now able to use UI Automation notifications which Narrator can announce to indicate progress.</span></span></li></ul><span data-ttu-id="eb797-136">UI オートメーション通知イベントを含む、UI オートメーション イベントの概要については、「[UI Automation Events Overview](https://docs.microsoft.com/windows/desktop/WinAuto/uiauto-eventsoverview)」 (UI オートメーション イベントの概要) を参照してください。<strong>PropertyGrid アクセシビリティ サポートの改善</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-136">For an overview of UI automation events overview, including UI automation notification events, see the [UI Automation Events Overview](https://docs.microsoft.com/windows/desktop/WinAuto/uiauto-eventsoverview).<strong>Improved PropertyGrid Accessibility support</strong></span></span><ul><li><span data-ttu-id="eb797-137">UI オートメーション通知やその他の UI オートメーション機能を使用できる、<xref:System.Windows.Forms.PropertyGrid> コントロールの UI オートメーション サポートが有効になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-137">Enabled UI Automation support for the <xref:System.Windows.Forms.PropertyGrid> control, with the ability to use UI Automation notifications and other UI Automation features.</span></span></li><li><span data-ttu-id="eb797-138">現在編集されているプロパティに対応する UI オートメーション要素が、対応するプロパティ項目の UI オートメーション要素の子になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-138">The UI Automation element which corresponds to the currently edited property is now a child of the corresponding property item UI Automation element.</span></span></li><li><span data-ttu-id="eb797-139">親の <xref:System.Windows.Forms.PropertyGrid> コントロールがカテゴリ ビューに設定されている場合、UI オートメーション プロパティ項目の要素は、対応するカテゴリ要素の子になります。</span><span class="sxs-lookup"><span data-stu-id="eb797-139">The UI Automation property item element is now a child of the corresponding category element if the parent <xref:System.Windows.Forms.PropertyGrid> control is set to category view.</span></span></li></ul><span data-ttu-id="eb797-140"><strong>ToolStrip サポートの改善</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-140"><strong>Improved ToolStrip support</strong></span></span><ul><li><span data-ttu-id="eb797-141">UI オートメーション通知やその他の UI オートメーション機能を使用できる、<xref:System.Windows.Forms.ToolStrip> コントロールの UI オートメーション サポートが有効になりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-141">Enabled UI Automation support for the <xref:System.Windows.Forms.ToolStrip> control, with the ability to use UI Automation notifications and other UI Automation features.</span></span></li><li><span data-ttu-id="eb797-142"><xref:System.Windows.Forms.ToolStrip> 項目間の移動が改善されました。</span><span class="sxs-lookup"><span data-stu-id="eb797-142">Improved navigation through <xref:System.Windows.Forms.ToolStrip> items.</span></span></li><li><span data-ttu-id="eb797-143">項目モードでは、ナレーターのフォーカスは非表示にならず、非表示項目には移動しません。</span><span class="sxs-lookup"><span data-stu-id="eb797-143">In items mode, Narrator focus does not disappear and does not go to hidden items.</span></span></li></ul><span data-ttu-id="eb797-144"><strong>視覚的な手掛かりの向上</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-144"><strong>Improved Visual cues</strong></span></span><ul><li><span data-ttu-id="eb797-145">空の <xref:System.Windows.Forms.CheckedListBox> コントロールでは、フォーカスを受け取ったときに、フォーカス インジケーターが表示されるようになりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-145">An empty <xref:System.Windows.Forms.CheckedListBox> control now displays a focus indicator when it receives focus.</span></span></li></ul><span data-ttu-id="eb797-146">メモ:UI オートメーション サポートは、実行時のコントロールでは有効になりますが、設計時には使用されません。</span><span class="sxs-lookup"><span data-stu-id="eb797-146">Note: UI automation support is enabled for controls in runtime but is not used in design time.</span></span> <span data-ttu-id="eb797-147">UI オートメーションの概要については、「[UI オートメーションの概要](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="eb797-147">For an overview of UI automation, see the [UI Automation Overview](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).</span></span></p><span data-ttu-id="eb797-148"><strong>キーボードでのコントロールのツールヒントの呼び出し</strong></span><span class="sxs-lookup"><span data-stu-id="eb797-148"><strong>Invoking controls' ToolTips with a keyboard</strong></span></span><ul><li><span data-ttu-id="eb797-149">キーボードを使用してコントロールにフォーカスすることで、コントロール ツールヒントを呼び出せるようになりました。</span><span class="sxs-lookup"><span data-stu-id="eb797-149">Control tooltip can now be invoked by focusing the control with keyboard.</span></span> <span data-ttu-id="eb797-150">この機能は、アプリケーションに対して明示的に有効にする必要があります (「<strong>&quot;これらの変更を選択する方法と選択しない方法&quot;</strong>」セクションを参照)</span><span class="sxs-lookup"><span data-stu-id="eb797-150">This feature needs to be enabled explicitly for the application (see section <strong>&quot;How to opt in or out of these changes&quot;</strong>)</span></span></li></ul>|
|<span data-ttu-id="eb797-151">スコープ</span><span class="sxs-lookup"><span data-stu-id="eb797-151">Scope</span></span>|<span data-ttu-id="eb797-152">Major</span><span class="sxs-lookup"><span data-stu-id="eb797-152">Major</span></span>|
|<span data-ttu-id="eb797-153">Version</span><span class="sxs-lookup"><span data-stu-id="eb797-153">Version</span></span>|<span data-ttu-id="eb797-154">4.8</span><span class="sxs-lookup"><span data-stu-id="eb797-154">4.8</span></span>|
|<span data-ttu-id="eb797-155">型</span><span class="sxs-lookup"><span data-stu-id="eb797-155">Type</span></span>|<span data-ttu-id="eb797-156">再ターゲット中</span><span class="sxs-lookup"><span data-stu-id="eb797-156">Retargeting</span></span>|
