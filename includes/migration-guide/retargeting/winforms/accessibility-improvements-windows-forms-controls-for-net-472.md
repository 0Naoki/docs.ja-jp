### <a name="accessibility-improvements-in-windows-forms-controls-for-net-472"></a><span data-ttu-id="4aeca-101">.NET 4.7.2 の Windows フォーム コントロールでのアクセシビリティの向上</span><span class="sxs-lookup"><span data-stu-id="4aeca-101">Accessibility improvements in Windows Forms controls for .NET 4.7.2</span></span>

|   |   |
|---|---|
|<span data-ttu-id="4aeca-102">説明</span><span class="sxs-lookup"><span data-stu-id="4aeca-102">Details</span></span>|<span data-ttu-id="4aeca-103">Windows フォーム フレームワークは、アクセシビリティ テクノロジでの動作の向上により、Windows フォームのお客様のサポートが向上しています。</span><span class="sxs-lookup"><span data-stu-id="4aeca-103">Windows Forms Framework is improving how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="4aeca-104">次のような点が変更されます。</span><span class="sxs-lookup"><span data-stu-id="4aeca-104">These include the following changes:</span></span><ul><li><span data-ttu-id="4aeca-105">ハイ コントラスト モード中の表示が向上する変更。</span><span class="sxs-lookup"><span data-stu-id="4aeca-105">Changes to improve display during High Contrast mode.</span></span></li><li><span data-ttu-id="4aeca-106">DataGridView コントロールと MenuStrip コントロールでのキーボード ナビゲーションが向上する変更。</span><span class="sxs-lookup"><span data-stu-id="4aeca-106">Changes to improve the keyboard navigation in the DataGridView and MenuStrip controls.</span></span></li><li><span data-ttu-id="4aeca-107">ナレーターとのやり取りの変更。</span><span class="sxs-lookup"><span data-stu-id="4aeca-107">Changes to interaction with Narrator.</span></span></li></ul> | 
| <span data-ttu-id="4aeca-108">提案される解決策</span><span class="sxs-lookup"><span data-stu-id="4aeca-108">Suggestion</span></span> | <span data-ttu-id="4aeca-109"><strong>以上の変更を選択する方法と選択しない方法</strong> アプリケーションでこれらの変更を利用するには、.NET Framework 4.7.2 以降で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-109"><strong>How to opt in or out of these changes</strong>In order for the application to benefit from these changes, it must run on the .NET Framework 4.7.2 or later.</span></span> <span data-ttu-id="4aeca-110">アプリケーションは、次のいずれかの方法でこれらの変更を利用できます。</span><span class="sxs-lookup"><span data-stu-id="4aeca-110">The application can benefit from these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="4aeca-111">.NET Framework 4.7.2 を対象にして再コンパイルします。</span><span class="sxs-lookup"><span data-stu-id="4aeca-111">It is recompiled to target the .NET Framework 4.7.2.</span></span> <span data-ttu-id="4aeca-112">.NET Framework 4.7.2 以降を対象とする Windows フォーム アプリケーションでは、これらのアクセシビリティの変更が既定で有効になります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-112">These accessibility changes are enabled by default on Windows Forms applications that target the .NET Framework 4.7.2 or later.</span></span></li><li><span data-ttu-id="4aeca-113">.NET Framework 4.7.1 以前を対象にして、下の例のように、app.config ファイルの <code>&lt;runtime&gt;</code> セクションに次の [AppContext スイッチ](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element)を追加し、それを <code>false</code> に設定することで、以前のアクセシビリティ動作を無効にします。</span><span class="sxs-lookup"><span data-stu-id="4aeca-113">It targets the .NET Framework 4.7.1 or earlier version and opts out of the legacy accessibility behaviors by adding the following [AppContext Switch](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) to the <code>&lt;runtime&gt;</code> section of the app config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false;Switch.UseLegacyAccessibilityFeatures.2=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><span data-ttu-id="4aeca-114">.NET Framework 4.7.2 で追加されたアクセシビリティ機能にオプトインするには、.NET Framework 4.7.1 のアクセシビリティ機能にもオプトインする必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="4aeca-114">Note that to opt in to the accessibility features added in .NET Framework 4.7.2, you must also opt in to accessibility features of .NET Framework 4.7.1 as well.</span></span> <span data-ttu-id="4aeca-115">.NET Framework 4.7.2 以降を対象とするアプリケーションで以前のアクセシビリティ動作を残す場合、この AppContext スイッチを明示的に <code>true</code> に設定することで以前のアクセシビリティ機能を選択できます。<strong>ハイ コントラスト テーマでの OS で定義された色の使用</strong></span><span class="sxs-lookup"><span data-stu-id="4aeca-115">Applications that target the .NET Framework 4.7.2 or later and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to <code>true</code>.<strong>Use of OS-defined colors in High Contrast themes</strong></span></span><ul><li><span data-ttu-id="4aeca-116"><xref:System.Windows.Forms.ToolStripDropDownButton> のドロップダウン矢印が、OS で定義されているハイ コントラスト テーマの色を使うようになりました。</span><span class="sxs-lookup"><span data-stu-id="4aeca-116">The drop down arrow of the <xref:System.Windows.Forms.ToolStripDropDownButton> now uses OS-defined colors in High Contrast theme.</span></span></li><li><span data-ttu-id="4aeca-117"><xref:System.Windows.Forms.ButtonBase.FlatStyle> が <xref:System.Windows.Forms.FlatStyle.Flat?displayProperty=nameWithType> または <xref:System.Windows.Forms.FlatStyle.Popup?displayProperty=nameWithType> に設定された <xref:System.Windows.Forms.Button>、<xref:System.Windows.Forms.RadioButton>、<xref:System.Windows.Forms.CheckBox> コントロールは、ハイ コントラスト テーマが選択されているときは OS で定義された色を使用するようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-117"><xref:System.Windows.Forms.Button>, <xref:System.Windows.Forms.RadioButton> and <xref:System.Windows.Forms.CheckBox> controls with <xref:System.Windows.Forms.ButtonBase.FlatStyle> set to <xref:System.Windows.Forms.FlatStyle.Flat?displayProperty=nameWithType> or <xref:System.Windows.Forms.FlatStyle.Popup?displayProperty=nameWithType> now use OS-defined colors in High Contrast theme when selected.</span></span> <span data-ttu-id="4aeca-118">以前は、テキストと背景の色はコントラストが同じで、見分けるのが困難でした。</span><span class="sxs-lookup"><span data-stu-id="4aeca-118">Previously, text and background colors were not contrasting and were hard to read.</span></span></li><li><span data-ttu-id="4aeca-119"><xref:System.Windows.Forms.Control.Enabled> プロパティが <code>false</code> に設定された <xref:System.Windows.Forms.GroupBox> に含まれるコントロールは、OS で定義されているハイ コントラスト テーマの色を使うようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-119">Controls contained within a <xref:System.Windows.Forms.GroupBox> that has its <xref:System.Windows.Forms.Control.Enabled> property set to <code>false</code> will now use OS-defined colors in High Contrast theme.</span></span></li><li><span data-ttu-id="4aeca-120"><xref:System.Windows.Forms.ToolStripButton>、<xref:System.Windows.Forms.ToolStripComboBox>、<xref:System.Windows.Forms.ToolStripDropDownButton> コントロールは、ハイ コントラスト モードでの明度コントラストの比率が高くなりました。</span><span class="sxs-lookup"><span data-stu-id="4aeca-120">The <xref:System.Windows.Forms.ToolStripButton>, <xref:System.Windows.Forms.ToolStripComboBox>, and <xref:System.Windows.Forms.ToolStripDropDownButton> controls have an increased luminosity contrast ratio in High Contrast Mode.</span></span></li><li><span data-ttu-id="4aeca-121"><xref:System.Windows.Forms.DataGridViewLinkCell> は <xref:System.Windows.Forms.DataGridViewLinkCell.LinkColor?displayProperty=nameWithType> プロパティに対し OS で定義されているハイ コントラスト テーマの色を既定で使うようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-121"><xref:System.Windows.Forms.DataGridViewLinkCell> will by default use OS-defined colors in High Contrast mode for the <xref:System.Windows.Forms.DataGridViewLinkCell.LinkColor?displayProperty=nameWithType> property.</span></span></li></ul><span data-ttu-id="4aeca-122">注: Windows 10 では、一部のハイ コントラストのシステム カラーの値が変更されています。</span><span class="sxs-lookup"><span data-stu-id="4aeca-122">NOTE: Windows 10 has changed values for some high contrast system colors.</span></span> <span data-ttu-id="4aeca-123">Windows フォームのフレームワークは、Win32 フレームワークに基づいています。</span><span class="sxs-lookup"><span data-stu-id="4aeca-123">Windows Forms Framework is based on the Win32 framework.</span></span> <span data-ttu-id="4aeca-124">最も快適に利用するためには、最新版の Windows で実行し、テスト アプリケーションに app.manifest ファイルを追加して最新の OS 変更を選択し、次のコードのコメントを解除します。</span><span class="sxs-lookup"><span data-stu-id="4aeca-124">For the best experience, run on the latest version of Windows and opt in to the latest OS changes by adding an app.manifest file in a test application and uncommenting the following code:</span></span><pre><code>&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><span data-ttu-id="4aeca-125"><strong>ナレーター サポートが改善されました</strong></span><span class="sxs-lookup"><span data-stu-id="4aeca-125"><strong>Improved Narrator support</strong></span></span><ul><li><span data-ttu-id="4aeca-126">ナレーターは、<xref:System.Windows.Forms.ToolStripMenuItem> のテキストを読み上げるときに、<xref:System.Windows.Forms.ToolStripMenuItem.ShortcutKeys?displayProperty=nameWithType> プロパティの値を読み上げるようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-126">Narrator now announces the value of the <xref:System.Windows.Forms.ToolStripMenuItem.ShortcutKeys?displayProperty=nameWithType> property when announcing the text of a <xref:System.Windows.Forms.ToolStripMenuItem>.</span></span></li><li><span data-ttu-id="4aeca-127"><xref:System.Windows.Forms.ToolStripMenuItem> の <xref:System.Windows.Forms.Control.Enabled> プロパティが <code>false</code> に設定されている場合、ナレーターはそれを示すようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-127">Narrator now indicates when a <xref:System.Windows.Forms.ToolStripMenuItem> has its <xref:System.Windows.Forms.Control.Enabled> property set to <code>false</code>.</span></span></li><li><span data-ttu-id="4aeca-128">ナレーターは、<xref:System.Windows.Forms.ListView.CheckBoxes?displayProperty=nameWithType> プロパティが <code>true</code> に設定されているとき、チェック ボックスの状態に関するフィードバックを提供するようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-128">Narrator now gives feedback on the state of a check box when the <xref:System.Windows.Forms.ListView.CheckBoxes?displayProperty=nameWithType> property is set to <code>true</code>.</span></span></li><li><span data-ttu-id="4aeca-129">ナレーター スキャン モードのフォーカス順序が、ClickOnce ダウンロード ダイアログ ウィンドウでのコントロールの視覚的な順序と一致するようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-129">Narrator Scan Mode focus order is now consistent with the visual order of the controls on the ClickOnce download dialog window.</span></span></li></ul><span data-ttu-id="4aeca-130"><strong>DataGridView のアクセシビリティ サポートの向上</strong></span><span class="sxs-lookup"><span data-stu-id="4aeca-130"><strong>Improved DataGridView Accessibility support</strong></span></span><ul><li><span data-ttu-id="4aeca-131"><xref:System.Windows.Forms.DataGridView> の行をキーボードを使って並べ替えられるようになります。</span><span class="sxs-lookup"><span data-stu-id="4aeca-131">Rows in a <xref:System.Windows.Forms.DataGridView> can now be sorted using the keyboard.</span></span> <span data-ttu-id="4aeca-132">ユーザーは、F3 キーを使って現在の列で並べ替えることができます。</span><span class="sxs-lookup"><span data-stu-id="4aeca-132">Now a user can use the F3 key in order to sort by the current column.</span></span></li><li><span data-ttu-id="4aeca-133"><xref:System.Windows.Forms.DataGridView.SelectionMode?displayProperty=nameWithType> が <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> に設定されていると、ユーザーが現在の行のセルを Tab で移動するとき、列ヘッダーの色が変わって現在の列を示します。</span><span class="sxs-lookup"><span data-stu-id="4aeca-133">When the <xref:System.Windows.Forms.DataGridView.SelectionMode?displayProperty=nameWithType> is set to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType>, the column header will change color to indicate the current column as the user tabs through the cells in the current row.</span></span></li><li><span data-ttu-id="4aeca-134"><xref:System.Windows.Forms.DataGridViewCell.DataGridViewCellAccessibleObject.Parent?displayProperty=nameWithType> プロパティは、正しい親コントロールを返します。</span><span class="sxs-lookup"><span data-stu-id="4aeca-134">The <xref:System.Windows.Forms.DataGridViewCell.DataGridViewCellAccessibleObject.Parent?displayProperty=nameWithType> property now returns the correct parent control.</span></span></li></ul><span data-ttu-id="4aeca-135"><strong>視覚的な手掛かりの向上</strong></span><span class="sxs-lookup"><span data-stu-id="4aeca-135"><strong>Improved Visual cues</strong></span></span><ul><li><span data-ttu-id="4aeca-136"><xref:System.Windows.Forms.ButtonBase.Text> プロパティが空の <xref:System.Windows.Forms.RadioButton> および <xref:System.Windows.Forms.CheckBox> コントロールは、フォーカスを受け取るとフォーカス インジケーターを表示するようになりました。</span><span class="sxs-lookup"><span data-stu-id="4aeca-136">The <xref:System.Windows.Forms.RadioButton> and <xref:System.Windows.Forms.CheckBox> controls with an empty <xref:System.Windows.Forms.ButtonBase.Text> property will now display a focus indicator when they receive focus.</span></span></li></ul><span data-ttu-id="4aeca-137"><strong>強化されたプロパティ グリッドのサポート</strong></span><span class="sxs-lookup"><span data-stu-id="4aeca-137"><strong>Improved Property Grid Support</strong></span></span><ul><li><span data-ttu-id="4aeca-138"><xref:System.Windows.Forms.PropertyGrid> コントロールの子要素は、PropertyGrid 要素が有効になっている場合にのみ、<xref:System.Windows.Automation.ValuePattern.IsReadOnlyProperty> プロパティに対して <code>true</code> を返すようになりました。</span><span class="sxs-lookup"><span data-stu-id="4aeca-138">The <xref:System.Windows.Forms.PropertyGrid> control child elements now return a <code>true</code> for the  <xref:System.Windows.Automation.ValuePattern.IsReadOnlyProperty> property only when a PropertyGrid element is enabled.</span></span></li><li><span data-ttu-id="4aeca-139"><xref:System.Windows.Forms.PropertyGrid> コントロールの子要素は、PropertyGrid 要素をユーザーが変更できる場合にのみ、<xref:System.Windows.Automation.AutomationElement.IsEnabledProperty> プロパティに対して <code>false</code> を返すようになりました。</span><span class="sxs-lookup"><span data-stu-id="4aeca-139">The <xref:System.Windows.Forms.PropertyGrid> control child elements now return a <code>false</code> for the <xref:System.Windows.Automation.AutomationElement.IsEnabledProperty> property only when a PropertyGrid element can be changed by the user.</span></span></li></ul><span data-ttu-id="4aeca-140">UI オートメーションの概要については、「[UI オートメーションの概要](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview)」を参照してください。<strong>キーボード ナビゲーションの向上</strong></span><span class="sxs-lookup"><span data-stu-id="4aeca-140">For an overview of UI automation, see the [UI Automation Overview](https://docs.microsoft.com/dotnet/framework/ui-automation/ui-automation-overview).<strong>Improved keyboard navigation</strong></span></span><ul><li><span data-ttu-id="4aeca-141"><xref:System.Windows.Forms.ToolStripButton> は、<xref:System.Windows.Forms.ToolStripPanel.TabStop> プロパティが <code>true</code> に設定された <xref:System.Windows.Forms.ToolStripPanel> 内に含まれているときに、フォーカスできるようになりました</span><span class="sxs-lookup"><span data-stu-id="4aeca-141"><xref:System.Windows.Forms.ToolStripButton> now allows focus when contained within a <xref:System.Windows.Forms.ToolStripPanel> that has the <xref:System.Windows.Forms.ToolStripPanel.TabStop> property set to <code>true</code></span></span></li></ul>|
|<span data-ttu-id="4aeca-142">スコープ</span><span class="sxs-lookup"><span data-stu-id="4aeca-142">Scope</span></span>|<span data-ttu-id="4aeca-143">Major</span><span class="sxs-lookup"><span data-stu-id="4aeca-143">Major</span></span>|
|<span data-ttu-id="4aeca-144">Version</span><span class="sxs-lookup"><span data-stu-id="4aeca-144">Version</span></span>|<span data-ttu-id="4aeca-145">4.7.2</span><span class="sxs-lookup"><span data-stu-id="4aeca-145">4.7.2</span></span>|
|<span data-ttu-id="4aeca-146">型</span><span class="sxs-lookup"><span data-stu-id="4aeca-146">Type</span></span>|<span data-ttu-id="4aeca-147">再ターゲット中</span><span class="sxs-lookup"><span data-stu-id="4aeca-147">Retargeting</span></span>|

